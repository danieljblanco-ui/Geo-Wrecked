<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GEO-WRECKED! | GeoBee Trainer</title>
    <script crossorigin src="https://unpkg.com/react@18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #0a0a2e;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel" data-type="module">
import { useState, useEffect, useCallback, useRef } from "react";
const ALL_QUESTIONS = [
// ═══ DIFFICULTY 1: "Warm Up Your Globe" (Easy) ═══
{d:1,cat:"Capitals",q:"What is the capital of Japan?",o:["Tokyo","Osaka","Kyoto","Yokohama"],a:0,
f:"Tokyo's metro area has about 37 million people — the most populous metropolitan area in the world.",
rq:"Tokyo! 37 million people somehow all fitting in one metro area. That's dedication to city living.",
wq:"Nope! It's Tokyo — home to the world's most populous metro area."},
{d:1,cat:"Capitals",q:"What is the capital of France?",o:["Lyon","Marseille","Paris","Nice"],a:2,
f:"Paris is home to about 2.1 million people in the city proper, but the metro area has over 12 million.",
rq:"Paris! The City of Light and the city of correct answers. Well done.",
wq:"Non non non! It's Paris. The Eiffel Tower is literally pointing at the answer."},
{d:1,cat:"Capitals",q:"What is the capital of Australia?",o:["Sydney","Melbourne","Canberra","Brisbane"],a:2,
f:"Canberra was purpose-built as the capital starting in 1913 because Sydney and Melbourne couldn't stop fighting over the title.",
rq:"Canberra! The compromise capital! Built because two cities couldn't share.",
wq:"Classic trap! It's Canberra — built specifically because Sydney and Melbourne couldn't agree."},
{d:1,cat:"Capitals",q:"What is the capital of Canada?",o:["Toronto","Vancouver","Montreal","Ottawa"],a:3,
f:"Ottawa was chosen as the capital by Queen Victoria in 1857, partly because it was on the border of English- and French-speaking regions.",
rq:"Ottawa! Not Toronto, not Montreal. Queen Victoria picked it in 1857.",
wq:"It's Ottawa! Everyone guesses Toronto, but Ottawa has been the capital since 1857."},
{d:1,cat:"Capitals",q:"What is the capital of Brazil?",o:["São Paulo","Rio de Janeiro","Brasília","Salvador"],a:2,
f:"Brasília was built from scratch in the late 1950s and became the capital in 1960. Seen from above, the city is shaped like an airplane.",
rq:"Brasília! Built from nothing in the 1950s and shaped like an airplane from above!",
wq:"It's Brasília! They literally built a new city to be the capital in 1960."},
{d:1,cat:"Capitals",q:"What is the capital of India?",o:["Mumbai","New Delhi","Kolkata","Bangalore"],a:1,
f:"New Delhi was designed by British architects Edwin Lutyens and Herbert Baker and became the capital in 1931, replacing Calcutta (now Kolkata).",
rq:"New Delhi! The planned city that took over from Kolkata as capital in 1931.",
wq:"It's New Delhi! Mumbai is the financial capital, but New Delhi runs the government."},
{d:1,cat:"Capitals",q:"What is the capital of China?",o:["Beijing","Shanghai","Guangzhou","Shenzhen"],a:0,
f:"Beijing means 'Northern Capital' in Mandarin. It has served as the capital of China for most of the last eight centuries.",
rq:"Beijing! 'Northern Capital' in Mandarin. Running the show for 800+ years.",
wq:"It's Beijing! Shanghai is bigger by population, but Beijing is where the government lives."},
{d:1,cat:"Capitals",q:"What is the capital of Egypt?",o:["Alexandria","Luxor","Cairo","Giza"],a:2,
f:"Cairo is the largest city in the Arab world and Africa, with a metro population of about 21 million people.",
rq:"Cairo! The largest city in the Arab world and all of Africa. Size matters in geography.",
wq:"It's Cairo! The largest city in both Africa and the Arab world, right on the Nile."},
{d:1,cat:"Capitals",q:"What is the capital of Germany?",o:["Munich","Hamburg","Frankfurt","Berlin"],a:3,
f:"Berlin was divided into East and West from 1961 to 1989 by the Berlin Wall. It became the reunified capital in 1990.",
rq:"Berlin! Divided by a wall, reunified by history. One of Europe's most dynamic cities.",
wq:"It's Berlin! Frankfurt has the banks, Munich has the beer, but Berlin has the government."},
{d:1,cat:"Capitals",q:"What is the capital of South Korea?",o:["Seoul","Busan","Incheon","Daegu"],a:0,
f:"Seoul is home to roughly half of South Korea's entire population when you include the greater metro area — about 25 million people.",
rq:"Seoul! Half of South Korea basically lives there. That's one popular capital!",
wq:"It's Seoul! About 25 million people in the metro area — half the country!"},
{d:1,cat:"Capitals",q:"What is the capital of Mexico?",o:["Guadalajara","Cancún","Mexico City","Monterrey"],a:2,
f:"Mexico City sits at about 2,240 meters elevation and was built on the ruins of the Aztec capital Tenochtitlan.",
rq:"Mexico City! Built on the Aztec capital Tenochtitlan. History stacked on history!",
wq:"It's Mexico City! Built on top of the ancient Aztec capital Tenochtitlan."},
{d:1,cat:"Capitals",q:"What is the capital of Russia?",o:["St. Petersburg","Novosibirsk","Moscow","Vladivostok"],a:2,
f:"Moscow is the northernmost megacity in the world, with a metro population of about 17 million people.",
rq:"Moscow! The northernmost megacity on Earth with 17 million people.",
wq:"It's Moscow! St. Petersburg was the capital from 1712-1918, but Moscow reclaimed the throne."},
{d:1,cat:"Capitals",q:"What is the capital of Italy?",o:["Milan","Venice","Florence","Rome"],a:3,
f:"Rome was the center of the Roman Empire and has been continuously inhabited for over 2,800 years, making it one of the oldest cities in Europe.",
rq:"Rome! The Eternal City. 2,800 years and still going strong. Now THAT'S staying power.",
wq:"It's Rome! The Eternal City has been a capital for literally thousands of years."},
{d:1,cat:"Capitals",q:"What is the capital of Spain?",o:["Barcelona","Madrid","Seville","Valencia"],a:1,
f:"Madrid is the highest capital city in the European Union at about 650 meters above sea level.",
rq:"Madrid! The highest capital in the EU. It's got altitude AND attitude.",
wq:"It's Madrid! Barcelona gets the tourists, but Madrid gets the government."},
{d:1,cat:"Capitals",q:"What is the capital of the United Kingdom?",o:["Edinburgh","Manchester","London","Birmingham"],a:2,
f:"London has been a major settlement for nearly two millennia, founded as Londinium by the Romans around 43 AD.",
rq:"London! Founded by the Romans as Londinium in 43 AD. Two thousand years of capital energy!",
wq:"It's London! Capital of the UK since... well, since before 'UK' was even a thing."},
{d:1,cat:"Continents",q:"What is the largest continent by area?",o:["Africa","North America","Asia","Europe"],a:2,
f:"Asia covers about 44.58 million square km — roughly 30% of Earth's total land area and 8.7% of its total surface.",
rq:"Asia! 30% of all land on Earth. The continent that said 'go big or go home.'",
wq:"It's Asia! Covering about 30% of all land on Earth. Africa is second."},
{d:1,cat:"Continents",q:"What is the smallest continent by area?",o:["Europe","Antarctica","South America","Australia"],a:3,
f:"Australia covers about 7.69 million square km. It's the only continent that is also a single country.",
rq:"Australia! The only continent that's also a single country. Efficient!",
wq:"It's Australia! The smallest continent AND the only one that's a single country."},
{d:1,cat:"Oceans & Seas",q:"What is the largest ocean on Earth?",o:["Atlantic Ocean","Pacific Ocean","Indian Ocean","Southern Ocean"],a:1,
f:"The Pacific Ocean covers about 165 million square km — larger than all the land on Earth combined.",
rq:"The Pacific! Larger than ALL the land on Earth combined. That's not an ocean, that's a flex!",
wq:"It's the Pacific! So big it's larger than every continent combined. Let that sink in."},
{d:1,cat:"Oceans & Seas",q:"Which ocean lies between the Americas and Europe/Africa?",o:["Atlantic Ocean","Pacific Ocean","Indian Ocean","Arctic Ocean"],a:0,
f:"The Atlantic Ocean is the second largest ocean, covering about 106 million square km. It's named after the Greek god Atlas.",
rq:"The Atlantic! Named after the Greek god Atlas. Second largest and culturally first in line.",
wq:"It's the Atlantic! The ocean that separates — and connects — the Old World and the New."},
{d:1,cat:"Continents",q:"How many continents are there?",o:["5","6","7","8"],a:2,
f:"The seven continents are Africa, Antarctica, Asia, Australia, Europe, North America, and South America. Some models group them differently.",
rq:"Seven! Africa, Antarctica, Asia, Australia, Europe, North America, South America. Geography's magnificent seven!",
wq:"It's 7! Some countries teach 6 or even 5, but the standard model is seven."},
{d:1,cat:"Continents",q:"In which hemisphere is Australia located?",o:["Northern","Southern","It spans both","Western only"],a:1,
f:"Australia lies entirely in the Southern and Eastern Hemispheres. Its seasons are opposite to those in the Northern Hemisphere.",
rq:"Southern Hemisphere! Where December is summer and July is winter. Geography: keeping things interesting.",
wq:"It's the Southern Hemisphere! That's why their seasons are flipped — summer in December!"},
{d:1,cat:"Continents",q:"On which continent is Egypt located?",o:["Africa","Asia","Europe","It spans two"],a:0,
f:"Egypt is in the northeast corner of Africa, though the Sinai Peninsula extends into Asia. It's generally considered an African country.",
rq:"Africa! Specifically the northeast corner. The Sinai technically dips into Asia, but Egypt is African.",
wq:"It's Africa! The northeast corner specifically. The Sinai Peninsula does touch Asia, though."},
{d:1,cat:"Oceans & Seas",q:"What is the smallest ocean?",o:["Southern Ocean","Indian Ocean","Atlantic Ocean","Arctic Ocean"],a:3,
f:"The Arctic Ocean covers about 14 million square km, centered roughly on the North Pole. Much of it is covered by sea ice.",
rq:"The Arctic! The coldest, smallest ocean. Covered in ice and full of surprises.",
wq:"It's the Arctic Ocean! The smallest and coldest of the five, centered on the North Pole."},
{d:1,cat:"Oceans & Seas",q:"How many oceans are there?",o:["4","5","6","7"],a:1,
f:"The five oceans are the Pacific, Atlantic, Indian, Southern (Antarctic), and Arctic. The Southern Ocean was officially recognized by the IHO.",
rq:"Five! Pacific, Atlantic, Indian, Southern, and Arctic. Earth's famous five.",
wq:"It's 5! The Southern Ocean became officially recognized, bringing the total to five."},
{d:1,cat:"Continents",q:"On which continent is Argentina?",o:["Central America","Europe","South America","North America"],a:2,
f:"Argentina is the second-largest country in South America and the eighth-largest in the world, covering about 2.78 million square km.",
rq:"South America! Argentina is the second biggest country on the continent, after Brazil.",
wq:"South America! Argentina is the continent's second-largest country after Brazil."},
{d:1,cat:"US Geography",q:"What is the largest U.S. state by area?",o:["Alaska","Texas","California","Montana"],a:0,
f:"Alaska covers about 1.72 million square km — more than twice the size of Texas. It was purchased from Russia in 1867 for $7.2 million.",
rq:"Alaska! More than TWICE the size of Texas. Sorry, Texas, you're only number two!",
wq:"It's Alaska! Over twice the size of Texas. Everything is bigger in Alaska, apparently."},
{d:1,cat:"US Geography",q:"What is the smallest U.S. state by area?",o:["Delaware","Connecticut","Hawaii","Rhode Island"],a:3,
f:"Rhode Island covers just about 4,001 square km. You could fit about 425 Rhode Islands inside Alaska.",
rq:"Rhode Island! So small you can fit 425 of them inside Alaska. The state that proves size isn't everything.",
wq:"It's Rhode Island! Tiny but mighty. You could fit 425 of them inside Alaska."},
{d:1,cat:"US Geography",q:"What is the most populous U.S. state?",o:["Texas","California","Florida","New York"],a:1,
f:"California has about 39 million residents, making it more populous than many countries including Canada and Australia.",
rq:"California! 39 million people. More than Canada. More than Australia. That's a LOT of Californians.",
wq:"It's California! With ~39 million people, it's more populous than many entire countries."},
{d:1,cat:"US Geography",q:"In which U.S. state is the Grand Canyon?",o:["Nevada","Utah","Arizona","Colorado"],a:2,
f:"The Grand Canyon is about 446 km long, up to 29 km wide, and over 1,800 meters deep. It was carved by the Colorado River.",
rq:"Arizona! Home to 446 km of jaw-dropping, river-carved geological glory.",
wq:"It's Arizona! The Colorado River carved the Grand Canyon over millions of years."},
{d:1,cat:"US Geography",q:"Which U.S. state is an archipelago (chain of islands)?",o:["Hawaii","Alaska","Florida","Maine"],a:0,
f:"Hawaii consists of 137 islands spanning 2,400 km. The eight main islands include Oahu, Maui, and the Big Island (Hawaii Island).",
rq:"Hawaii! 137 islands of volcanic origin, spread across 2,400 km of Pacific Ocean.",
wq:"It's Hawaii! A chain of 137 volcanic islands in the middle of the Pacific."},
{d:1,cat:"US Geography",q:"Into which body of water does the Mississippi River empty?",o:["Atlantic Ocean","Gulf of Mexico","Caribbean Sea","Pacific Ocean"],a:1,
f:"The Mississippi River is about 3,766 km long and its drainage basin covers roughly 40% of the continental United States.",
rq:"The Gulf of Mexico! The Mississippi drains about 40% of the continental US into that gulf.",
wq:"The Gulf of Mexico! The Mississippi's drainage basin covers 40% of the lower 48 states."},
{d:1,cat:"US Geography",q:"The Great Lakes border the United States and which country?",o:["Mexico","Cuba","Canada","Bahamas"],a:2,
f:"The five Great Lakes (Superior, Michigan, Huron, Erie, Ontario) contain about 21% of the world's surface freshwater.",
rq:"Canada! The Great Lakes hold about 21% of the world's surface freshwater. That's a LOT of lake.",
wq:"It's Canada! Together the Great Lakes hold 21% of all surface freshwater on Earth."},
{d:1,cat:"US Geography",q:"Which U.S. state is the furthest north?",o:["Washington","Maine","Alaska","Minnesota"],a:2,
f:"Alaska extends above the Arctic Circle. Its northernmost point, Point Barrow (Utqiaġvik), is at about 71°N latitude.",
rq:"Alaska! Extending above the Arctic Circle to about 71°N. It's also the furthest west AND east (Aleutian Islands cross 180°)!",
wq:"It's Alaska! Not only furthest north, but also technically furthest west AND east."},
{d:1,cat:"US Geography",q:"Which U.S. state borders Mexico to the southwest and has the city of Phoenix?",o:["New Mexico","Arizona","Texas","California"],a:1,
f:"Arizona shares about 626 km of border with Mexico. Phoenix is one of the hottest major cities in the US, regularly exceeding 40°C in summer.",
rq:"Arizona! Home of Phoenix, where summer temperatures regularly hit 40°C+. Bring water!",
wq:"It's Arizona! Phoenix regularly hits 40°C in summer — the oven of the American Southwest."},
{d:1,cat:"Physical Geography",q:"What is the tallest mountain in the world?",o:["K2","Kangchenjunga","Lhotse","Mount Everest"],a:3,
f:"Mount Everest stands at 8,849 meters above sea level, as measured by a 2020 Chinese-Nepalese survey. It sits on the border of Nepal and Tibet (China).",
rq:"Everest! 8,849 meters of pure geological ambition on the Nepal-Tibet border.",
wq:"It's Mount Everest! 8,849 meters tall. K2 is second at 8,611 meters."},
{d:1,cat:"Physical Geography",q:"What is the largest hot desert in the world?",o:["Arabian Desert","Gobi Desert","Sahara Desert","Kalahari Desert"],a:2,
f:"The Sahara covers about 9.2 million square km across 11 North African countries — roughly the size of the United States.",
rq:"The Sahara! About the size of the entire United States. That's a LOT of sand.",
wq:"It's the Sahara! About 9.2 million sq km — roughly the size of the entire US."},
{d:1,cat:"Physical Geography",q:"What is the largest island in the world (not counting continents)?",o:["Greenland","New Guinea","Borneo","Madagascar"],a:0,
f:"Greenland covers about 2.166 million square km. It's an autonomous territory of Denmark despite being geographically part of North America.",
rq:"Greenland! 2.166 million sq km of mostly ice. Erik the Red named it 'Greenland' as a marketing scheme. Seriously.",
wq:"It's Greenland! Despite its name, it's mostly covered in ice. Viking false advertising at its finest."},
{d:1,cat:"Physical Geography",q:"The Great Barrier Reef is located off the coast of which country?",o:["Indonesia","Australia","Philippines","Fiji"],a:1,
f:"The Great Barrier Reef stretches about 2,300 km along Australia's northeast coast. It's the world's largest coral reef system, visible from space.",
rq:"Australia! The Great Barrier Reef is 2,300 km long and visible from space. Earth's biggest living structure!",
wq:"It's Australia! The reef stretches 2,300 km along the northeast coast — visible from space!"},
{d:1,cat:"Physical Geography",q:"The Panama Canal connects which two oceans?",o:["Pacific and Indian","Arctic and Atlantic","Indian and Atlantic","Atlantic and Pacific"],a:3,
f:"The Panama Canal is about 82 km long and saves ships a roughly 15,000 km journey around South America. It opened in 1914.",
rq:"Atlantic and Pacific! The canal saves about 15,000 km compared to sailing around South America.",
wq:"It's the Atlantic and Pacific! Opened in 1914, saving ships a 15,000 km detour around South America."},
{d:1,cat:"Physical Geography",q:"Mount Everest is part of which mountain range?",o:["Andes","Alps","Himalayas","Rockies"],a:2,
f:"The Himalayas stretch about 2,400 km across five countries: India, Nepal, Bhutan, China (Tibet), and Pakistan. They contain all 14 peaks over 8,000 meters.",
rq:"The Himalayas! Home to ALL 14 of the world's 8,000-meter peaks. Overachievers.",
wq:"The Himalayas! All 14 of the world's peaks above 8,000 meters are found there."},
{d:1,cat:"Physical Geography",q:"The Sahara Desert is located on which continent?",o:["Africa","Asia","Australia","South America"],a:0,
f:"The Sahara spans 11 countries in North Africa and is expanding southward at a rate of about 48 km per year in some areas.",
rq:"Africa! The Sahara spans 11 countries across the northern part of the continent.",
wq:"It's Africa! The Sahara stretches across 11 countries in North Africa."},
{d:1,cat:"Physical Geography",q:"What separates the Mediterranean Sea from the Atlantic Ocean?",o:["Suez Canal","Strait of Malacca","Strait of Gibraltar","Panama Canal"],a:2,
f:"The Strait of Gibraltar is only about 14 km wide at its narrowest point, separating Europe (Spain) from Africa (Morocco).",
rq:"The Strait of Gibraltar! Just 14 km separates Europe from Africa there. You could almost swim it. (People actually do!)",
wq:"The Strait of Gibraltar! Only 14 km wide at its narrowest — separating Spain from Morocco."},
{d:1,cat:"Physical Geography",q:"What is the deepest known point in the world's oceans?",o:["Puerto Rico Trench","Tonga Trench","Java Trench","Mariana Trench"],a:3,
f:"The Challenger Deep in the Mariana Trench reaches about 10,935 meters. Mount Everest could fit inside with over a mile of water above it.",
rq:"The Mariana Trench! So deep you could stack Everest inside and still have a mile of water above it.",
wq:"It's the Mariana Trench! Challenger Deep is about 10,935 meters — deeper than Everest is tall."},
{d:1,cat:"Physical Geography",q:"The Amazon Rainforest is primarily located on which continent?",o:["South America","Africa","Asia","North America"],a:0,
f:"The Amazon Rainforest covers about 5.5 million square km — roughly 60% of it in Brazil — and produces about 6% of the world's oxygen.",
rq:"South America! The Amazon covers about 5.5 million sq km. That's a forest the size of most of Western Europe!",
wq:"It's South America! About 60% of the Amazon is in Brazil, with the rest spread across 8 other countries."},
{d:1,cat:"Countries",q:"What is the largest country in the world by area?",o:["Canada","Russia","China","United States"],a:1,
f:"Russia covers about 17.1 million square km, spanning 11 time zones. It's nearly twice the size of Canada, the second largest.",
rq:"Russia! 17.1 million sq km across 11 time zones. Russia doesn't do small.",
wq:"It's Russia! 17.1 million sq km — nearly twice the size of second-place Canada."},
{d:1,cat:"Countries",q:"What is the smallest country in the world by area?",o:["Monaco","San Marino","Vatican City","Liechtenstein"],a:2,
f:"Vatican City covers just 0.44 square km (about 109 acres). It has its own postal service, radio station, and a population of about 800.",
rq:"Vatican City! 0.44 sq km. You could walk across the entire country during a commercial break!",
wq:"It's Vatican City! At 0.44 sq km, it's smaller than most golf courses."},
{d:1,cat:"Countries",q:"As of recent estimates, what is the most populous country in the world?",o:["India","China","United States","Indonesia"],a:0,
f:"India surpassed China as the most populous country around 2023, with a population exceeding 1.4 billion. That's about 1 in every 6 humans on Earth.",
rq:"India! It overtook China around 2023. One in every six humans on Earth is Indian!",
wq:"It's India! It passed China around 2023. About 1 in 6 people on Earth live in India."},
{d:1,cat:"Countries",q:"What is the largest country in South America?",o:["Argentina","Colombia","Peru","Brazil"],a:3,
f:"Brazil covers about 8.5 million square km — nearly half of South America's total land area. It borders every South American country except Chile and Ecuador.",
rq:"Brazil! Nearly half of South America all by itself. And it borders almost every other country on the continent!",
wq:"It's Brazil! Covering nearly half of South America and bordering almost every country on the continent."},
{d:1,cat:"Countries",q:"Which European country is shaped like a boot?",o:["Greece","Spain","Italy","Portugal"],a:2,
f:"Italy's distinctive boot shape kicks the island of Sicily, which sits just off its 'toe.' The country stretches about 1,185 km from north to south.",
rq:"Italy! The boot that kicks Sicily. 1,185 km of delicious, boot-shaped geography.",
wq:"It's Italy! The world's most recognizable country shape — a boot kicking Sicily."},
{d:1,cat:"Countries",q:"What is the largest country in Africa by area?",o:["Algeria","Democratic Republic of Congo","Sudan","Libya"],a:0,
f:"Algeria covers about 2.38 million square km, making it the largest country in Africa and the 10th largest in the world. Most of it is Sahara Desert.",
rq:"Algeria! 2.38 million sq km, mostly Sahara. It became Africa's largest after South Sudan split from Sudan in 2011.",
wq:"It's Algeria! At 2.38 million sq km, it became Africa's largest country after Sudan split in 2011."},
{d:1,cat:"Countries",q:"What is the largest island in the Caribbean?",o:["Jamaica","Hispaniola","Cuba","Puerto Rico"],a:2,
f:"Cuba covers about 109,884 square km. Hispaniola (shared by Haiti and the Dominican Republic) is second largest at about 76,192 square km.",
rq:"Cuba! About 109,884 sq km of Caribbean real estate. Hispaniola is the runner-up.",
wq:"It's Cuba! The largest Caribbean island at about 109,884 sq km."},
{d:1,cat:"Countries",q:"Which country straddles both Europe and Asia?",o:["Egypt","Iran","Turkey","Greece"],a:2,
f:"Turkey's largest city, Istanbul, literally sits on two continents — the Bosphorus strait divides its European and Asian sides.",
rq:"Turkey! Istanbul is split between two continents by the Bosphorus. You can have breakfast in Europe and lunch in Asia!",
wq:"It's Turkey! Istanbul straddles both continents — Europe on one side, Asia on the other."},
{d:1,cat:"Countries",q:"What is the most populous country entirely in Europe?",o:["Germany","France","United Kingdom","Italy"],a:0,
f:"Germany has about 84 million people, making it the most populous country entirely within Europe. Russia has more people total, but it spans both Europe and Asia.",
rq:"Germany! About 84 million people. Russia is bigger overall but spans two continents.",
wq:"It's Germany! With ~84 million people, it edges out France and the UK."},
{d:1,cat:"Countries",q:"What is the largest country in Southeast Asia by area?",o:["Thailand","Vietnam","Indonesia","Philippines"],a:2,
f:"Indonesia is a massive archipelago of over 17,000 islands spanning about 1.9 million square km — roughly three times the size of Texas.",
rq:"Indonesia! Over 17,000 islands across 1.9 million sq km. That's three Texases!",
wq:"It's Indonesia! An archipelago of 17,000+ islands. The definition of 'spread out.'"},
{d:1,cat:"Rivers & Lakes",q:"Into which body of water does the Nile River flow?",o:["Red Sea","Indian Ocean","Mediterranean Sea","Atlantic Ocean"],a:2,
f:"The Nile flows northward through northeastern Africa and empties into the Mediterranean Sea through a large delta in northern Egypt.",
rq:"The Mediterranean! The Nile flows NORTH — one of the few major rivers that flows toward the equator's opposite direction!",
wq:"It's the Mediterranean Sea! The Nile flows northward through Egypt to its delta on the Med coast."},
{d:1,cat:"Rivers & Lakes",q:"Into which ocean does the Amazon River flow?",o:["Pacific Ocean","Atlantic Ocean","Indian Ocean","Caribbean Sea"],a:1,
f:"The Amazon discharges about 209,000 cubic meters of water per second into the Atlantic — more than the next seven largest rivers combined.",
rq:"The Atlantic! The Amazon pumps out more water than the next seven largest rivers COMBINED. Show-off!",
wq:"It's the Atlantic! The Amazon's discharge is greater than the next seven largest rivers combined."},
{d:1,cat:"Continents",q:"The equator passes through which of these continents?",o:["Africa","Europe","Antarctica","Australia"],a:0,
f:"The equator passes through Africa, South America, and Asia. In Africa, it crosses through countries including Kenya, Uganda, Congo, and Gabon.",
rq:"Africa! The equator crosses right through the middle. It also crosses South America and Asia.",
wq:"It's Africa! The equator runs through Kenya, Uganda, Congo, and several other African nations."},
{d:1,cat:"Physical Geography",q:"What mountain range is generally considered the boundary between Europe and Asia?",o:["Alps","Himalayas","Andes","Ural Mountains"],a:3,
f:"The Ural Mountains stretch about 2,500 km through western Russia. East of the Urals is Asia; west is Europe.",
rq:"The Urals! 2,500 km of mountains drawing the line between two continents.",
wq:"The Ural Mountains! They run about 2,500 km through Russia, dividing Europe from Asia."},
{d:1,cat:"Rivers & Lakes",q:"What is the largest lake in the world by surface area?",o:["Lake Superior","Caspian Sea","Lake Victoria","Lake Baikal"],a:1,
f:"The Caspian Sea covers about 371,000 square km. Despite its name, it's technically a lake — the world's largest, bordered by five countries.",
rq:"The Caspian Sea! Technically a lake despite its name. At 371,000 sq km, it's larger than many countries!",
wq:"It's the Caspian Sea! Despite the name, it's a lake — the world's largest at 371,000 sq km."},
// ═══ EXTRA DIFFICULTY 1 QUESTIONS ═══
{d:1,cat:"Capitals",q:"What is the capital of Germany?",o:["Munich","Berlin","Hamburg","Frankfurt"],a:1,
f:"Berlin has been Germany's capital since reunification in 1990. The Berlin Wall divided the city from 1961 to 1989.",
rq:"Berlin! Reunified in 1990 and back in the capital seat. A city that literally tore down walls!",
wq:"It's Berlin! Germany's capital since reunification — the wall came down in 1989."},
{d:1,cat:"Continents",q:"On which continent would you find the Amazon Rainforest?",o:["Africa","North America","South America","Asia"],a:2,
f:"The Amazon Rainforest covers about 5.5 million sq km across 9 countries. It produces roughly 6% of the world's oxygen.",
rq:"South America! The Amazon spans 9 countries and 5.5 million sq km. Earth's green lungs!",
wq:"It's South America! The Amazon stretches across 9 South American countries."},
{d:1,cat:"US Geography",q:"What is the largest state in the United States by area?",o:["Texas","California","Alaska","Montana"],a:2,
f:"Alaska covers about 1,717,856 sq km — more than twice the size of Texas. It was purchased from Russia in 1867 for $7.2 million.",
rq:"Alaska! More than twice the size of Texas. Bought from Russia for $7.2M — history's greatest real estate deal!",
wq:"It's Alaska! Over 1.7 million sq km — more than double the size of Texas."},
{d:1,cat:"Physical Geography",q:"What is the driest continent on Earth?",o:["Africa","Australia","Antarctica","North America"],a:2,
f:"Antarctica receives only about 50 mm of precipitation per year on its interior, making it technically the world's largest desert.",
rq:"Antarctica! It's actually a desert — less than 50 mm of precipitation per year. Cold AND dry!",
wq:"It's Antarctica! Surprisingly, it's the driest continent — a frozen desert."},
{d:1,cat:"Countries",q:"What country is known as the 'Land of the Rising Sun'?",o:["China","South Korea","Japan","Thailand"],a:2,
f:"Japan's name in Japanese, 'Nihon' or 'Nippon,' literally means 'origin of the sun.' The nickname comes from Japan's position east of China.",
rq:"Japan! 'Nihon' literally means 'origin of the sun.' East of China = where the sun rises!",
wq:"It's Japan! 'Nihon' means 'origin of the sun' — hence the nickname."},
// ═══ EXTRA DIFFICULTY 2 QUESTIONS ═══
{d:2,cat:"Mountains & Deserts",q:"On which continent is the Sahara Desert located?",o:["Asia","Australia","South America","Africa"],a:3,
f:"The Sahara is the world's largest hot desert at about 9.2 million sq km — roughly the size of the entire United States.",
rq:"Africa! The Sahara is about the size of the entire US. That's a LOT of sand!",
wq:"It's Africa! The Sahara covers ~9.2 million sq km of northern Africa."},
{d:2,cat:"Rivers & Lakes",q:"Through which capital city does the Thames River flow?",o:["Paris","Dublin","London","Edinburgh"],a:2,
f:"The Thames is 346 km long and flows through London to the North Sea. Tower Bridge and the Houses of Parliament both sit along it.",
rq:"London! The Thames flows past Parliament and Tower Bridge. Britain's most famous river address!",
wq:"It's London! The Thames winds 346 km through southern England and right through the capital."},
{d:2,cat:"Countries",q:"What is the most populous country in Europe?",o:["Germany","France","United Kingdom","Russia"],a:3,
f:"Russia has about 144 million people, though most of its vast territory is in Asia. If counting only European territory, Germany (~84M) is the EU's most populous.",
rq:"Russia! ~144 million people, though most of the land is in Asia. The country that spans two continents!",
wq:"It's Russia! About 144 million people spread across the world's largest country."},
{d:2,cat:"Landmarks",q:"In which country would you find the Great Barrier Reef?",o:["Indonesia","Philippines","Australia","Thailand"],a:2,
f:"The Great Barrier Reef stretches about 2,300 km off Queensland, Australia. It's the largest living structure on Earth, visible from space.",
rq:"Australia! The Great Barrier Reef is 2,300 km of coral — the largest living structure on Earth!",
wq:"It's Australia! The Great Barrier Reef stretches 2,300 km off the coast of Queensland."},
{d:2,cat:"Borders & Neighbors",q:"What ocean lies between Africa and Australia?",o:["Pacific Ocean","Atlantic Ocean","Indian Ocean","Southern Ocean"],a:2,
f:"The Indian Ocean is the third-largest ocean, covering about 70.6 million sq km. It's the warmest ocean in the world.",
rq:"The Indian Ocean! Third largest, warmest in the world. Connecting Africa, Asia, and Australia!",
wq:"It's the Indian Ocean! The world's third-largest and warmest ocean."},
// ═══ EXTRA DIFFICULTY 3 QUESTIONS ═══
{d:3,cat:"Countries",q:"What European country is divided into cantons?",o:["Belgium","Austria","Netherlands","Switzerland"],a:3,
f:"Switzerland has 26 cantons, each with its own constitution and parliament. The country has four official languages: German, French, Italian, and Romansh.",
rq:"Switzerland! 26 cantons, 4 official languages, and famously neutral since 1515. The original federalists!",
wq:"It's Switzerland! Divided into 26 cantons, each with significant autonomy."},
{d:3,cat:"Physical Geography",q:"What is the name of the supercontinent that existed about 335 to 175 million years ago?",o:["Gondwana","Laurasia","Pangaea","Rodinia"],a:2,
f:"Pangaea (meaning 'all Earth' in Greek) broke apart due to plate tectonics. Evidence includes matching fossils and rock formations on separate continents.",
rq:"Pangaea! 'All Earth' in Greek — when every continent was one big happy landmass. Then tectonics happened!",
wq:"It's Pangaea! The supercontinent that split apart starting ~175 million years ago."},
{d:3,cat:"Climate & Weather",q:"What type of biome is characterized by permafrost and no trees?",o:["Taiga","Savanna","Steppe","Tundra"],a:3,
f:"Tundra covers about 20% of Earth's land surface. Despite harsh conditions, about 1,700 plant species survive there — mostly mosses, lichens, and low shrubs.",
rq:"Tundra! 20% of Earth's land, zero trees, permanent frozen ground. Not exactly vacation territory!",
wq:"It's the tundra! Characterized by permafrost, no trees, and extreme cold."},
{d:3,cat:"Capitals",q:"What is the capital of New Zealand?",o:["Auckland","Christchurch","Wellington","Queenstown"],a:2,
f:"Wellington is the southernmost capital of any sovereign state. Auckland is much larger, but Wellington has been the capital since 1865.",
rq:"Wellington! The world's southernmost capital city. Auckland has the people, Wellington has the power!",
wq:"It's Wellington! Despite Auckland being bigger, Wellington has been NZ's capital since 1865."},
{d:3,cat:"Landmarks",q:"The Galápagos Islands, famous for Darwin's research, belong to which country?",o:["Peru","Colombia","Chile","Ecuador"],a:3,
f:"The Galápagos sit about 1,000 km off Ecuador's coast. Charles Darwin visited in 1835, and his observations there helped shape the theory of evolution.",
rq:"Ecuador! The Galápagos are ~1,000 km offshore. Darwin's 1835 visit changed biology forever!",
wq:"It's Ecuador! The Galápagos, about 1,000 km offshore, inspired Darwin's theory of evolution."},
// ═══ DIFFICULTY 2: "Getting Warmer" (Medium) ═══
{d:2,cat:"Capitals",q:"What is the capital of Nigeria?",o:["Lagos","Abuja","Kano","Port Harcourt"],a:1,
f:"Abuja replaced Lagos as Nigeria's capital in 1991. It was chosen for its central location and neutrality among Nigeria's ethnic groups.",
rq:"Abuja! Lagos is bigger and flashier, but Abuja has been running things since 1991.",
wq:"It's Abuja! Lagos is the most famous Nigerian city, but Abuja became the capital in 1991."},
{d:2,cat:"Capitals",q:"What is the capital of Turkey?",o:["Istanbul","Ankara","Izmir","Antalya"],a:1,
f:"Ankara became the capital in 1923 when Atatürk founded the Republic of Turkey. Istanbul was the capital of the Ottoman Empire for centuries.",
rq:"Ankara! Istanbul gets the fame, but Ankara has been the capital since 1923.",
wq:"It's Ankara! Istanbul was the Ottoman capital, but Ankara took over in 1923."},
{d:2,cat:"Capitals",q:"What is the capital of New Zealand?",o:["Auckland","Christchurch","Wellington","Queenstown"],a:2,
f:"Wellington is the southernmost capital of any sovereign state. It's also one of the windiest cities in the world.",
rq:"Wellington! The southernmost capital of any sovereign state and one of the windiest cities on Earth!",
wq:"It's Wellington! Auckland is bigger, but Wellington is the world's southernmost national capital."},
{d:2,cat:"Capitals",q:"What is the capital of Switzerland?",o:["Zurich","Geneva","Bern","Basel"],a:2,
f:"Bern is technically the 'federal city' rather than an official capital. It's famous for its medieval old town, a UNESCO World Heritage Site.",
rq:"Bern! Technically the 'federal city' — Switzerland doesn't officially have a capital. How very Swiss.",
wq:"It's Bern! Fun fact: Switzerland technically calls it the 'federal city,' not the capital."},
{d:2,cat:"Capitals",q:"What is the capital of Vietnam?",o:["Ho Chi Minh City","Da Nang","Hanoi","Hue"],a:2,
f:"Hanoi has been the capital of Vietnam for about a thousand years. Ho Chi Minh City (formerly Saigon) is larger and the economic hub.",
rq:"Hanoi! A thousand years as capital. Ho Chi Minh City has the money, but Hanoi has the history.",
wq:"It's Hanoi! It's been the seat of power for about a thousand years."},
{d:2,cat:"Capitals",q:"What is the capital of Morocco?",o:["Casablanca","Marrakech","Rabat","Fez"],a:2,
f:"Rabat became the capital under French colonial rule in 1912. Casablanca is larger and the economic center, but Rabat holds the government.",
rq:"Rabat! Casablanca has the movie fame, but Rabat has the government since 1912.",
wq:"It's Rabat! Casablanca and Marrakech are more famous, but Rabat runs the country."},
{d:2,cat:"Capitals",q:"What is the capital of Poland?",o:["Kraków","Warsaw","Gdańsk","Wrocław"],a:1,
f:"Warsaw was almost completely destroyed during World War II. The historic city center was meticulously rebuilt and is now a UNESCO World Heritage Site.",
rq:"Warsaw! Nearly destroyed in WWII, rebuilt brick by brick. Now a UNESCO site. Resilience personified.",
wq:"It's Warsaw! Kraków is the old royal capital, but Warsaw has run things since the late 1500s."},
{d:2,cat:"Capitals",q:"What is the capital of Colombia?",o:["Medellín","Cartagena","Bogotá","Cali"],a:2,
f:"Bogotá sits at about 2,640 meters elevation in the Andes, making it one of the highest capitals in the world.",
rq:"Bogotá! Sitting at 2,640 meters in the Andes. Bring a jacket — and maybe some oxygen.",
wq:"It's Bogotá! One of the highest capitals in the world at 2,640 meters elevation."},
{d:2,cat:"Capitals",q:"What is the capital of Thailand?",o:["Bangkok","Chiang Mai","Phuket","Pattaya"],a:0,
f:"Bangkok's full ceremonial name in Thai is 168 characters long, making it the longest place name in the world. Locals call the city 'Krung Thep.'",
rq:"Bangkok! Its full Thai name is 168 characters long. Nobody has time for that, so 'Bangkok' it is.",
wq:"It's Bangkok! Fun fact: its ceremonial Thai name is 168 characters — the world's longest place name."},
{d:2,cat:"Capitals",q:"What is the capital of the Philippines?",o:["Cebu","Manila","Davao","Quezon City"],a:1,
f:"Manila is one of the most densely populated cities in the world with about 46,000 people per square km in the city proper.",
rq:"Manila! One of the most densely packed cities on Earth with ~46,000 people per sq km.",
wq:"It's Manila! One of the most densely populated cities on the planet."},
{d:2,cat:"Rivers & Lakes",q:"What is the deepest lake in the world?",o:["Lake Tanganyika","Lake Baikal","Lake Superior","Caspian Sea"],a:1,
f:"Lake Baikal in Siberia is about 1,642 meters deep and holds roughly 20% of the world's unfrozen surface freshwater. It's also ~25 million years old.",
rq:"Lake Baikal! 1,642 meters deep, 25 million years old, and holds 20% of Earth's surface freshwater. Overachiever!",
wq:"It's Lake Baikal! 1,642 meters deep in Siberia — the deepest and oldest lake on Earth."},
{d:2,cat:"Rivers & Lakes",q:"What is the largest lake in Africa by surface area?",o:["Lake Tanganyika","Lake Malawi","Lake Chad","Lake Victoria"],a:3,
f:"Lake Victoria covers about 68,800 sq km, bordered by Tanzania, Uganda, and Kenya. It's the source of the White Nile.",
rq:"Lake Victoria! About 68,800 sq km shared by three countries and the source of the White Nile.",
wq:"It's Lake Victoria! The largest lake in Africa and source of the White Nile."},
{d:2,cat:"Rivers & Lakes",q:"What river flows through Paris?",o:["Rhine","Danube","Seine","Loire"],a:2,
f:"The Seine is about 777 km long and divides Paris into the Left Bank (Rive Gauche) and the Right Bank (Rive Droite).",
rq:"The Seine! Dividing Paris into the Left Bank and Right Bank for centuries of romantic walks.",
wq:"It's the Seine! It splits Paris into the famous Left Bank and Right Bank."},
{d:2,cat:"Rivers & Lakes",q:"What river flows through London?",o:["Severn","Thames","Mersey","Avon"],a:1,
f:"The Thames is about 346 km long and has over 200 bridges crossing it. Tower Bridge and Westminster Bridge are among the most famous.",
rq:"The Thames! 346 km long with over 200 bridges. London really committed to crossing that river.",
wq:"It's the Thames! Over 200 bridges cross it throughout its 346 km length."},
{d:2,cat:"Rivers & Lakes",q:"What is the largest freshwater lake by surface area in the Western Hemisphere?",o:["Lake Michigan","Lake Huron","Lake Superior","Great Bear Lake"],a:2,
f:"Lake Superior covers about 82,100 sq km — the largest freshwater lake by surface area in the world. It contains 10% of all the world's surface freshwater.",
rq:"Lake Superior! The largest freshwater lake by surface area on Earth — not just the hemisphere!",
wq:"It's Lake Superior! At 82,100 sq km, it's actually the world's largest freshwater lake by area."},
{d:2,cat:"Mountains & Deserts",q:"What is the tallest mountain in Africa?",o:["Mount Kenya","Mount Stanley","Mount Kilimanjaro","Mount Elgon"],a:2,
f:"Kilimanjaro stands at 5,895 meters. It's a dormant volcano and the world's tallest free-standing mountain (not part of a range).",
rq:"Kilimanjaro! 5,895 meters of free-standing volcanic beauty. The world's tallest solo peak!",
wq:"It's Kilimanjaro! At 5,895 meters, it's the tallest free-standing mountain in the world."},
{d:2,cat:"Mountains & Deserts",q:"What is the longest continental mountain range in the world?",o:["Himalayas","Rocky Mountains","Andes","Alps"],a:2,
f:"The Andes stretch about 7,000 km along South America's western coast through 7 countries, from Venezuela to Chile.",
rq:"The Andes! About 7,000 km through 7 countries. That mountain range has serious commitment!",
wq:"It's the Andes! About 7,000 km through seven South American countries."},
{d:2,cat:"Mountains & Deserts",q:"What is the tallest mountain in North America?",o:["Mount Logan","Mount Whitney","Denali","Mount Rainier"],a:2,
f:"Denali in Alaska stands at 6,190 meters. Its name means 'The High One' in the Koyukon Athabaskan language.",
rq:"Denali! 6,190 meters tall. 'The High One' in the native Koyukon language. Apt name!",
wq:"It's Denali! 6,190 meters in Alaska — 'The High One' in the native Koyukon language."},
{d:2,cat:"Mountains & Deserts",q:"The Gobi Desert spans which two countries?",o:["India and Pakistan","China and Mongolia","Iran and Iraq","Egypt and Libya"],a:1,
f:"The Gobi covers about 1.3 million sq km across southern Mongolia and northern China. It's a cold desert with winter temperatures dropping to -40°C.",
rq:"China and Mongolia! The Gobi is a cold desert — winter temps can hit -40°C. Brrr-utal.",
wq:"It's China and Mongolia! The Gobi is actually a cold desert — winter temps reach -40°C."},
{d:2,cat:"Mountains & Deserts",q:"What is the tallest mountain in Europe?",o:["Mont Blanc","Mount Elbrus","Matterhorn","Mount Olympus"],a:1,
f:"Mount Elbrus in Russia's Caucasus region stands at 5,642 meters. If you count only Western Europe, Mont Blanc (4,808 m) is the tallest.",
rq:"Mount Elbrus! 5,642 meters in the Caucasus. Mont Blanc fans are seething right now.",
wq:"It's Mount Elbrus! 5,642 meters in Russia's Caucasus. Mont Blanc leads Western Europe though."},
{d:2,cat:"Borders & Neighbors",q:"The Strait of Gibraltar separates Europe from which continent?",o:["Africa","Asia","South America","North America"],a:0,
f:"The Strait of Gibraltar separates Spain from Morocco across just 14 km of water, connecting the Mediterranean Sea to the Atlantic Ocean.",
rq:"Africa! Just 14 km separate Spain from Morocco across the strait. So close, yet so continental.",
wq:"It's Africa! Only 14 km of water separates Spain from Morocco at the narrowest point."},
{d:2,cat:"Borders & Neighbors",q:"The Suez Canal connects the Mediterranean Sea to which body of water?",o:["Black Sea","Persian Gulf","Red Sea","Arabian Sea"],a:2,
f:"The Suez Canal is about 193 km long and was opened in 1869. About 12% of global trade passes through it annually.",
rq:"The Red Sea! The Suez Canal handles about 12% of all global trade. That's one busy ditch!",
wq:"It's the Red Sea! Opened in 1869, the Suez Canal carries about 12% of world trade."},
{d:2,cat:"Borders & Neighbors",q:"Which country has the longest coastline in the world?",o:["Indonesia","Russia","Australia","Canada"],a:3,
f:"Canada's coastline stretches about 243,042 km — the longest of any country, thanks to its massive Arctic archipelago and deeply indented coast.",
rq:"Canada! About 243,042 km of coastline. All those Arctic islands and fjords really add up!",
wq:"It's Canada! 243,042 km of coastline — longest in the world thanks to its Arctic islands."},
{d:2,cat:"Borders & Neighbors",q:"What is the largest landlocked country in the world?",o:["Mongolia","Chad","Kazakhstan","Ethiopia"],a:2,
f:"Kazakhstan covers about 2.72 million sq km with no ocean access. It borders Russia, China, Kyrgyzstan, Uzbekistan, and Turkmenistan.",
rq:"Kazakhstan! 2.72 million sq km of landlocked real estate. The 9th largest country, no ocean needed!",
wq:"It's Kazakhstan! The world's largest landlocked country and 9th largest country overall."},
{d:2,cat:"Countries",q:"Which country has the most active volcanoes?",o:["Japan","Philippines","Indonesia","Iceland"],a:2,
f:"Indonesia has about 130 active volcanoes, the most of any country. It sits on the Pacific Ring of Fire across multiple tectonic plate boundaries.",
rq:"Indonesia! ~130 active volcanoes. Living on the Ring of Fire does that to a country.",
wq:"It's Indonesia! About 130 active volcanoes — the most of any country, thanks to the Ring of Fire."},
{d:2,cat:"Countries",q:"Mount Fuji is the tallest mountain in which country?",o:["Japan","China","South Korea","Taiwan"],a:0,
f:"Mount Fuji stands at 3,776 meters and is an active stratovolcano, though it last erupted in 1707. It's a UNESCO World Heritage Site.",
rq:"Japan! Mount Fuji last erupted in 1707. It's technically still active. Sleep well, Tokyo!",
wq:"It's Japan! Fuji is 3,776 meters tall and technically still an active volcano."},
{d:2,cat:"Countries",q:"The Galápagos Islands belong to which country?",o:["Peru","Colombia","Ecuador","Chile"],a:2,
f:"The Galápagos sit about 1,000 km off Ecuador's coast. Charles Darwin's visit in 1835 inspired his theory of evolution by natural selection.",
rq:"Ecuador! Darwin visited in 1835 and basically invented evolutionary biology. Not bad for some islands!",
wq:"It's Ecuador! Darwin's 1835 visit to these islands inspired his theory of evolution."},
{d:2,cat:"Countries",q:"Victoria Falls is on the border of which two countries?",o:["Kenya and Tanzania","Zambia and Zimbabwe","Congo and Angola","Mozambique and Malawi"],a:1,
f:"Victoria Falls is about 1,708 meters wide and 108 meters tall. Locals call it 'Mosi-oa-Tunya' — 'The Smoke That Thunders.'",
rq:"Zambia and Zimbabwe! 'The Smoke That Thunders' — 1,708 meters of waterfall fury!",
wq:"It's Zambia and Zimbabwe! Known locally as 'Mosi-oa-Tunya' — The Smoke That Thunders."},
{d:2,cat:"Countries",q:"Which river forms much of the border between the United States and Mexico?",o:["Colorado River","Pecos River","Rio Grande","Gila River"],a:2,
f:"The Rio Grande stretches about 3,051 km from Colorado to the Gulf of Mexico. It's called 'Río Bravo del Norte' in Mexico.",
rq:"The Rio Grande! Or 'Río Bravo del Norte' if you're on the Mexican side. Same river, two names!",
wq:"It's the Rio Grande! About 3,051 km long — called 'Río Bravo del Norte' in Mexico."},
{d:2,cat:"Physical Geography",q:"The Ring of Fire, a zone of earthquakes and eruptions, encircles which ocean?",o:["Atlantic Ocean","Indian Ocean","Pacific Ocean","Arctic Ocean"],a:2,
f:"The Ring of Fire stretches about 40,000 km and holds about 75% of the world's active volcanoes. About 90% of earthquakes occur along it.",
rq:"The Pacific! 75% of Earth's active volcanoes and 90% of earthquakes. The Pacific really goes hard.",
wq:"It's the Pacific! The Ring of Fire holds 75% of all active volcanoes and 90% of all earthquakes."},
{d:2,cat:"Physical Geography",q:"What is the largest desert in the world when counting ALL deserts (not just hot ones)?",o:["Sahara","Arabian Desert","Antarctic Desert","Gobi Desert"],a:2,
f:"Antarctica is technically the world's largest desert at ~14.2 million sq km. A desert is defined by low precipitation, not high temperature.",
rq:"Antarctica! Deserts are defined by PRECIPITATION, not heat. Antarctica gets less than 200mm/year. Science!",
wq:"It's Antarctica! Deserts are defined by low precipitation. Antarctica is drier than the Sahara."},
{d:2,cat:"Cultural Geography",q:"What is the most spoken native language by number of first-language speakers?",o:["English","Mandarin Chinese","Hindi","Spanish"],a:1,
f:"Mandarin Chinese has roughly 920 million native speakers. English has about 380 million native speakers but is the most widely spoken overall.",
rq:"Mandarin Chinese! ~920 million native speakers. That's nearly 3x the entire US population!",
wq:"It's Mandarin Chinese! About 920 million native speakers. English leads as a second language though."},
{d:2,cat:"Cultural Geography",q:"What is the most widely practiced religion in the world?",o:["Islam","Hinduism","Christianity","Buddhism"],a:2,
f:"Christianity has about 2.4 billion adherents worldwide, roughly 31% of the global population. Islam is second with about 1.9 billion.",
rq:"Christianity! About 2.4 billion adherents — roughly 31% of all humans on Earth.",
wq:"It's Christianity! About 2.4 billion followers worldwide. Islam is second at ~1.9 billion."},
{d:2,cat:"Borders & Neighbors",q:"Which TWO countries share the longest international border?",o:["Russia and China","USA and Mexico","USA and Canada","Brazil and Argentina"],a:2,
f:"The US-Canada border stretches about 8,891 km including the Alaska-Canada portion. It's the longest international border in the world.",
rq:"USA and Canada! ~8,891 km of mostly friendly, mostly undefended border. Good neighbors!",
wq:"It's USA and Canada! About 8,891 km — the longest international border on Earth."},
{d:2,cat:"Countries",q:"How many countries border China?",o:["8","10","14","16"],a:2,
f:"China borders 14 countries (tied with Russia): India, Pakistan, Afghanistan, Tajikistan, Kyrgyzstan, Kazakhstan, Mongolia, Russia, North Korea, Vietnam, Laos, Myanmar, Bhutan, and Nepal.",
rq:"14! Tied with Russia for the most land borders. China's address book of neighbors is LONG.",
wq:"It's 14! Tied with Russia. From India to North Korea, China has a LOT of neighbors."},
{d:2,cat:"Countries",q:"What is the capital of Argentina?",o:["Buenos Aires","Córdoba","Rosario","Mendoza"],a:0,
f:"Buenos Aires means 'Good Airs' or 'Fair Winds.' Its metro area holds about 15 million people — roughly a third of Argentina's population.",
rq:"Buenos Aires! 'Good Airs' or 'Fair Winds.' A third of the whole country lives there!",
wq:"It's Buenos Aires! About a third of all Argentines live in the Buenos Aires metro area."},
{d:2,cat:"Countries",q:"What is the capital of Peru?",o:["Cusco","Lima","Arequipa","Quito"],a:1,
f:"Lima was founded by Spanish conquistador Francisco Pizarro in 1535. It sits on the Pacific coast despite Peru also containing Amazonian jungle.",
rq:"Lima! Founded by Pizarro in 1535. Cusco was the Inca capital, but Lima took over.",
wq:"It's Lima! Cusco was the Inca capital, but Lima has been running Peru since the Spanish arrived."},
{d:2,cat:"Countries",q:"What is the capital of Chile?",o:["Valparaíso","Santiago","Concepción","Antofagasta"],a:1,
f:"Santiago sits in a valley surrounded by the Andes and the Chilean Coastal Range. About 40% of Chile's population lives in the Santiago metro area.",
rq:"Santiago! Nestled between the Andes and the coast, home to 40% of all Chileans.",
wq:"It's Santiago! About 40% of Chile's entire population lives in the Santiago metro area."},
{d:2,cat:"Countries",q:"What is the capital of Greece?",o:["Athens","Thessaloniki","Sparta","Olympia"],a:0,
f:"Athens is one of the world's oldest cities, with recorded history spanning about 3,400 years. It's the birthplace of democracy and Western philosophy.",
rq:"Athens! 3,400 years of recorded history. Democracy, philosophy, and the Olympics were born here.",
wq:"It's Athens! One of the oldest continuously inhabited cities — 3,400 years of history."},
{d:2,cat:"Rivers & Lakes",q:"What is the longest river in Asia?",o:["Mekong","Yellow River","Ganges","Yangtze"],a:3,
f:"The Yangtze stretches about 6,300 km through China. It's the third longest river in the world after the Nile and Amazon.",
rq:"The Yangtze! 6,300 km through China — the world's third longest river overall.",
wq:"It's the Yangtze! At 6,300 km, it's Asia's longest and the world's third longest."},
{d:2,cat:"Rivers & Lakes",q:"What is the longest river in Europe?",o:["Danube","Rhine","Volga","Thames"],a:2,
f:"The Volga stretches about 3,530 km through Russia, flowing into the Caspian Sea. It drains about 40% of European Russia.",
rq:"The Volga! 3,530 km through Russia. It drains about 40% of European Russia into the Caspian Sea.",
wq:"It's the Volga! At 3,530 km, it's Europe's longest river — flowing through Russia to the Caspian."},
{d:2,cat:"Countries",q:"What is the capital of Ireland?",o:["Belfast","Cork","Dublin","Galway"],a:2,
f:"Dublin's name comes from the Irish 'Dubh Linn' meaning 'black pool.' About 40% of Ireland's population lives in the Dublin metro area.",
rq:"Dublin! From 'Dubh Linn' — 'black pool.' About 40% of the whole country lives there.",
wq:"It's Dublin! Belfast is the capital of Northern Ireland (part of the UK), but Dublin runs the Republic."},
{d:2,cat:"Physical Geography",q:"The Ganges River flows through India and which other country?",o:["Nepal","Sri Lanka","Bangladesh","Myanmar"],a:2,
f:"The Ganges is about 2,525 km long and is sacred in Hinduism. It forms the world's largest river delta (the Sundarbans) where it meets Bangladesh.",
rq:"Bangladesh! The Ganges forms the massive Sundarbans delta there — the world's largest river delta.",
wq:"It's Bangladesh! The Ganges forms the world's largest delta, the Sundarbans, in Bangladesh."},
{d:2,cat:"Countries",q:"What is the driest inhabited continent on Earth?",o:["Africa","Australia","Asia","South America"],a:1,
f:"Australia averages only about 470mm of rainfall per year, making it the driest inhabited continent. About 35% is classified as desert.",
rq:"Australia! Just ~470mm of rain per year on average. Earth's big, sunbaked snack cracker.",
wq:"It's Australia! Only about 470mm of average annual rainfall — the driest inhabited continent."},
{d:2,cat:"Countries",q:"What is the capital of Kenya?",o:["Nairobi","Mombasa","Kisumu","Nakuru"],a:0,
f:"Nairobi is the only capital city in the world with a national park within its borders — Nairobi National Park, where lions roam with the skyline as a backdrop.",
rq:"Nairobi! The only capital with a national park inside city limits. Lions with a skyline view!",
wq:"It's Nairobi! Home to the only national park inside a capital city — with lions and everything."},
{d:2,cat:"Landmarks",q:"In which country would you find Angel Falls, the world's highest uninterrupted waterfall?",o:["Colombia","Venezuela","Ecuador","Guyana"],a:1,
f:"Angel Falls drops 979 meters from the top of Auyán-tepuí mountain. Much of the water turns to mist before reaching the bottom.",
rq:"Venezuela! 979 meters of freefall — the water literally evaporates before it hits the ground!",
wq:"It's Venezuela! Angel Falls drops 979 meters — so far that much of the water turns to mist."},
{d:2,cat:"Landmarks",q:"Machu Picchu, the ancient Inca citadel, is located in which country?",o:["Bolivia","Peru","Ecuador","Chile"],a:1,
f:"Machu Picchu sits at about 2,430 meters elevation in the Andes. It was built around 1450 AD and abandoned about 100 years later during the Spanish conquest.",
rq:"Peru! Built around 1450 AD at 2,430 meters. The Incas really liked high-altitude construction!",
wq:"It's Peru! Machu Picchu was built around 1450 AD at 2,430 meters in the Andes."},
{d:2,cat:"Countries",q:"What is the largest peninsula in the world?",o:["Scandinavian Peninsula","Iberian Peninsula","Arabian Peninsula","Indian Subcontinent"],a:2,
f:"The Arabian Peninsula covers about 3.2 million sq km and includes Saudi Arabia, Yemen, Oman, UAE, Qatar, Bahrain, and Kuwait.",
rq:"The Arabian Peninsula! 3.2 million sq km covering 7 countries. That's one big chunk of land!",
wq:"It's the Arabian Peninsula! About 3.2 million sq km — home to 7 countries."},
{d:2,cat:"Borders & Neighbors",q:"Which country borders the most other countries (tied at 14)?",o:["Brazil","India","Russia","Germany"],a:2,
f:"Russia borders 14 countries (tied with China): Norway, Finland, Estonia, Latvia, Lithuania, Poland, Belarus, Ukraine, Georgia, Azerbaijan, Kazakhstan, Mongolia, China, and North Korea.",
rq:"Russia! 14 neighbors, tied with China. That's a LOT of fences to maintain.",
wq:"It's Russia! 14 land borders — tied with China for the world record in neighbors."},
{d:2,cat:"Countries",q:"What is the capital of Cuba?",o:["Havana","Santiago de Cuba","Trinidad","Varadero"],a:0,
f:"Havana was founded by the Spanish in 1519 and became a major hub for New World treasure fleets. Its historic center is a UNESCO World Heritage Site.",
rq:"Havana! Founded 1519, once the hub of Spanish treasure fleets. Now famous for classic cars and music!",
wq:"It's Havana! A UNESCO World Heritage city founded by the Spanish in 1519."},
{d:2,cat:"Physical Geography",q:"What is the largest bay in the world?",o:["Hudson Bay","Bay of Biscay","Bay of Bengal","Gulf of Guinea"],a:2,
f:"The Bay of Bengal covers about 2.17 million sq km, bordered by India, Bangladesh, Myanmar, and Sri Lanka. It's the world's largest bay.",
rq:"The Bay of Bengal! 2.17 million sq km of warm tropical water. The world's biggest bay by far.",
wq:"It's the Bay of Bengal! At 2.17 million sq km, it dwarfs every other bay on Earth."},
{d:2,cat:"Countries",q:"What is the only Central American country where English is the official language?",o:["Costa Rica","Guatemala","Honduras","Belize"],a:3,
f:"Belize was formerly known as British Honduras and gained independence from the UK in 1981. It's the only Central American country with English as its official language.",
rq:"Belize! Formerly British Honduras. The lone English speaker in Central America since 1981.",
wq:"It's Belize! A former British colony — the only English-speaking country in Central America."},
{d:2,cat:"Map Skills",q:"Lines of latitude run in which direction?",o:["North-South","East-West","Diagonally","They vary"],a:1,
f:"Latitude lines run east-west parallel to the equator. The equator is 0° latitude. The poles are 90°N and 90°S.",
rq:"East-West! Latitude lines are horizontal. Remember: 'Latitude = Ladder' — the rungs go sideways!",
wq:"They run East-West! Think 'Latitude = Ladder' — ladder rungs are horizontal."},
{d:2,cat:"Map Skills",q:"What imaginary line divides the Earth into Northern and Southern Hemispheres?",o:["Prime Meridian","Tropic of Cancer","Equator","International Date Line"],a:2,
f:"The equator is at 0° latitude and is about 40,075 km in circumference. Countries on the equator include Ecuador, Colombia, Brazil, Kenya, and Indonesia.",
rq:"The equator! 0° latitude, ~40,075 km around. The ultimate geographical dividing line.",
wq:"It's the equator! At 0° latitude, it divides the Earth into Northern and Southern Hemispheres."},
// ═══ DIFFICULTY 3: "No More Mr. Nice Globe" (Hard) ═══
{d:3,cat:"Capitals",q:"What is the capital of Myanmar (Burma)?",o:["Yangon","Mandalay","Naypyidaw","Bagan"],a:2,
f:"Naypyidaw became Myanmar's capital in 2006 when the military government moved it from Yangon. The city was built from scratch and is enormous but sparsely populated.",
rq:"Naypyidaw! Built from scratch in 2006. A giant, eerily empty capital. Very on-brand for Myanmar's government.",
wq:"It's Naypyidaw! Yangon is the largest city, but the capital moved to this purpose-built city in 2006."},
{d:3,cat:"Capitals",q:"What is the capital of Pakistan?",o:["Karachi","Lahore","Islamabad","Peshawar"],a:2,
f:"Islamabad was purpose-built in the 1960s to replace Karachi as the capital. Its name means 'City of Islam' and it sits at the foot of the Margalla Hills.",
rq:"Islamabad! Built in the 1960s to replace Karachi. Pakistan loves a good purpose-built capital.",
wq:"It's Islamabad! Karachi is bigger, but Islamabad has been the capital since the 1960s."},
{d:3,cat:"Capitals",q:"What is the capital of Tanzania?",o:["Dar es Salaam","Arusha","Dodoma","Zanzibar City"],a:2,
f:"Dodoma became Tanzania's official capital in 1996, though many government functions still operate from Dar es Salaam, which is the largest city.",
rq:"Dodoma! Though half the government still hangs out in Dar es Salaam. It's a work in progress.",
wq:"It's Dodoma! Most people guess Dar es Salaam, which is bigger, but Dodoma is the official capital."},
{d:3,cat:"Capitals",q:"What is the capital of Ethiopia?",o:["Asmara","Addis Ababa","Dire Dawa","Harar"],a:1,
f:"Addis Ababa means 'New Flower' in Amharic. It sits at about 2,355 meters and serves as the headquarters of the African Union.",
rq:"Addis Ababa! 'New Flower' at 2,355 meters — and home to the African Union headquarters!",
wq:"It's Addis Ababa! It means 'New Flower' and hosts the African Union headquarters."},
{d:3,cat:"Capitals",q:"What is the capital of Sri Lanka (legislative capital)?",o:["Colombo","Kandy","Galle","Sri Jayawardenepura Kotte"],a:3,
f:"Sri Jayawardenepura Kotte is the legislative capital; Colombo is the commercial capital. Try saying that fast five times.",
rq:"Sri Jayawardenepura Kotte! The longest capital city name that'll ever appear on a test!",
wq:"It's Sri Jayawardenepura Kotte! Colombo is the commercial capital, but Kotte handles legislation."},
{d:3,cat:"Capitals",q:"What is the capital of Kazakhstan?",o:["Almaty","Astana","Shymkent","Karaganda"],a:1,
f:"Astana (formerly Nur-Sultan, and before that, Akmola) became the capital in 1997 when it replaced Almaty. It's known for its futuristic architecture.",
rq:"Astana! This city has been renamed SO many times. But it's had the capital gig since 1997.",
wq:"It's Astana! Almaty is bigger, but Astana became the capital in 1997."},
{d:3,cat:"Physical Geography",q:"Which river flows through the Grand Canyon?",o:["Rio Grande","Snake River","Colorado River","Columbia River"],a:2,
f:"The Colorado River carved the Grand Canyon over roughly 5-6 million years. The canyon is about 446 km long and over 1,800 meters deep.",
rq:"The Colorado River! 5-6 million years of patient carving. That's dedication to a project.",
wq:"It's the Colorado River! It carved the Grand Canyon over millions of years of persistent erosion."},
{d:3,cat:"Physical Geography",q:"The Bering Strait separates Asia from which continent?",o:["Europe","South America","North America","Australia"],a:2,
f:"The Bering Strait is only about 85 km wide, separating Russia from Alaska. During ice ages, a land bridge here allowed human migration to the Americas.",
rq:"North America! Only 85 km separate Russia from Alaska. Humans walked across during ice ages!",
wq:"It's North America! The Bering Strait between Russia and Alaska is just 85 km wide."},
{d:3,cat:"Physical Geography",q:"What body of water separates Italy from the Balkan Peninsula?",o:["Tyrrhenian Sea","Adriatic Sea","Ionian Sea","Ligurian Sea"],a:1,
f:"The Adriatic Sea is about 800 km long and averages only 160 km in width. Venice sits on its northwestern shore.",
rq:"The Adriatic! About 800 km long, home to Venice, and separating two very tasty cuisines.",
wq:"It's the Adriatic Sea! About 800 km long, with Venice on one side and Croatia on the other."},
{d:3,cat:"Physical Geography",q:"What is the tallest mountain in South America?",o:["Huascarán","Cotopaxi","Aconcagua","Chimborazo"],a:2,
f:"Aconcagua in Argentina stands at 6,961 meters. It's the tallest peak outside Asia and the tallest in both the Western and Southern Hemispheres.",
rq:"Aconcagua! 6,961 meters in Argentina. The tallest peak outside Asia. The Andes flex hard!",
wq:"It's Aconcagua! At 6,961 meters, it's the highest peak outside of Asia."},
{d:3,cat:"Countries",q:"Which country spans the most time zones?",o:["Russia","United States","France","China"],a:2,
f:"France spans 12-13 time zones (13 with its Antarctic claim) thanks to overseas territories like French Polynesia, New Caledonia, and Réunion.",
rq:"France! 12-13 time zones thanks to overseas territories scattered across the globe. Colonialism has geographic consequences!",
wq:"It's France! Its overseas territories give it 12-13 time zones — more than Russia's 11!"},
{d:3,cat:"Countries",q:"Which African country was never colonized by a European power?",o:["Ghana","Ethiopia","Nigeria","Kenya"],a:1,
f:"Ethiopia (along with Liberia) maintained sovereignty during the Scramble for Africa. Italy occupied Ethiopia 1936-1941, but it was never formally colonized.",
rq:"Ethiopia! One of only two African countries (with Liberia) that maintained independence. A true OG of sovereignty!",
wq:"It's Ethiopia! Along with Liberia, it's one of only two African countries never colonized."},
{d:3,cat:"Countries",q:"What is the northernmost capital city in the world?",o:["Helsinki, Finland","Oslo, Norway","Reykjavik, Iceland","Nuuk, Greenland"],a:2,
f:"Reykjavik sits at about 64°N latitude. Despite being so far north, Iceland's climate is moderated by the Gulf Stream.",
rq:"Reykjavik! At ~64°N, it's the world's northernmost capital. Thanks to the Gulf Stream, it's not as cold as you'd think!",
wq:"It's Reykjavik! At about 64°N latitude — the most northerly capital of any sovereign state."},
{d:3,cat:"Countries",q:"Which island is shared by three countries?",o:["Timor","New Guinea","Hispaniola","Borneo"],a:3,
f:"Borneo is shared by Malaysia, Indonesia, and Brunei. It's the third-largest island in the world at about 743,000 sq km.",
rq:"Borneo! Split three ways between Malaysia, Indonesia, and tiny Brunei. Sharing is caring!",
wq:"It's Borneo! Shared by Malaysia, Indonesia, and Brunei — the world's third-largest island."},
{d:3,cat:"Countries",q:"What is the smallest country in mainland Africa by area?",o:["Swaziland (Eswatini)","Djibouti","The Gambia","Rwanda"],a:2,
f:"The Gambia covers about 11,295 sq km and is almost entirely surrounded by Senegal. It's the smallest country on mainland Africa.",
rq:"The Gambia! A narrow sliver of a country almost entirely surrounded by Senegal. Geography's skinny jeans.",
wq:"It's The Gambia! A narrow strip of land nearly surrounded by Senegal — Africa's smallest mainland country."},
{d:3,cat:"Rivers & Lakes",q:"The Danube River flows through or borders how many European countries?",o:["6","8","10","12"],a:2,
f:"The Danube flows through or borders 10 countries: Germany, Austria, Slovakia, Hungary, Croatia, Serbia, Romania, Bulgaria, Moldova, and Ukraine.",
rq:"Ten! The Danube is Europe's most well-traveled river — 10 countries! It's the backpacker of rivers.",
wq:"It's 10! The Danube touches Germany, Austria, Slovakia, Hungary, Croatia, Serbia, Romania, Bulgaria, Moldova, and Ukraine."},
{d:3,cat:"Rivers & Lakes",q:"Lake Titicaca sits on the border of which two countries?",o:["Chile and Argentina","Ecuador and Colombia","Peru and Bolivia","Brazil and Paraguay"],a:2,
f:"Lake Titicaca is the highest navigable lake in the world at about 3,812 meters elevation. It covers about 8,372 sq km.",
rq:"Peru and Bolivia! The world's highest navigable lake at 3,812 meters. Boating at altitude!",
wq:"It's Peru and Bolivia! Lake Titicaca sits at 3,812 meters — the highest navigable lake on Earth."},
{d:3,cat:"Rivers & Lakes",q:"The Mekong River flows through how many countries?",o:["3","4","6","8"],a:2,
f:"The Mekong flows through China, Myanmar, Laos, Thailand, Cambodia, and Vietnam — 6 countries over about 4,350 km.",
rq:"Six countries! China, Myanmar, Laos, Thailand, Cambodia, and Vietnam. The Mekong really gets around!",
wq:"It's 6! The Mekong flows through China, Myanmar, Laos, Thailand, Cambodia, and Vietnam."},
{d:3,cat:"Rivers & Lakes",q:"What river flows through Baghdad, Iraq?",o:["Euphrates","Nile","Tigris","Jordan"],a:2,
f:"The Tigris is about 1,900 km long. Baghdad has sat on its banks since 762 AD. The Tigris and Euphrates together define ancient Mesopotamia.",
rq:"The Tigris! Baghdad has been on its banks since 762 AD. The river of ancient Mesopotamia!",
wq:"It's the Tigris! Together with the Euphrates, it defined Mesopotamia — the cradle of civilization."},
{d:3,cat:"Straits & Waterways",q:"The Strait of Hormuz connects the Persian Gulf to which body of water?",o:["Red Sea","Arabian Sea","Indian Ocean","Gulf of Oman"],a:3,
f:"The Strait of Hormuz is about 54 km wide at its narrowest. About 20% of the world's petroleum passes through it daily.",
rq:"The Gulf of Oman! About 20% of global oil passes through Hormuz daily. That's one important strait!",
wq:"It's the Gulf of Oman! About 20% of the world's oil flows through the Strait of Hormuz."},
{d:3,cat:"Straits & Waterways",q:"The Khyber Pass connects which two countries?",o:["India and China","Iran and Iraq","Afghanistan and Pakistan","Turkey and Syria"],a:2,
f:"The Khyber Pass has been a crucial trade and invasion route for millennia, connecting Kabul to Peshawar through the Hindu Kush mountains.",
rq:"Afghanistan and Pakistan! A legendary mountain pass through the Hindu Kush, used for thousands of years.",
wq:"It's Afghanistan and Pakistan! The Khyber Pass through the Hindu Kush has been strategic for millennia."},
{d:3,cat:"Countries",q:"What European capital city is built on 14 islands?",o:["Copenhagen","Venice","Stockholm","Amsterdam"],a:2,
f:"Stockholm is spread across 14 islands connected by 57 bridges. About 30% of the city is waterways.",
rq:"Stockholm! 14 islands, 57 bridges, 30% water. It's basically a city that can't decide if it wants to be on land.",
wq:"It's Stockholm! Built across 14 islands connected by 57 bridges."},
{d:3,cat:"Countries",q:"What is the most visited country in the world by international tourists?",o:["United States","Spain","France","Italy"],a:2,
f:"France receives about 90 million international visitors per year, making it the world's most visited country. Paris alone gets about 30 million.",
rq:"France! ~90 million tourists per year. The Eiffel Tower is basically a giant tourist magnet.",
wq:"It's France! About 90 million international tourists annually — the world's most visited country."},
{d:3,cat:"Countries",q:"Which small European country lies entirely within the Pyrenees mountains?",o:["Monaco","Liechtenstein","Andorra","San Marino"],a:2,
f:"Andorra is a tiny principality of about 468 sq km between France and Spain. Its average elevation is 1,996 meters — the highest in Europe.",
rq:"Andorra! 468 sq km of pure Pyrenean glory between France and Spain. Average elevation: 1,996 meters!",
wq:"It's Andorra! A tiny principality between France and Spain with Europe's highest average elevation."},
{d:3,cat:"Physical Geography",q:"The Congo River flows into which ocean?",o:["Indian Ocean","Atlantic Ocean","Pacific Ocean","Southern Ocean"],a:1,
f:"The Congo River is the deepest river in the world (over 220 meters in places) and the second longest in Africa after the Nile.",
rq:"The Atlantic! The Congo is the world's deepest river — over 220 meters deep in spots!",
wq:"It's the Atlantic! The Congo is also the world's deepest river at over 220 meters."},
{d:3,cat:"Physical Geography",q:"What body of water lies directly north of Turkey?",o:["Mediterranean Sea","Caspian Sea","Black Sea","Aegean Sea"],a:2,
f:"The Black Sea covers about 436,000 sq km and is bordered by six countries: Turkey, Bulgaria, Romania, Ukraine, Russia, and Georgia.",
rq:"The Black Sea! Bordered by six countries and one of the world's largest landlocked bodies of water.",
wq:"It's the Black Sea! Bordered by Turkey, Bulgaria, Romania, Ukraine, Russia, and Georgia."},
{d:3,cat:"Countries",q:"In which country is Transylvania located?",o:["Hungary","Romania","Bulgaria","Moldova"],a:1,
f:"Transylvania is a historical region in central Romania, surrounded by the Carpathian Mountains. Yes, it's where the Dracula legend originated.",
rq:"Romania! Home of Transylvania, the Carpathian Mountains, and vampire legends. Geography with teeth!",
wq:"It's Romania! Transylvania is a real place in central Romania. Dracula's old neighborhood!"},
{d:3,cat:"Countries",q:"What is the second-largest country in Africa by area?",o:["Libya","Sudan","Democratic Republic of Congo","South Africa"],a:2,
f:"The DRC covers about 2.34 million sq km — roughly the size of Western Europe. It contains the world's second-largest rainforest after the Amazon.",
rq:"The DRC! 2.34 million sq km, roughly the size of Western Europe, with the world's second-largest rainforest.",
wq:"It's the Democratic Republic of Congo! About the size of Western Europe."},
{d:3,cat:"US Geography",q:"Which U.S. state has the most active volcanoes?",o:["Hawaii","Washington","California","Alaska"],a:3,
f:"Alaska has over 130 volcanoes, of which about 50 have been active in the last ~260 years. It's part of the Ring of Fire.",
rq:"Alaska! Over 130 volcanoes, ~50 recently active. Hawaii gets the fame but Alaska has the numbers!",
wq:"It's Alaska! Over 130 volcanoes — Hawaii is famous for them but Alaska has far more."},
{d:3,cat:"US Geography",q:"Which U.S. territory is in the western Pacific Ocean?",o:["Puerto Rico","U.S. Virgin Islands","Guam","American Samoa"],a:2,
f:"Guam is about 6,000 miles west of California and about 1,500 miles south of Japan. It's been a U.S. territory since 1898.",
rq:"Guam! About 6,000 miles from California. The US territory closest to Asia!",
wq:"It's Guam! A U.S. territory since 1898, located about 6,000 miles west of California."},
{d:3,cat:"Countries",q:"Which country has the most World Heritage Sites in Asia?",o:["India","Japan","China","Turkey"],a:2,
f:"China has about 57 UNESCO World Heritage Sites, including the Great Wall, the Forbidden City, and the Terracotta Army.",
rq:"China! About 57 UNESCO sites including the Great Wall and the Terracotta Army. Quality AND quantity!",
wq:"It's China! With ~57 World Heritage Sites, it leads Asia by a significant margin."},
{d:3,cat:"Climate & Weather",q:"What is the driest non-polar desert in the world?",o:["Sahara","Namib","Atacama","Mojave"],a:2,
f:"Parts of the Atacama Desert in Chile have received no recorded rainfall in history. NASA uses it to test Mars rovers because it's so similar to the Martian surface.",
rq:"The Atacama! So dry that NASA tests Mars rovers there. Let that sink in!",
wq:"It's the Atacama in Chile! Parts have NEVER recorded rainfall. NASA uses it to simulate Mars."},
{d:3,cat:"Climate & Weather",q:"What climate phenomenon is characterized by unusually warm Pacific Ocean surface temperatures?",o:["La Niña","Monsoon","El Niño","Trade Winds"],a:2,
f:"El Niño occurs every 2-7 years and can cause flooding in South America, drought in Australia, and weather disruptions worldwide.",
rq:"El Niño! 'The Boy' in Spanish — a global weather disruptor that shows up every 2-7 years.",
wq:"It's El Niño! It causes worldwide weather disruptions every 2-7 years. La Niña is the cool phase."},
{d:3,cat:"Landmarks",q:"The Ural Mountains are located entirely within which country?",o:["Kazakhstan","China","Russia","Mongolia"],a:2,
f:"The Urals stretch about 2,500 km from the Arctic Ocean to Kazakhstan. They're one of the oldest mountain ranges on Earth, over 300 million years old.",
rq:"Russia! The Urals are over 300 million years old — ancient even by mountain standards!",
wq:"It's Russia! The Urals run 2,500 km through Russia from the Arctic to the Kazakhstan border."},
{d:3,cat:"Physical Geography",q:"What is the largest atoll in the world by land area?",o:["Bikini Atoll","Kiritimati (Christmas Island)","Kwajalein","Rangiroa"],a:1,
f:"Kiritimati (Christmas Island) in Kiribati has about 388 sq km of land area, making it the world's largest atoll by land area.",
rq:"Kiritimati! 388 sq km of coral reef land. Also the first place to ring in each New Year!",
wq:"It's Kiritimati (Christmas Island)! The world's largest atoll at about 388 sq km of land."},
{d:3,cat:"Countries",q:"What country has the highest capital city in the world (by administrative capital)?",o:["Nepal","Ecuador","Bolivia","Colombia"],a:2,
f:"La Paz, Bolivia sits at about 3,640 meters elevation. It's the administrative capital — Sucre is the constitutional capital at a lower 2,810 meters.",
rq:"Bolivia! La Paz sits at ~3,640 meters. Even breathing is an achievement at that altitude!",
wq:"It's Bolivia! La Paz at ~3,640 meters is the world's highest administrative capital."},
{d:3,cat:"Borders & Neighbors",q:"Which country is entirely surrounded by South Africa?",o:["Eswatini","Lesotho","Botswana","Mozambique"],a:1,
f:"Lesotho is one of only three countries completely surrounded by a single other country (along with Vatican City and San Marino within Italy).",
rq:"Lesotho! Completely encircled by South Africa. It's the country equivalent of being in a geographic hug!",
wq:"It's Lesotho! One of only three countries completely surrounded by a single other country."},
{d:3,cat:"Rivers & Lakes",q:"What river flows through Cairo, Egypt?",o:["Tigris","Euphrates","Jordan","Nile"],a:3,
f:"Cairo sits on the eastern bank of the Nile, just south of where the river splits into the Nile Delta. It's been inhabited for over 1,000 years.",
rq:"The Nile! Cairo has sat on its banks for over a millennium. The original waterfront property.",
wq:"It's the Nile! Cairo sits just south of where the Nile fans out into its famous delta."},
{d:3,cat:"Historical Geography",q:"What was the former name of Istanbul?",o:["Ankara","Byzantium/Constantinople","Athens","Alexandria"],a:1,
f:"The city was called Byzantium (before 330 AD), then Constantinople (330-1453), then Istanbul after the Ottoman conquest. It's been a capital of three empires.",
rq:"Byzantium and Constantinople! Capital of the Roman, Byzantine, AND Ottoman Empires. Three empires, one address!",
wq:"It's Byzantium/Constantinople! Capital of three successive empires before becoming Istanbul."},
{d:3,cat:"Historical Geography",q:"The ancient region of Mesopotamia, the 'cradle of civilization,' is mostly in which modern country?",o:["Iran","Turkey","Iraq","Syria"],a:2,
f:"Mesopotamia ('land between the rivers' Tigris and Euphrates) is largely in modern Iraq. It's where writing, cities, and agriculture first developed around 3500 BC.",
rq:"Iraq! Mesopotamia — between the Tigris and Euphrates. Writing, cities, and beer were invented here!",
wq:"It's Iraq! Ancient Mesopotamia lay between the Tigris and Euphrates — mostly in modern Iraq."},
{d:3,cat:"Countries",q:"What is the most densely populated country in the world with over 10 million people?",o:["South Korea","India","Bangladesh","Netherlands"],a:2,
f:"Bangladesh has about 170 million people in just 148,460 sq km — over 1,100 people per sq km. For comparison, the US has about 36 per sq km.",
rq:"Bangladesh! Over 1,100 people per sq km with 170 million total. For scale, the US has 36 per sq km!",
wq:"It's Bangladesh! About 170 million people in an area smaller than Iowa. Over 1,100 per sq km!"},
{d:3,cat:"Landmarks",q:"The Taj Mahal is located in which Indian city?",o:["New Delhi","Jaipur","Agra","Mumbai"],a:2,
f:"The Taj Mahal was built between 1632-1653 by Mughal Emperor Shah Jahan as a tomb for his wife Mumtaz Mahal. About 20,000 workers built it.",
rq:"Agra! Built by Shah Jahan for his wife — the world's most elaborate 'I love you.'",
wq:"It's Agra! The Taj Mahal was built there between 1632-1653 by Emperor Shah Jahan."},
{d:3,cat:"Countries",q:"Which country has the flag with a dragon on it?",o:["Mongolia","Bhutan","Nepal","Laos"],a:1,
f:"Bhutan's flag features a white dragon called Druk on a diagonally divided orange and yellow background. Bhutan calls itself 'Land of the Thunder Dragon.'",
rq:"Bhutan! Land of the Thunder Dragon! Their flag features Druk, a white dragon. Coolest flag ever?",
wq:"It's Bhutan! Self-proclaimed 'Land of the Thunder Dragon' — and their flag proves it."},
{d:3,cat:"Countries",q:"What country has the only non-rectangular national flag?",o:["Bhutan","Switzerland","Nepal","Vatican City"],a:2,
f:"Nepal's flag consists of two stacked triangular pennants. Switzerland and Vatican City have square flags, but Nepal's is truly unique in shape.",
rq:"Nepal! Two stacked triangles — the world's only non-rectangular flag. Geometry rebels unite!",
wq:"It's Nepal! The world's only non-rectangular national flag — two stacked triangles."},
{d:3,cat:"Map Skills",q:"The International Date Line roughly follows which line of longitude?",o:["0° (Prime Meridian)","90°E","180°","90°W"],a:2,
f:"The International Date Line roughly follows 180° longitude through the Pacific Ocean, with several deviations to avoid splitting countries across two dates.",
rq:"180° longitude! It zigzags through the Pacific so countries don't wake up on two different days.",
wq:"It's 180° longitude! It zigzags through the Pacific to keep countries on a single date."},
{d:3,cat:"Map Skills",q:"What is the term for the imaginary line at 23.5°N latitude?",o:["Tropic of Capricorn","Arctic Circle","Tropic of Cancer","Antarctic Circle"],a:2,
f:"The Tropic of Cancer marks the northernmost latitude where the sun can appear directly overhead (at the June solstice). It passes through Mexico, Egypt, India, and China.",
rq:"The Tropic of Cancer! At 23.5°N — where the sun goes directly overhead at the June solstice.",
wq:"It's the Tropic of Cancer! At 23.5°N latitude, marking the sun's northernmost overhead position."},
{d:3,cat:"Economy & Resources",q:"Which country produces the most coffee in the world?",o:["Colombia","Ethiopia","Vietnam","Brazil"],a:3,
f:"Brazil produces about 30% of the world's coffee — roughly 3 million tonnes per year. It's been the top producer for over 150 years.",
rq:"Brazil! 30% of the world's coffee for 150+ years. The planet runs on Brazilian beans!",
wq:"It's Brazil! About 30% of the world's coffee — the top producer for over 150 years."},
{d:3,cat:"Economy & Resources",q:"The Strait of Malacca, a critical shipping lane, lies between the Malay Peninsula and which island?",o:["Borneo","Java","Sumatra","Sulawesi"],a:2,
f:"The Strait of Malacca is about 900 km long. At its narrowest, it's only 2.8 km wide. About 25% of world traded goods pass through it.",
rq:"Sumatra! 25% of global trade passes through this strait. That's one important water hallway!",
wq:"It's Sumatra! The Strait of Malacca handles about 25% of all world trade."},
{d:3,cat:"Extreme Geography",q:"What is the lowest point on Earth's land surface?",o:["Death Valley, USA","Turpan Depression, China","Dead Sea shore","Danakil Depression, Ethiopia"],a:2,
f:"The shore of the Dead Sea is about 430 meters below sea level, making it the lowest point on Earth's land surface. It drops even lower underwater.",
rq:"The Dead Sea shore! About 430 meters below sea level. Going there is literally going downhill in life.",
wq:"It's the Dead Sea shore! About 430 meters below sea level — Earth's lowest land point."},
{d:3,cat:"Extreme Geography",q:"What is the wettest inhabited place on Earth by average annual rainfall?",o:["Cherrapunji, India","Mawsynram, India","Mount Waialeale, Hawaii","Lloró, Colombia"],a:1,
f:"Mawsynram in Meghalaya, India receives about 11,871mm of rain per year. That's nearly 12 meters of rain annually — mostly during monsoon season.",
rq:"Mawsynram! Nearly 12 METERS of rain per year. Your umbrella is useless there.",
wq:"It's Mawsynram, India! About 11,871mm of rain per year — nearly 12 meters!"},
{d:3,cat:"Countries",q:"What is the official language of Brazil?",o:["Spanish","Portuguese","Brazilian","English"],a:1,
f:"Brazil is the only Portuguese-speaking country in the Americas. It was a colony of Portugal from 1500 to 1822.",
rq:"Portuguese! Brazil is the only Portuguese-speaking country in the Americas. Not Spanish — that surprises many!",
wq:"It's Portuguese! Brazil was a Portuguese colony, making it the only lusophone country in the Americas."},
// ═══ DIFFICULTY 4: "The Gauntlet" (Very Hard) ═══
{d:4,cat:"Capitals",q:"What is the capital of Ivory Coast (Côte d'Ivoire)?",o:["Abidjan","Bouaké","Yamoussoukro","San-Pédro"],a:2,
f:"Yamoussoukro became the capital in 1983, though Abidjan remains the economic hub. Yamoussoukro has the world's largest church — the Basilica of Our Lady of Peace.",
rq:"Yamoussoukro! Home to the world's largest church. Abidjan is bigger but Yamoussoukro has the title!",
wq:"It's Yamoussoukro! Abidjan is the economic capital, but Yamoussoukro has been official since 1983."},
{d:4,cat:"Capitals",q:"What is the capital of Laos?",o:["Luang Prabang","Vientiane","Savannakhet","Pakse"],a:1,
f:"Vientiane sits on the Mekong River across from Thailand. It's one of the quietest and least developed capital cities in Southeast Asia.",
rq:"Vientiane! A sleepy capital on the Mekong. One of Southeast Asia's most chill administrative centers.",
wq:"It's Vientiane! Situated on the Mekong River, directly across from Thailand."},
{d:4,cat:"Capitals",q:"What is the capital of Honduras?",o:["San Pedro Sula","Tegucigalpa","La Ceiba","Comayagua"],a:1,
f:"Tegucigalpa is one of the few capital cities in the Americas without a railway. It sits in a mountain valley at about 990 meters elevation.",
rq:"Tegucigalpa! One of the few capitals in the Americas with no railway. The city that skipped trains!",
wq:"It's Tegucigalpa! A mountain valley capital at ~990 meters — and no railway!"},
{d:4,cat:"Capitals",q:"What is the capital of Nepal?",o:["Pokhara","Kathmandu","Bharatpur","Lalitpur"],a:1,
f:"Kathmandu sits at about 1,400 meters in a valley surrounded by the Himalayas. The Kathmandu Valley contains seven UNESCO World Heritage Sites.",
rq:"Kathmandu! 7 UNESCO sites in one valley. Gateway to Everest and to correct answers!",
wq:"It's Kathmandu! The gateway to the Himalayas with 7 UNESCO sites in its valley."},
{d:4,cat:"Capitals",q:"What is the capital of Venezuela?",o:["Maracaibo","Valencia","Caracas","Barquisimeto"],a:2,
f:"Caracas sits in a valley at about 900 meters elevation. Founded in 1567, it's the birthplace of Simón Bolívar, the liberator of much of South America.",
rq:"Caracas! Birthplace of Simón Bolívar, who liberated half of South America. Big capital energy!",
wq:"It's Caracas! Birthplace of the legendary South American liberator Simón Bolívar."},
{d:4,cat:"Capitals",q:"What is the capital of Bangladesh?",o:["Chittagong","Dhaka","Khulna","Rajshahi"],a:1,
f:"Dhaka is one of the most densely populated cities on Earth with about 36,000 people per sq km in the city proper. Its metro has over 22 million people.",
rq:"Dhaka! ~36,000 people per sq km. One of the most densely packed cities on the planet!",
wq:"It's Dhaka! With about 36,000 people per sq km, it's one of the world's most crowded cities."},
{d:4,cat:"Rivers & Lakes",q:"What is the longest river in Australia?",o:["Darling River","Murray River","Murrumbidgee River","Lachlan River"],a:1,
f:"The Murray River stretches about 2,508 km through southeastern Australia. Together with the Darling, it forms Australia's most important river system.",
rq:"The Murray! 2,508 km through southeastern Australia. The continent's liquid lifeline!",
wq:"It's the Murray River! About 2,508 km — Australia's longest and most important river."},
{d:4,cat:"Rivers & Lakes",q:"What is the longest river in the United States?",o:["Mississippi","Colorado","Missouri","Ohio"],a:2,
f:"The Missouri River is about 3,767 km long — slightly longer than the Mississippi (3,766 km). Together they form the 4th longest river system in the world.",
rq:"The Missouri! At 3,767 km it barely edges out the Mississippi by 1 km. The ultimate photo finish!",
wq:"It's the Missouri! At 3,767 km, it's actually slightly longer than the Mississippi by about 1 km."},
{d:4,cat:"Countries",q:"Which two countries are 'doubly landlocked' (surrounded only by landlocked countries)?",o:["Mongolia and Nepal","Liechtenstein and Uzbekistan","Chad and Niger","Bolivia and Paraguay"],a:1,
f:"Liechtenstein (surrounded by Switzerland and Austria) and Uzbekistan (surrounded by 5 landlocked countries) are the world's only doubly landlocked nations.",
rq:"Liechtenstein and Uzbekistan! To reach the ocean from either, you must cross at least two borders. Geographic inception!",
wq:"It's Liechtenstein and Uzbekistan! The only two countries completely surrounded by landlocked countries."},
{d:4,cat:"Countries",q:"What is the only country in the world entirely above 1,000 meters elevation?",o:["Nepal","Lesotho","Bhutan","Bolivia"],a:1,
f:"Lesotho's lowest point is about 1,400 meters. Completely surrounded by South Africa, it's called 'The Kingdom in the Sky.'",
rq:"Lesotho! The Kingdom in the Sky! Lowest point: 1,400 meters. This country doesn't do low ground.",
wq:"It's Lesotho! Its lowest point is ~1,400 meters — the only country entirely above 1,000m."},
{d:4,cat:"Oceans & Seas",q:"What is the only sea in the world with no land boundaries?",o:["Caspian Sea","Sargasso Sea","Coral Sea","Aral Sea"],a:1,
f:"The Sargasso Sea in the North Atlantic is bounded only by ocean currents — the Gulf Stream, North Atlantic Current, Canary Current, and North Atlantic Equatorial Current.",
rq:"The Sargasso Sea! Bounded only by currents, no land at all. The free spirit of seas!",
wq:"It's the Sargasso Sea! Defined only by ocean currents — no land boundaries whatsoever."},
{d:4,cat:"Oceans & Seas",q:"The Dead Sea borders Israel, the West Bank, and which other country?",o:["Syria","Lebanon","Jordan","Egypt"],a:2,
f:"The Dead Sea's surface is about 430 meters below sea level — Earth's lowest land point. Its salinity is about 34%, roughly 10 times saltier than the ocean.",
rq:"Jordan! The Dead Sea sits about 430 meters below sea level. So salty nothing lives in it — hence the name!",
wq:"It's Jordan! The Dead Sea at ~430 meters below sea level is Earth's lowest land point."},
{d:4,cat:"Countries",q:"Which European country has the most UNESCO World Heritage Sites?",o:["Spain","France","Italy","Germany"],a:2,
f:"Italy has about 60 UNESCO World Heritage Sites — more than any other country on Earth. Sites range from the Colosseum to Venice to Pompeii.",
rq:"Italy! 60 UNESCO sites — more than ANY country on Earth. Italy is basically a living museum!",
wq:"It's Italy! With 60 World Heritage Sites, it leads the entire world. From Rome to Venice to Pompeii."},
{d:4,cat:"Map Skills",q:"The Prime Meridian (0° longitude) passes through Greenwich, England and which of these African countries?",o:["Ghana","Nigeria","Morocco","Egypt"],a:0,
f:"The Prime Meridian passes through 8 countries including Ghana, where it crosses near the coastal city of Tema, just east of Accra.",
rq:"Ghana! The Prime Meridian passes right through, near Tema. One of the few spots where 0° longitude meets near-0° latitude!",
wq:"It's Ghana! The Prime Meridian passes through near Tema, close to the capital Accra."},
{d:4,cat:"Historical Geography",q:"What was the former name of the country now known as Myanmar?",o:["Siam","Ceylon","Burma","Indochina"],a:2,
f:"Myanmar was known as Burma until 1989 when the military government changed the name. Many countries and organizations still use 'Burma.'",
rq:"Burma! The name changed in 1989. Some countries still officially use 'Burma' today.",
wq:"It's Burma! The military government renamed it Myanmar in 1989, though both names persist."},
{d:4,cat:"Historical Geography",q:"What was the former name of Sri Lanka?",o:["Siam","Burma","Formosa","Ceylon"],a:3,
f:"Sri Lanka was known as Ceylon until 1972. It was a British colony as 'British Ceylon' from 1815 to 1948. The name Sri Lanka means 'Resplendent Island.'",
rq:"Ceylon! Changed to Sri Lanka in 1972. 'Resplendent Island' — much better branding!",
wq:"It's Ceylon! The country renamed itself Sri Lanka ('Resplendent Island') in 1972."},
{d:4,cat:"Countries",q:"What is the largest country in Central America by area?",o:["Guatemala","Honduras","Nicaragua","Panama"],a:2,
f:"Nicaragua covers about 130,370 sq km — the largest Central American country. It contains the two largest lakes in Central America: Lake Nicaragua and Lake Managua.",
rq:"Nicaragua! 130,370 sq km with Central America's two largest lakes. Big country, big water!",
wq:"It's Nicaragua! The largest Central American country, home to the region's two biggest lakes."},
{d:4,cat:"Economy & Resources",q:"Which country is the world's largest producer of crude oil (as of recent years)?",o:["Saudi Arabia","Russia","United States","Iraq"],a:2,
f:"The United States became the world's largest crude oil producer around 2018, largely due to the shale oil revolution, surpassing both Saudi Arabia and Russia.",
rq:"The United States! The shale revolution pushed the US to #1 around 2018. Plot twist!",
wq:"It's the United States! The shale oil revolution made it the world's top producer around 2018."},
{d:4,cat:"Economy & Resources",q:"What mineral-rich region in southeastern Democratic Republic of Congo is crucial for global cobalt supply?",o:["Copperbelt","Katanga","Bushveld","Witwatersrand"],a:1,
f:"The Katanga (Shaba) region produces about 70% of the world's cobalt, essential for lithium-ion batteries in phones and electric vehicles.",
rq:"Katanga! About 70% of global cobalt comes from here. Your phone battery probably has some Katanga in it.",
wq:"It's Katanga! This region supplies ~70% of global cobalt — crucial for modern batteries."},
{d:4,cat:"Countries",q:"Which country has coastline on both the Atlantic and Mediterranean?",o:["Portugal","Morocco","Tunisia","Algeria"],a:1,
f:"Morocco has an Atlantic coast to the west and Mediterranean coast to the north, meeting at the Strait of Gibraltar.",
rq:"Morocco! Atlantic on the west, Mediterranean on the north. Double ocean frontage!",
wq:"It's Morocco! It's one of only a few countries with both Atlantic and Mediterranean coastlines."},
{d:4,cat:"Climate & Weather",q:"What is the hottest temperature ever reliably recorded on Earth?",o:["56.7°C (134°F) in Death Valley","54°C (129.2°F) in Kuwait","53.9°C (129°F) in Iran","58°C (136.4°F) in Libya"],a:0,
f:"Death Valley, California recorded 56.7°C (134°F) on July 10, 1913. A 1922 Libyan reading of 58°C was later invalidated by the WMO.",
rq:"Death Valley! 56.7°C on July 10, 1913. Hot enough to literally fry an egg on the ground!",
wq:"It's Death Valley! 56.7°C (134°F) in 1913 — the highest reliably recorded temperature ever."},
{d:4,cat:"Islands",q:"What is the second-largest island in the world?",o:["Borneo","New Guinea","Madagascar","Baffin Island"],a:1,
f:"New Guinea covers about 786,000 sq km and is split between Indonesia (western half) and Papua New Guinea (eastern half).",
rq:"New Guinea! About 786,000 sq km split between Indonesia and Papua New Guinea.",
wq:"It's New Guinea! The world's second-largest island at ~786,000 sq km, split between two countries."},
{d:4,cat:"Islands",q:"Which country is an island nation in the Indian Ocean, known for lemurs?",o:["Seychelles","Comoros","Madagascar","Mauritius"],a:2,
f:"Madagascar is the world's fourth-largest island. About 90% of its wildlife is found nowhere else on Earth due to 88 million years of isolation.",
rq:"Madagascar! 90% of its wildlife is endemic — found NOWHERE else on Earth. Nature's laboratory!",
wq:"It's Madagascar! 90% of its species exist nowhere else — the result of 88 million years of isolation."},
{d:4,cat:"Islands",q:"Which archipelago nation straddles the equator in the Indian Ocean, southwest of India?",o:["Sri Lanka","Comoros","Maldives","Seychelles"],a:2,
f:"The Maldives consists of about 1,190 coral islands. Its average elevation is just 1.5 meters above sea level — the lowest country on Earth.",
rq:"The Maldives! Average elevation: 1.5 meters. The lowest country on Earth and most vulnerable to rising seas.",
wq:"It's the Maldives! ~1,190 islands averaging just 1.5 meters above sea level — the world's lowest country."},
{d:4,cat:"Population",q:"What is the most populous city in Africa?",o:["Cairo","Kinshasa","Lagos","Johannesburg"],a:2,
f:"Lagos, Nigeria has an estimated metro population of 15-21 million (estimates vary widely). It's one of the fastest-growing cities on Earth.",
rq:"Lagos! Growing at breakneck speed — one of the fastest-urbanizing cities on the planet!",
wq:"It's Lagos! With 15-21 million in the metro area, it's Africa's most populous city."},
{d:4,cat:"Population",q:"What is the most populous city in South America?",o:["Buenos Aires","Lima","São Paulo","Bogotá"],a:2,
f:"São Paulo's metro area has about 22 million people, making it the most populous city in the Southern Hemisphere and in all of the Americas south of Mexico City.",
rq:"São Paulo! 22 million in the metro area — the most populous city in the entire Southern Hemisphere!",
wq:"It's São Paulo! About 22 million people — the Southern Hemisphere's largest metro area."},
{d:4,cat:"Extreme Geography",q:"What is the largest freshwater lake by volume in the world?",o:["Lake Superior","Lake Tanganyika","Lake Victoria","Lake Baikal"],a:3,
f:"Lake Baikal holds about 23,615 cubic km of water — roughly 20% of all unfrozen surface freshwater on Earth. It alone holds more water than all 5 Great Lakes combined.",
rq:"Lake Baikal! More freshwater than all 5 Great Lakes COMBINED. Baikal doesn't share the podium!",
wq:"It's Lake Baikal! It holds more water than all five North American Great Lakes put together."},
{d:4,cat:"Extreme Geography",q:"What is the most isolated inhabited island in the world?",o:["Easter Island","Pitcairn Island","Tristan da Cunha","Bouvet Island"],a:2,
f:"Tristan da Cunha in the South Atlantic is about 2,400 km from the nearest inhabited land (Saint Helena). It has about 250 permanent residents.",
rq:"Tristan da Cunha! 2,400 km from the nearest neighbor, population ~250. The ultimate 'leave me alone.'",
wq:"It's Tristan da Cunha! About 2,400 km from anywhere, with just ~250 residents."},
{d:4,cat:"Countries",q:"How many countries does the equator pass through?",o:["9","11","13","15"],a:2,
f:"The equator passes through 13 countries: Ecuador, Colombia, Brazil, São Tomé and Príncipe, Gabon, Republic of Congo, DRC, Uganda, Kenya, Somalia, Maldives, Indonesia, and Kiribati.",
rq:"13 countries! From Ecuador to Kiribati, the equator is quite the world traveler!",
wq:"It's 13! The equator touches countries on 3 continents plus island nations in 2 oceans."},
{d:4,cat:"Borders & Neighbors",q:"What is the shortest international border in the world?",o:["Vatican City-Italy","Monaco-France","Botswana-Zambia","Spain-Gibraltar"],a:2,
f:"The Botswana-Zambia border is only about 150 meters long, at a single point where the two countries meet at the Zambezi River confluence.",
rq:"Botswana-Zambia! About 150 meters — barely a border, more like a geographic handshake!",
wq:"It's the Botswana-Zambia border! Just ~150 meters where the countries barely touch at the Zambezi."},
{d:4,cat:"Straits & Waterways",q:"The Drake Passage, one of the roughest sea crossings, lies between South America and which continent?",o:["Africa","Antarctica","Australia","North America"],a:1,
f:"The Drake Passage is about 800 km wide between Cape Horn and the South Shetland Islands of Antarctica. Waves can exceed 12 meters.",
rq:"Antarctica! The Drake Passage: 800 km of some of the roughest seas on Earth. Bring Dramamine!",
wq:"It's Antarctica! The Drake Passage between South America and Antarctica is notoriously rough."},
{d:4,cat:"Physical Geography",q:"What is the world's largest river by discharge volume (water flow)?",o:["Nile","Mississippi","Congo","Amazon"],a:3,
f:"The Amazon discharges about 209,000 cubic meters per second — more than the next seven largest rivers COMBINED. It accounts for about 20% of all river water entering the ocean.",
rq:"The Amazon! 20% of ALL river water entering the ocean comes from one river. The Amazon doesn't share!",
wq:"It's the Amazon! Its discharge equals the next seven largest rivers combined — 20% of all river outflow."},
{d:4,cat:"Countries",q:"What is the newest internationally recognized country (as of 2024)?",o:["Kosovo","East Timor","South Sudan","Montenegro"],a:2,
f:"South Sudan declared independence from Sudan on July 9, 2011, making it the newest UN member state. It became the 193rd member of the United Nations.",
rq:"South Sudan! Independent since July 9, 2011 — the 193rd UN member state. The baby of the world!",
wq:"It's South Sudan! It declared independence from Sudan in 2011 and joined the UN as member #193."},
{d:4,cat:"Cultural Geography",q:"What writing system is used for the Hindi language?",o:["Arabic","Latin","Cyrillic","Devanagari"],a:3,
f:"Devanagari is used for Hindi, Sanskrit, Marathi, and Nepali among other languages. It's written left to right and has 47 primary characters.",
rq:"Devanagari! Used for Hindi, Sanskrit, and several other South Asian languages. Beautiful script!",
wq:"It's Devanagari! The script used for Hindi, Sanskrit, Marathi, Nepali, and other languages."},
{d:4,cat:"Cultural Geography",q:"What is the most widely spoken language in South America?",o:["Spanish","Portuguese","Quechua","English"],a:1,
f:"Portuguese is the most spoken language in South America because Brazil — which has about 215 million people — accounts for roughly half the continent's population.",
rq:"Portuguese! Brazil's 215 million people tip the scales. Spanish is spoken in more countries, but Portuguese wins by population!",
wq:"It's Portuguese! Brazil's massive population makes Portuguese #1 in South America by speakers."},
{d:4,cat:"Physical Geography",q:"What type of biome covers the most land area on Earth?",o:["Tropical Rainforest","Desert","Tundra","Taiga (Boreal Forest)"],a:3,
f:"Taiga (boreal forest) covers about 17 million sq km across Russia, Canada, Scandinavia, and Alaska — the world's largest terrestrial biome.",
rq:"Taiga! 17 million sq km of coniferous forest across the Northern Hemisphere. Earth's biggest biome!",
wq:"It's the Taiga! About 17 million sq km of boreal forest — the largest land biome on Earth."},
{d:4,cat:"Extreme Geography",q:"Which country has the highest point in Africa?",o:["Kenya","Ethiopia","Tanzania","Uganda"],a:2,
f:"Tanzania is home to Mount Kilimanjaro at 5,895 meters — Africa's tallest peak and the world's tallest free-standing mountain.",
rq:"Tanzania! Kilimanjaro at 5,895 meters. Africa's rooftop — and a free-standing volcano!",
wq:"It's Tanzania! Mount Kilimanjaro (5,895 m) is Africa's highest point."},
{d:4,cat:"Countries",q:"Which country is home to the ancient city of Petra, carved into rose-red cliffs?",o:["Lebanon","Jordan","Egypt","Saudi Arabia"],a:1,
f:"Petra was the capital of the Nabataean Kingdom around the 4th century BC. It was 'lost' to the Western world until rediscovery in 1812.",
rq:"Jordan! Petra was lost to the Western world until 1812. The ultimate archaeological mic drop!",
wq:"It's Jordan! Petra, carved into rose-red sandstone, was 'lost' until its rediscovery in 1812."},
{d:4,cat:"Countries",q:"What country has the most spoken languages?",o:["India","Nigeria","Papua New Guinea","Indonesia"],a:2,
f:"Papua New Guinea has about 840 living languages — the most linguistically diverse country on Earth, with many spoken by just a few hundred people.",
rq:"Papua New Guinea! ~840 languages in a country of 10 million. That's one language per ~12,000 people!",
wq:"It's Papua New Guinea! About 840 living languages — the most linguistically diverse nation on Earth."},
{d:4,cat:"Landmarks",q:"What is the name of the massive sandstone monolith in central Australia?",o:["The Pinnacles","Kata Tjuta","Uluru (Ayers Rock)","Devils Marbles"],a:2,
f:"Uluru stands about 348 meters high and has a circumference of 9.4 km. It's sacred to the Anangu Aboriginal people and is about 550 million years old.",
rq:"Uluru! 348 meters high, 550 million years old, and sacred to the Anangu people. Respect the rock!",
wq:"It's Uluru (Ayers Rock)! A 550-million-year-old monolith sacred to the Anangu Aboriginal people."},
{d:4,cat:"Landmarks",q:"The Galápagos Islands sit on the equator in which ocean?",o:["Atlantic Ocean","Indian Ocean","Pacific Ocean","Southern Ocean"],a:2,
f:"The Galápagos are about 1,000 km west of Ecuador in the Pacific. They sit at the junction of three tectonic plates and three ocean currents.",
rq:"The Pacific! Three tectonic plates, three ocean currents, one evolutionary paradise!",
wq:"It's the Pacific Ocean! About 1,000 km off Ecuador's coast."},
{d:4,cat:"Physical Geography",q:"What is the name of the vast, treeless plain that covers much of northern Russia and Canada?",o:["Steppe","Savanna","Tundra","Pampas"],a:2,
f:"Tundra covers about 20% of Earth's land surface. Permafrost (permanently frozen ground) underlies most tundra, sometimes extending hundreds of meters deep.",
rq:"Tundra! 20% of Earth's land surface. Permanently frozen ground, zero trees, maximum chill.",
wq:"It's Tundra! Covering ~20% of Earth's land with permafrost and no trees."},
{d:4,cat:"Countries",q:"What is the smallest country in Asia by area?",o:["Bahrain","Singapore","Maldives","Brunei"],a:2,
f:"The Maldives covers about 298 sq km of land area across roughly 1,190 coral islands. It's both the smallest and lowest country in Asia.",
rq:"The Maldives! 298 sq km spread across 1,190 islands. The smallest AND lowest country in Asia!",
wq:"It's the Maldives! Just 298 sq km of land — the smallest country in all of Asia."},
// ═══ EXTRA DIFFICULTY 4 QUESTIONS ═══
{d:4,cat:"Countries",q:"What is the only country in Central America that does NOT have a Pacific coastline?",o:["Guatemala","Belize","Honduras","Nicaragua"],a:1,
f:"Belize faces only the Caribbean Sea. It's also the only Central American country where English is the official language.",
rq:"Belize! Caribbean only, no Pacific. Also the only English-speaking country in Central America!",
wq:"It's Belize! The Caribbean-facing, English-speaking outlier of Central America."},
{d:4,cat:"Mountains & Deserts",q:"In what country would you find the Atacama Desert, one of the driest places on Earth?",o:["Peru","Argentina","Chile","Bolivia"],a:2,
f:"The Atacama Desert in Chile receives less than 1 mm of rain per year in some areas. Some weather stations there have NEVER recorded rain.",
rq:"Chile! The Atacama is so dry that some spots have literally never recorded rainfall. Ever!",
wq:"It's Chile! The Atacama is so dry that NASA uses it to test Mars rovers."},
{d:4,cat:"Islands",q:"What is the largest island in the Mediterranean Sea?",o:["Sardinia","Crete","Cyprus","Sicily"],a:3,
f:"Sicily covers about 25,711 sq km. It's home to Mount Etna, one of the world's most active volcanoes.",
rq:"Sicily! 25,711 sq km and home to Mount Etna. The Mediterranean's volcanic big kid!",
wq:"It's Sicily! Largest Mediterranean island and home to the very active Mount Etna."},
{d:4,cat:"Physical Geography",q:"What is the term for a narrow body of water connecting two larger bodies of water?",o:["Isthmus","Peninsula","Strait","Archipelago"],a:2,
f:"Famous straits include the Strait of Gibraltar (connecting the Mediterranean to the Atlantic) and the Strait of Malacca (connecting the Indian Ocean to the Pacific).",
rq:"A strait! Gibraltar, Malacca, Hormuz — the world's most important shortcuts between seas!",
wq:"It's a strait! Don't confuse it with an isthmus, which is a narrow strip of LAND."},
{d:4,cat:"Cultural Geography",q:"What language is spoken in the most countries worldwide?",o:["Spanish","French","English","Mandarin Chinese"],a:2,
f:"English is an official or co-official language in roughly 58–67 sovereign states, depending how you count. While Mandarin has more native speakers, English has the widest geographic spread.",
rq:"English! Official in dozens of countries across every continent. Most native speakers go to Mandarin, but English wins the geography game!",
wq:"It's English! Official or co-official in dozens of countries — the widest geographic spread of any language."},
{d:4,cat:"Borders & Neighbors",q:"What is the longest international border in the world?",o:["Russia–China","USA–Canada","Russia–Kazakhstan","Brazil–Argentina"],a:1,
f:"The US–Canada border stretches about 8,891 km (including the Alaska–Canada border). It's the world's longest international boundary between two countries.",
rq:"USA–Canada! About 8,891 km including Alaska's border. The world's longest peaceful boundary!",
wq:"It's USA–Canada! About 8,891 km including the Alaska–Canada section."},
{d:4,cat:"Economy & Resources",q:"What country is the world's largest producer of coffee?",o:["Colombia","Vietnam","Ethiopia","Brazil"],a:3,
f:"Brazil produces roughly one-third of the world's coffee. The state of Minas Gerais alone produces more coffee than most countries.",
rq:"Brazil! About a third of all the world's coffee. Your morning cup probably started there!",
wq:"It's Brazil! Roughly one-third of the global coffee supply comes from Brazilian farms."},
{d:4,cat:"Historical Geography",q:"What present-day country was formerly known as Persia?",o:["Iraq","Iran","Turkey","Afghanistan"],a:1,
f:"Persia officially changed its name to Iran in 1935. The name 'Iran' means 'Land of the Aryans' in Persian.",
rq:"Iran! Persia became Iran in 1935. Same great civilization, new name!",
wq:"It's Iran! The name changed from Persia to Iran in 1935."},
{d:4,cat:"Landmarks",q:"In what country is the ancient city of Petra, carved into pink sandstone cliffs?",o:["Jordan","Egypt","Lebanon","Syria"],a:0,
f:"Petra was the capital of the Nabataean Kingdom around 300 BC. It was 'lost' to Western knowledge until Swiss explorer Johann Ludwig Burckhardt found it in 1812.",
rq:"Jordan! Petra was lost to the West for centuries until 1812. An entire city carved into cliffs!",
wq:"It's Jordan! Petra, the Rose City, is one of the New Seven Wonders of the World."},
{d:4,cat:"Countries",q:"What is the smallest country in mainland Africa by area?",o:["Eswatini","Djibouti","Rwanda","The Gambia"],a:3,
f:"The Gambia covers about 11,295 sq km — a thin strip of land along the Gambia River, almost entirely surrounded by Senegal.",
rq:"The Gambia! A narrow sliver along a river, nearly swallowed by Senegal. Africa's mainland minimalist!",
wq:"It's The Gambia! A narrow strip along the Gambia River, nearly surrounded by Senegal."},
{d:4,cat:"Oceans & Seas",q:"What is the saltiest body of water on Earth?",o:["Dead Sea","Great Salt Lake","Don Juan Pond","Caspian Sea"],a:2,
f:"Don Juan Pond in Antarctica has a salinity of over 40% — more than 10 times saltier than the ocean. It's so salty it doesn't freeze even at -50°C.",
rq:"Don Juan Pond! Over 40% salinity, so salty it won't freeze even in Antarctica. Take THAT, Dead Sea!",
wq:"It's Don Juan Pond in Antarctica! Over 40% salinity — way saltier than the Dead Sea."},
{d:4,cat:"Climate & Weather",q:"What is the term for a seasonal wind shift that brings heavy rains to South and Southeast Asia?",o:["El Niño","Trade winds","Monsoon","Chinook"],a:2,
f:"The Asian monsoon affects about 60% of the world's population. India gets roughly 70% of its annual rainfall during monsoon season (June–September).",
rq:"Monsoon! It affects 60% of the world's population. India gets ~70% of its rain from it. That's a BIG wind!",
wq:"It's the monsoon! The seasonal wind shift that delivers ~70% of India's annual rainfall."},
{d:4,cat:"Population",q:"What is the most densely populated country in the world (sovereign state)?",o:["Singapore","Monaco","Vatican City","Malta"],a:1,
f:"Monaco packs roughly 39,000 people into just 2.02 sq km — over 19,000 people per sq km. It's essentially a city-state on the French Riviera.",
rq:"Monaco! Tens of thousands of people per sq km. When your whole country is basically a luxury neighborhood!",
wq:"It's Monaco! The world's most densely packed sovereign state — a tiny Riviera city-state."},
{d:4,cat:"Map Skills",q:"What imaginary line at 23.5°S latitude marks the southernmost point where the sun can appear directly overhead?",o:["Tropic of Cancer","Antarctic Circle","Tropic of Capricorn","Equator"],a:2,
f:"The Tropic of Capricorn passes through Australia, Chile, Brazil, South Africa, and several other countries. The sun is directly overhead here on the December solstice.",
rq:"Tropic of Capricorn! 23.5°S — the sun's southernmost direct overhead point. Cancer is the northern one!",
wq:"It's the Tropic of Capricorn! At 23.5°S, it's Cancer's southern counterpart."},
{d:4,cat:"Extreme Geography",q:"What country contains the geographic South Pole?",o:["No country (international territory)","Argentina","New Zealand","Chile"],a:0,
f:"Antarctica is governed by the Antarctic Treaty of 1959. No country owns it — it's reserved for peaceful and scientific purposes. The South Pole is at the Amundsen–Scott Station.",
rq:"No country! Antarctica is international territory under the 1959 Antarctic Treaty. Science rules there, not flags!",
wq:"No country owns it! The Antarctic Treaty of 1959 keeps the South Pole as international territory."},
{d:4,cat:"Countries",q:"What is the largest landlocked country in the world?",o:["Mongolia","Chad","Kazakhstan","Niger"],a:2,
f:"Kazakhstan covers about 2,724,900 sq km — larger than all of Western Europe combined. It borders Russia, China, Kyrgyzstan, Uzbekistan, and Turkmenistan.",
rq:"Kazakhstan! 2.7 million sq km of landlocked vastness. Bigger than Western Europe but no ocean view!",
wq:"It's Kazakhstan! About 2.7 million sq km — the world's largest country without a coastline."},
{d:4,cat:"Rivers & Lakes",q:"What river flows through the Grand Canyon?",o:["Rio Grande","Snake River","Colorado River","Columbia River"],a:2,
f:"The Colorado River has been carving the Grand Canyon for millions of years. The canyon is about 446 km long, up to 29 km wide, and over 1,800 meters deep.",
rq:"The Colorado River! Millions of years of carving that mile-deep masterpiece. Patience pays off!",
wq:"It's the Colorado River! Millions of years of erosion created the Grand Canyon's iconic mile-deep gorge."},
{d:4,cat:"Landmarks",q:"What is the tallest building in the world as of 2024?",o:["Shanghai Tower","Merdeka 118","Burj Khalifa","One World Trade Center"],a:2,
f:"The Burj Khalifa in Dubai stands 828 meters tall with 163 floors. It's been the world's tallest building since its completion in 2010.",
rq:"Burj Khalifa! 828 meters of Dubai ambition. It's been #1 since 2010 and counting!",
wq:"It's the Burj Khalifa! 828 meters tall in Dubai — the reigning champ since 2010."},
// ═══ EXTRA DIFFICULTY 5 QUESTIONS ═══
{d:5,cat:"Extreme Geography",q:"What African country has the most UNESCO World Heritage Sites?",o:["Egypt","South Africa","Ethiopia","Morocco"],a:2,
f:"Ethiopia has 12 UNESCO World Heritage Sites — the most on the African continent. These include Lalibela's rock-hewn churches, the Simien Mountains, and the ancient city of Aksum.",
rq:"Ethiopia! 12 UNESCO sites — Lalibela, Aksum, the Simien Mountains. Africa's heritage heavyweight!",
wq:"It's Ethiopia! 12 UNESCO World Heritage Sites — the most in all of Africa."},
{d:5,cat:"Countries",q:"What is the only country that lies entirely within the Alps mountain range?",o:["Austria","Switzerland","Liechtenstein","Andorra"],a:2,
f:"Liechtenstein is a 160 sq km microstate entirely within the Alps between Switzerland and Austria. It's doubly landlocked — landlocked by landlocked countries.",
rq:"Liechtenstein! Entirely Alpine, entirely tiny, and doubly landlocked. A geographic nesting doll!",
wq:"It's Liechtenstein! The only country fully inside the Alps — and it's doubly landlocked to boot."},
{d:5,cat:"Physical Geography",q:"What is the Ring of Fire?",o:["A ring of volcanoes around the Mediterranean","A horseshoe-shaped zone of earthquakes and volcanoes around the Pacific","A volcanic region in central Africa","An asteroid impact zone"],a:1,
f:"The Ring of Fire stretches about 40,000 km around the Pacific Ocean. It contains ~75% of the world's active volcanoes and causes ~90% of the world's earthquakes.",
rq:"The Pacific Ring of Fire! 75% of all active volcanoes and 90% of earthquakes. Earth's most dramatic feature!",
wq:"It's the horseshoe zone around the Pacific! ~75% of active volcanoes and ~90% of earthquakes happen there."},
{d:5,cat:"Historical Geography",q:"What ancient trade route connected China to the Mediterranean, spanning about 6,400 km?",o:["Spice Route","Silk Road","Amber Road","Incense Route"],a:1,
f:"The Silk Road wasn't a single road but a network of trade routes active from about 130 BC to the 1450s AD. It carried silk, spices, ideas, and unfortunately, the Black Death.",
rq:"The Silk Road! 6,400 km of ancient commerce, culture exchange, and… plague. History is complicated!",
wq:"It's the Silk Road! An ancient trade network from China to the Mediterranean, active for over 1,500 years."},
{d:5,cat:"Countries",q:"What country has territory in both Europe and Asia but has its capital in Asia?",o:["Russia","Turkey","Georgia","Kazakhstan"],a:1,
f:"Turkey's largest city, Istanbul, straddles both continents via the Bosphorus Strait. But the capital Ankara sits firmly in Asia (Anatolia). About 97% of Turkey is in Asia.",
rq:"Turkey! Istanbul straddles the Bosphorus between continents, but the capital Ankara is fully in Asia.",
wq:"It's Turkey! Istanbul bridges two continents, but Ankara (the capital) is in the Asian portion."},
{d:5,cat:"Oceans & Seas",q:"What is the deepest point in the Atlantic Ocean?",o:["Cayman Trough","South Sandwich Trench","Puerto Rico Trench","Romanche Trench"],a:2,
f:"The Puerto Rico Trench reaches about 8,376 meters (27,480 ft) deep — the deepest point in the Atlantic. It sits where the Caribbean and North American plates meet.",
rq:"The Puerto Rico Trench! 8,376 meters deep. The Atlantic's version of the Mariana Trench, but less famous!",
wq:"It's the Puerto Rico Trench! About 8,376 meters deep — the Atlantic's deepest point."},
{d:5,cat:"Rivers & Lakes",q:"What river forms most of the border between the United States and Mexico?",o:["Colorado River","Pecos River","Rio Grande","Gila River"],a:2,
f:"The Rio Grande stretches about 3,051 km from Colorado to the Gulf of Mexico. In Mexico, it's called the Río Bravo del Norte.",
rq:"The Rio Grande! Or Río Bravo del Norte if you're on the Mexican side. ~3,051 km of border river!",
wq:"It's the Rio Grande! About 3,051 km long — known as the Río Bravo del Norte in Mexico."},
{d:5,cat:"Cultural Geography",q:"What is the most widely practiced religion in the world by number of adherents?",o:["Islam","Hinduism","Christianity","Buddhism"],a:2,
f:"Christianity has roughly 2.4 billion adherents worldwide (~31% of the global population), followed by Islam with about 1.9 billion (~24%).",
rq:"Christianity! About 2.4 billion adherents — roughly 31% of the world's population.",
wq:"It's Christianity! ~2.4 billion followers, about 31% of the global population."},
{d:5,cat:"Borders & Neighbors",q:"What two countries are doubly landlocked (landlocked by landlocked countries)?",o:["Mongolia and Kazakhstan","Liechtenstein and Uzbekistan","Switzerland and Austria","Nepal and Bolivia"],a:1,
f:"Liechtenstein (surrounded by Switzerland and Austria) and Uzbekistan (surrounded by Kazakhstan, Turkmenistan, Afghanistan, Tajikistan, Kyrgyzstan) are the world's only doubly landlocked countries.",
rq:"Liechtenstein and Uzbekistan! You have to cross TWO countries to reach the sea. Geographic isolation level: expert!",
wq:"It's Liechtenstein and Uzbekistan! The only two countries where you must cross two borders to reach any ocean."},
{d:5,cat:"Economy & Resources",q:"What country controls about 60% of the world's cobalt supply, essential for electric vehicle batteries?",o:["South Africa","Chile","Democratic Republic of the Congo","Australia"],a:2,
f:"The DRC's cobalt mines in the Katanga region produce most of the world's cobalt. This resource is critical for lithium-ion batteries used in smartphones and EVs.",
rq:"The DRC! Katanga region cobalt is in your phone and probably your next car. Geography meets technology!",
wq:"It's the Democratic Republic of the Congo! Its Katanga region supplies ~60% of the world's cobalt."},
{d:5,cat:"Map Skills",q:"If you traveled due south from Detroit, Michigan, what country would you enter first?",o:["Mexico","Canada","United States (you'd stay in the US)","Cuba"],a:1,
f:"Detroit is one of the few US cities where traveling due south takes you into Canada. Windsor, Ontario sits directly south of Detroit across the Detroit River.",
rq:"Canada! One of geography's best tricks — Detroit is north of Windsor, Ontario. South from Detroit = Canada!",
wq:"It's Canada! Windsor, Ontario is directly south of Detroit. Geography loves to surprise!"},
{d:5,cat:"Physical Geography",q:"What is the largest desert in the world?",o:["Sahara Desert","Gobi Desert","Arabian Desert","Antarctic Desert"],a:3,
f:"Antarctica is technically the world's largest desert at ~14.2 million sq km — a desert is defined by low precipitation, not heat. The Sahara (~9.2M sq km) is the largest hot desert.",
rq:"Antarctica! A desert is about LOW precipitation, not HEAT. Antarctica gets less than 200mm per year. Mind blown!",
wq:"It's Antarctica! Deserts are defined by precipitation, not temperature. Antarctica is drier than the Sahara."},
{d:5,cat:"Climate & Weather",q:"What phenomenon describes the unusual warming of surface waters in the eastern Pacific Ocean, affecting global weather?",o:["Monsoon cycle","El Niño","Polar vortex","Gulf Stream shift"],a:1,
f:"El Niño events occur every 2–7 years and can cause droughts in Australia, floods in South America, and disrupted monsoons in Asia. La Niña is its cooler counterpart.",
rq:"El Niño! Warm Pacific water that wrecks weather patterns worldwide. Small current, HUGE consequences!",
wq:"It's El Niño! Warm eastern Pacific waters every 2–7 years that disrupt global weather."},
{d:5,cat:"Straits & Waterways",q:"What strait separates Europe from Asia at Istanbul?",o:["Strait of Dardanelles","Strait of Messina","Bosphorus","Strait of Gibraltar"],a:2,
f:"The Bosphorus is only about 700 meters wide at its narrowest. Istanbul is the only major city in the world that straddles two continents.",
rq:"The Bosphorus! Just 700 meters wide where Europe meets Asia. Istanbul sits on both sides!",
wq:"It's the Bosphorus! Only ~700 meters wide, splitting Istanbul between two continents."},
{d:5,cat:"Countries",q:"What is the youngest internationally recognized country in the world?",o:["Kosovo","East Timor","South Sudan","Montenegro"],a:2,
f:"South Sudan gained independence from Sudan on July 9, 2011, making it the world's newest widely recognized sovereign state. It became the 193rd UN member.",
rq:"South Sudan! Independent since July 9, 2011 — the 193rd UN member and the world's newest country!",
wq:"It's South Sudan! It gained independence in 2011 as the world's newest widely recognized country."},
{d:5,cat:"Extreme Geography",q:"What is the longest mountain range in the world?",o:["Himalayas","Rocky Mountains","Andes","Great Dividing Range"],a:2,
f:"The Andes stretch about 7,000 km along the western coast of South America through 7 countries. They contain the highest peak outside Asia — Aconcagua at 6,961 meters.",
rq:"The Andes! 7,000 km through 7 countries. The Western Hemisphere's continental spine!",
wq:"It's the Andes! About 7,000 km long — the world's longest mountain chain."},
{d:5,cat:"Islands",q:"What is the largest island in the world (not counting continents)?",o:["Borneo","Madagascar","New Guinea","Greenland"],a:3,
f:"Greenland covers about 2,166,086 sq km — but only about 56,000 people live there. It's an autonomous territory of Denmark, covered by about 80% ice sheet.",
rq:"Greenland! 2.17 million sq km but only ~56,000 people. It's 80% ice — the name is history's greatest real estate marketing!",
wq:"It's Greenland! The world's largest island at ~2.17 million sq km, an autonomous territory of Denmark."},
{d:5,cat:"Population",q:"What is the most populous country in Africa?",o:["Ethiopia","Egypt","South Africa","Nigeria"],a:3,
f:"Nigeria has over 230 million people and is projected to become the world's 3rd most populous country by 2050. Lagos alone has over 15 million residents.",
rq:"Nigeria! Over 230 million people and climbing fast. Lagos alone has 15M+ — that's a city the size of some countries!",
wq:"It's Nigeria! Over 230 million people — Africa's population giant and still growing rapidly."},
// ═══ DIFFICULTY 5: "Championship Round" (Expert / GeoBee Finals) ═══
{d:5,cat:"Extreme Geography",q:"What is the point on Earth farthest from the center of the Earth (due to Earth's equatorial bulge)?",o:["Mount Everest summit","Mount Chimborazo summit","Mauna Kea summit","K2 summit"],a:1,
f:"Because Earth bulges at the equator, Mount Chimborazo in Ecuador (6,263 m elevation near the equator) is about 2 km farther from Earth's center than Everest.",
rq:"Chimborazo! Earth's equatorial bulge makes it the farthest point from the center. Everest is tallest above sea level, but Chimborazo wins THIS contest!",
wq:"It's Mount Chimborazo! Earth bulges at the equator, so this Ecuadorian peak is farther from Earth's core than Everest."},
{d:5,cat:"Extreme Geography",q:"What country has the most land borders (tied at 14 with Russia)?",o:["Brazil","India","China","Germany"],a:2,
f:"China borders 14 countries: India, Pakistan, Afghanistan, Tajikistan, Kyrgyzstan, Kazakhstan, Mongolia, Russia, North Korea, Vietnam, Laos, Myanmar, Bhutan, and Nepal.",
rq:"China! 14 land borders, tied with Russia. That's a LOT of diplomatic relationships to manage!",
wq:"It's China! 14 neighbors, tied with Russia. From India to North Korea, China borders them all."},
{d:5,cat:"Straits & Waterways",q:"What is the busiest canal in the world by tonnage?",o:["Panama Canal","Kiel Canal","Suez Canal","Erie Canal"],a:2,
f:"The Suez Canal handles about 12% of global trade — roughly 19,000 ships per year carrying over 1 billion tonnes of cargo.",
rq:"The Suez Canal! ~12% of global trade, over 1 billion tonnes per year. The world's busiest shortcut!",
wq:"It's the Suez Canal! About 12% of all global trade passes through it annually."},
{d:5,cat:"Countries",q:"What is the only country that borders both the Caspian Sea and the Persian Gulf?",o:["Turkmenistan","Iraq","Azerbaijan","Iran"],a:3,
f:"Iran's northern coast touches the Caspian Sea while its southern coast borders the Persian Gulf and Gulf of Oman. It spans about 1,648,000 sq km.",
rq:"Iran! Caspian Sea to the north, Persian Gulf to the south. Geographic range!",
wq:"It's Iran! Northern coast on the Caspian Sea, southern coast on the Persian Gulf."},
{d:5,cat:"Physical Geography",q:"What geological feature is the Mid-Atlantic Ridge?",o:["Subduction zone","Divergent plate boundary","Transform fault","Hotspot chain"],a:1,
f:"The Mid-Atlantic Ridge is a divergent boundary where the Eurasian and North American plates pull apart. Iceland sits directly on it — literally being torn in two.",
rq:"A divergent plate boundary! Tectonic plates pulling apart. Iceland sits right on top of it — slowly being split in half!",
wq:"It's a divergent plate boundary! The Mid-Atlantic Ridge is where plates pull apart, creating new ocean floor."},
{d:5,cat:"Physical Geography",q:"What is a 'panhandle' in geography?",o:["A narrow strip of territory extending from the main body","A circular territory","A mountainous region","A coastal indentation"],a:0,
f:"Famous panhandles include the Oklahoma Panhandle, the Florida Panhandle, and the Alaska Panhandle. The term comes from the shape resembling a pan's handle.",
rq:"A narrow strip extending from the main body! Like Florida's, Oklahoma's, or Alaska's. Geography's handle bars!",
wq:"It's a narrow strip of territory extending from the main body — like the Florida or Oklahoma Panhandles."},
{d:5,cat:"Countries",q:"What country completely surrounds the city-state of Vatican City?",o:["France","Switzerland","Italy","Spain"],a:2,
f:"Vatican City is a 0.44 sq km enclave within Rome, Italy. It's been an independent state since the Lateran Treaty of 1929.",
rq:"Italy! Vatican City is an enclave within Rome. The world's smallest country, completely surrounded by Italy.",
wq:"It's Italy! Vatican City sits entirely within the city of Rome."},
{d:5,cat:"Climate & Weather",q:"The Coriolis effect causes moving objects (including wind and ocean currents) to deflect in which direction in the Northern Hemisphere?",o:["Left","Right","Upward","Randomly"],a:1,
f:"In the Northern Hemisphere, the Coriolis effect deflects moving objects to the right. In the Southern Hemisphere, it deflects to the left. It's caused by Earth's rotation.",
rq:"Right! In the Northern Hemisphere, Coriolis deflects right. In the Southern, left. Earth's spin makes everything curve!",
wq:"It's right! The Coriolis effect deflects to the right in the Northern Hemisphere (left in the Southern)."},
{d:5,cat:"Climate & Weather",q:"What type of climate is characterized by warm, dry summers and cool, wet winters?",o:["Tropical monsoon","Continental","Mediterranean","Subarctic"],a:2,
f:"Mediterranean climate is found around the Mediterranean Sea, parts of California, central Chile, southwestern Australia, and the Western Cape of South Africa.",
rq:"Mediterranean! Think sunny summers and rainy winters — California, southern Europe, parts of Australia and Chile all share it.",
wq:"It's Mediterranean climate! Found around the Med, California, Chile, SW Australia, and South Africa."},
{d:5,cat:"Historical Geography",q:"What was the name of the supercontinent that existed about 335-175 million years ago?",o:["Gondwana","Laurasia","Pangaea","Rodinia"],a:2,
f:"Pangaea ('All Earth' in Greek) began to break apart about 175 million years ago. Gondwana and Laurasia were the two major landmasses it split into.",
rq:"Pangaea! 'All Earth' — when every continent was one big happy landmass. Then they all drifted apart. Continental drama!",
wq:"It's Pangaea! The supercontinent that contained all modern continents before breaking apart ~175 million years ago."},
{d:5,cat:"Historical Geography",q:"The Silk Road trade routes connected China primarily with which other region?",o:["Sub-Saharan Africa","Mediterranean/Europe","Southeast Asia","South America"],a:1,
f:"The Silk Road network stretched about 6,400 km from China to the Mediterranean. Besides silk, it transported spices, gold, technology, religion, and disease.",
rq:"The Mediterranean and Europe! ~6,400 km of trade routes carrying silk, spices, ideas, and unfortunately, plagues.",
wq:"It's the Mediterranean/Europe! The Silk Road spanned ~6,400 km from China westward."},
{d:5,cat:"Map Skills",q:"What is the approximate circumference of the Earth at the equator?",o:["30,000 km","40,075 km","50,000 km","25,000 km"],a:1,
f:"The Earth's circumference at the equator is about 40,075 km. Eratosthenes first estimated this remarkably accurately in about 240 BC using shadows and geometry.",
rq:"40,075 km! Eratosthenes figured this out in 240 BC with just shadows and math. Genius!",
wq:"It's about 40,075 km! First estimated by Eratosthenes around 240 BC — remarkably accurately."},
{d:5,cat:"Map Skills",q:"What is the difference between a 'gulf' and a 'bay'?",o:["Gulfs are always larger","There is no strict geographic distinction","Gulfs are in the Southern Hemisphere only","Bays are freshwater only"],a:1,
f:"There's no strict geographic distinction between a gulf and a bay. The Bay of Bengal is larger than the Gulf of Mexico, disproving the 'gulfs are bigger' myth.",
rq:"No strict distinction! The Bay of Bengal is bigger than the Gulf of Mexico. Geography names are basically vibes.",
wq:"There's no strict distinction! Bay vs. gulf is more about naming tradition than any scientific rule."},
{d:5,cat:"Countries",q:"What is the only country whose name in English starts with 'Q' and doesn't end with a vowel?",o:["Qatar","Quebec","Qom","None — there isn't one"],a:3,
f:"Qatar is the only country starting with 'Q' — and it ends with 'r' (no vowel). But this is actually a trick: the question says 'doesn't end with a vowel' and Qatar fits!",
rq:"Actually Qatar does end in a consonant! The answer is there ISN'T one that people miss — Qatar is the only Q-country and it ends in 'r'. Tricky!",
wq:"Trick question! Qatar is the only 'Q' country and it already doesn't end in a vowel."},
{d:5,cat:"Countries",q:"What landlocked country in Central Asia borders five other 'stan' countries?",o:["Tajikistan","Kyrgyzstan","Uzbekistan","Afghanistan"],a:2,
f:"Uzbekistan borders Kazakhstan, Kyrgyzstan, Tajikistan, Afghanistan, and Turkmenistan — all five '-stan' countries. It's also doubly landlocked.",
rq:"Uzbekistan! Bordered by five '-stan' countries AND doubly landlocked. The '-stan' hub of Central Asia!",
wq:"It's Uzbekistan! It borders all five other '-stan' countries in the region."},
{d:5,cat:"Oceans & Seas",q:"What percentage of the Earth's surface is covered by water?",o:["About 51%","About 61%","About 71%","About 81%"],a:2,
f:"About 71% of Earth's surface is water, with oceans holding about 96.5% of all Earth's water. Only 3.5% of Earth's water is freshwater.",
rq:"71%! Earth is more ocean than land. We really should have called it 'Planet Water.'",
wq:"It's about 71%! Earth is mostly water — 'Planet Ocean' would've been a better name."},
{d:5,cat:"Oceans & Seas",q:"What ocean current warms the climate of Western Europe?",o:["Canary Current","Kuroshio Current","Gulf Stream/North Atlantic Current","Benguela Current"],a:2,
f:"The Gulf Stream carries warm water from the Gulf of Mexico northeast across the Atlantic. It's why London (51°N) is much warmer than Labrador, Canada (also 51°N).",
rq:"The Gulf Stream! It's why London at 51°N is warmer than Labrador at the same latitude. Thanks, warm water!",
wq:"It's the Gulf Stream! Without it, Western Europe would be much colder — London would feel like Labrador."},
{d:5,cat:"Economy & Resources",q:"What is the world's busiest port by container throughput?",o:["Rotterdam","Los Angeles","Shanghai","Singapore"],a:2,
f:"Shanghai handles about 47 million TEUs (twenty-foot equivalent units) per year. Singapore is second. Seven of the world's 10 busiest ports are in China.",
rq:"Shanghai! ~47 million TEUs per year. Seven of the world's top 10 ports are in China. That's dominance!",
wq:"It's Shanghai! About 47 million containers per year — seven of the top 10 ports worldwide are Chinese."},
{d:5,cat:"Economy & Resources",q:"Which country is the world's largest producer of diamonds by value?",o:["South Africa","Russia","Botswana","Democratic Republic of Congo"],a:2,
f:"Botswana is the world's largest diamond producer by value, with the Jwaneng mine being the richest diamond mine on Earth. Diamonds account for ~80% of Botswana's exports.",
rq:"Botswana! Home to the Jwaneng mine — the richest diamond mine on Earth. 80% of their exports are sparkly!",
wq:"It's Botswana! The Jwaneng mine is the world's richest diamond mine. Not South Africa — that surprises many!"},
{d:5,cat:"Physical Geography",q:"What type of rock is formed from cooled magma or lava?",o:["Sedimentary","Metamorphic","Igneous","Limestone"],a:2,
f:"Igneous rocks include granite (cooled slowly underground) and basalt (cooled quickly on the surface). About 95% of the upper part of Earth's crust is igneous rock.",
rq:"Igneous! From the Latin 'ignis' meaning fire. Granite and basalt are the greatest hits.",
wq:"It's igneous rock! From 'ignis' (fire). Think granite and basalt — cooled from molten rock."},
{d:5,cat:"Countries",q:"What is the only country to share a land border with the United Kingdom?",o:["France","Ireland","Scotland","No country does"],a:1,
f:"The Republic of Ireland shares a 499 km border with Northern Ireland (part of the UK) on the island of Ireland. It's the UK's only land border.",
rq:"Ireland! The 499 km border between the Republic of Ireland and Northern Ireland is the UK's only land border.",
wq:"It's Ireland! The Republic of Ireland shares a 499 km border with Northern Ireland (UK)."},
{d:5,cat:"Countries",q:"What is the most populous island in the world?",o:["Honshu","Great Britain","Luzon","Java"],a:3,
f:"Java, Indonesia has about 150 million people on an island of 129,000 sq km. That's roughly 1,160 people per sq km — the most densely populated large island.",
rq:"Java! 150 million people on one island. That's half the US population on an island the size of New York State!",
wq:"It's Java! About 150 million people — the most populous island on Earth by a huge margin."},
{d:5,cat:"Extreme Geography",q:"What is the tallest waterfall in North America?",o:["Niagara Falls","Yosemite Falls","Multnomah Falls","Shoshone Falls"],a:1,
f:"Yosemite Falls drops about 739 meters in three stages, making it the tallest waterfall in North America and one of the tallest in the world.",
rq:"Yosemite Falls! 739 meters in three stages. Niagara is more famous but Yosemite is nearly 14 times taller!",
wq:"It's Yosemite Falls! At 739 meters, it's nearly 14 times taller than Niagara Falls."},
{d:5,cat:"Countries",q:"What is the official name of the country commonly known as 'North Macedonia'?",o:["Republic of Macedonia","North Macedonian Republic","Republic of North Macedonia","Macedonian State"],a:2,
f:"The name changed from 'Republic of Macedonia' to 'Republic of North Macedonia' in 2019, resolving a decades-long dispute with Greece over the name 'Macedonia.'",
rq:"Republic of North Macedonia! The name change in 2019 ended a 27-year dispute with Greece. Diplomacy wins!",
wq:"It's the Republic of North Macedonia! The name changed in 2019 to resolve a dispute with Greece."},
{d:5,cat:"Physical Geography",q:"What tectonic plate is the largest on Earth?",o:["North American Plate","Eurasian Plate","Pacific Plate","African Plate"],a:2,
f:"The Pacific Plate covers about 103 million sq km — the largest of Earth's tectonic plates. It's mostly oceanic crust and is shrinking as it subducts under surrounding plates.",
rq:"The Pacific Plate! ~103 million sq km. It's the biggest but it's actually shrinking due to subduction. Drama!",
wq:"It's the Pacific Plate! At ~103 million sq km, it's Earth's largest — and it's slowly getting smaller."},
{d:5,cat:"Rivers & Lakes",q:"What is the longest river that flows entirely within one country?",o:["Yangtze","Mississippi","Volga","Murray"],a:0,
f:"The Yangtze flows about 6,300 km entirely within China. The Nile and Amazon are longer but cross multiple countries.",
rq:"The Yangtze! 6,300 km entirely within China. The longest domestic river on Earth!",
wq:"It's the Yangtze! At 6,300 km entirely in China, it's the longest single-country river."},
{d:5,cat:"Countries",q:"Which country controls the Svalbard archipelago, located in the Arctic Ocean?",o:["Russia","Iceland","Denmark","Norway"],a:3,
f:"Svalbard is a Norwegian archipelago at about 78°N latitude. Under the Svalbard Treaty, citizens of all signatory nations can live and work there.",
rq:"Norway! Svalbard at 78°N — the world's northernmost settlement. Polar bears outnumber people there!",
wq:"It's Norway! Svalbard sits at ~78°N latitude, where polar bears actually outnumber humans."},
{d:5,cat:"Cultural Geography",q:"What is the most widely spoken language family in the world?",o:["Sino-Tibetan","Niger-Congo","Afro-Asiatic","Indo-European"],a:3,
f:"Indo-European languages are spoken by about 3.2 billion people, including English, Spanish, Hindi, Portuguese, Bengali, Russian, and many more.",
rq:"Indo-European! English, Spanish, Hindi, Russian, Portuguese — 3.2 billion native speakers across the family.",
wq:"It's Indo-European! About 3.2 billion speakers — from English to Hindi to Russian to Portuguese."},
{d:5,cat:"Extreme Geography",q:"What is the longest cave system in the world?",o:["Carlsbad Caverns","Mammoth Cave","Jewel Cave","Sistema Sac Actun"],a:1,
f:"Mammoth Cave in Kentucky has over 676 km of surveyed passageways, and new sections are still being discovered. It's more than twice as long as the second-longest cave.",
rq:"Mammoth Cave! Over 676 km of explored passages — and still growing! More than twice the runner-up.",
wq:"It's Mammoth Cave in Kentucky! Over 676 km of passageways — the longest by a massive margin."},
{d:5,cat:"Countries",q:"What is the only African country with both Mediterranean and Atlantic coastlines?",o:["Tunisia","Algeria","Morocco","Libya"],a:2,
f:"Morocco's northern coast faces the Mediterranean, and its western coast faces the Atlantic. The Strait of Gibraltar sits at the intersection.",
rq:"Morocco! Mediterranean to the north, Atlantic to the west, Gibraltar in between. Prime real estate!",
wq:"It's Morocco! Its coastlines touch both the Mediterranean Sea and the Atlantic Ocean."},
{d:5,cat:"Physical Geography",q:"What is an 'exclave'?",o:["A territory surrounded by water","A territory separated from its main country by another country's territory","A disputed border region","A volcanic island chain"],a:1,
f:"Famous exclaves include Alaska (separated from the US by Canada), Kaliningrad (Russian, between Poland and Lithuania), and Ceuta/Melilla (Spanish, in North Africa).",
rq:"A territory separated from its main country! Like Alaska, Kaliningrad, or Ceuta. Geography's long-distance relationships!",
wq:"It's a territory separated from its main country by another's territory — like Alaska or Kaliningrad."},
{d:5,cat:"Countries",q:"Which country is the world's largest producer of palm oil?",o:["Malaysia","Nigeria","Thailand","Indonesia"],a:3,
f:"Indonesia produces about 60% of the world's palm oil, mostly on Sumatra and Kalimantan (Borneo). It's a major driver of deforestation in Southeast Asia.",
rq:"Indonesia! ~60% of global palm oil, mostly from Sumatra and Borneo. An enormous and controversial industry.",
wq:"It's Indonesia! About 60% of the world's palm oil comes from Indonesian plantations."},
{d:5,cat:"Borders & Neighbors",q:"The 'Four Corners' monument in the US marks the meeting point of which four states?",o:["Arizona, New Mexico, Utah, Colorado","Nevada, Utah, Arizona, California","Texas, Oklahoma, New Mexico, Colorado","Wyoming, Montana, Idaho, South Dakota"],a:0,
f:"The Four Corners is the only point in the US where four states meet. You can technically stand in four states simultaneously.",
rq:"Arizona, New Mexico, Utah, and Colorado! The only place in the US where four states touch. The ultimate geographic flex!",
wq:"It's Arizona, New Mexico, Utah, and Colorado! The only spot where four US states share a single point."},
{d:5,cat:"Straits & Waterways",q:"What artificial waterway connects the North Sea to the Baltic Sea?",o:["Suez Canal","English Channel","Kiel Canal","Panama Canal"],a:2,
f:"The Kiel Canal in Germany is about 98 km long and is the world's busiest artificial waterway by number of ships — about 30,000 per year.",
rq:"The Kiel Canal! ~30,000 ships per year through Germany. The world's busiest artificial waterway by vessel count!",
wq:"It's the Kiel Canal in Germany! About 98 km long and the busiest canal by number of ships."},
{d:5,cat:"Physical Geography",q:"What are the 'Roaring Forties'?",o:["A group of 40 volcanoes","Strong westerly winds between 40-50°S latitude","The 40 tallest mountains","Earthquake zones at 40°N"],a:1,
f:"The Roaring Forties are powerful westerly winds in the Southern Hemisphere between 40-50°S. With little land to slow them, they create some of Earth's roughest seas.",
rq:"Strong westerly winds between 40-50°S! With almost no land to slow them down, they create terrifying seas. Sailors named them well!",
wq:"They're strong westerly winds between 40-50°S latitude — some of the strongest sustained winds on Earth."},
{d:5,cat:"Countries",q:"What is the only country in the world named after a line of latitude?",o:["Ecuador","Chile","Argentina","Peru"],a:0,
f:"Ecuador is named after the equator (0° latitude), which runs directly through the country. 'Ecuador' is the Spanish word for 'equator.'",
rq:"Ecuador! Literally named after the equator. 'Ecuador' IS the Spanish word for 'equator.' How straightforward!",
wq:"It's Ecuador! The Spanish word for 'equator' — the country is literally named after the line of latitude."},
{d:5,cat:"Extreme Geography",q:"What percentage of Antarctica is covered by ice?",o:["About 78%","About 88%","About 98%","100%"],a:2,
f:"About 98% of Antarctica is covered by ice averaging about 2.16 km thick. It contains roughly 26.5 million cubic km of ice — 70% of Earth's freshwater.",
rq:"About 98%! The ice averages 2.16 km thick and holds 70% of Earth's freshwater. That's a LOT of ice cubes!",
wq:"It's about 98%! Antarctica's ice sheet averages 2.16 km thick and contains 70% of all freshwater on Earth."},
{d:5,cat:"Historical Geography",q:"What was the ancient Greek word for the known world's inhabitable region?",o:["Oikumene (Ecumene)","Pangaea","Terra Firma","Cosmopolis"],a:0,
f:"Oikumene referred to the known, inhabited world — essentially the Mediterranean region and surrounding areas. The term is still used in geography today as 'ecumene.'",
rq:"Oikumene! The ancient Greeks' word for the known inhabited world. Now used as 'ecumene' in modern geography.",
wq:"It's Oikumene (Ecumene)! The Greek concept of the inhabited world, still used in geography today."},
{d:5,cat:"Countries",q:"What island nation in the Pacific is the first country to see each new day (furthest west of the International Date Line)?",o:["Tonga","Fiji","Samoa","Kiribati"],a:3,
f:"Kiribati adjusted its time zone in 1995 so all its islands would be on the same day. Its Line Islands (including Kiritimati) are now UTC+14, the first to see each new day.",
rq:"Kiribati! They literally moved the date line around their country in 1995 so they could all be on the same day. Power move!",
wq:"It's Kiribati! It adjusted the International Date Line in 1995, making its eastern islands the first to see each new day."},
];

// ─── IMAGE-BASED QUESTIONS: Flags (using emoji) & Map Silhouettes ────────────
// type:'flag' → show a large flag emoji, player identifies the country
// type:'silhouette' → show an SVG country outline, player identifies it
const IMAGE_QUESTIONS = [
// ═══ FLAG QUESTIONS (Difficulty 1-3) ═══
{d:1,cat:"Flags",type:"flag",flag:"JP",q:"Which country does this flag belong to?",o:["China","South Korea","Japan","Vietnam"],a:2,
f:"Japan's flag, the Hinomaru (circle of the sun), has been used since at least 1870. The red circle represents the sun.",
rq:"Japan! The Land of the Rising Sun. That red circle is iconic!",wq:"It's Japan! The red circle on white — the Hinomaru — has represented the sun since 1870."},
{d:1,cat:"Flags",type:"flag",flag:"FR",q:"Which country does this flag belong to?",o:["Italy","France","Netherlands","Romania"],a:1,
f:"The French tricolore was adopted during the French Revolution. The blue and red are the colors of Paris, while white was the color of the monarchy.",
rq:"France! Blue, white, and red — the tricolore born from revolution!",wq:"It's France! The tricolore has been flying since the French Revolution."},
{d:1,cat:"Flags",type:"flag",flag:"BR",q:"Which country does this flag belong to?",o:["Brazil","Colombia","Argentina","Portugal"],a:0,
f:"Brazil's flag features the motto 'Ordem e Progresso' (Order and Progress) and a starry sky showing how the sky looked over Rio on November 15, 1889.",
rq:"Brazil! Green, yellow, blue — and each star represents a Brazilian state!",wq:"It's Brazil! Those 27 stars each represent a Brazilian state and the Federal District."},
{d:1,cat:"Flags",type:"flag",flag:"CA",q:"Which country does this flag belong to?",o:["Canada","Switzerland","Peru","Denmark"],a:0,
f:"Canada's maple leaf flag was only adopted in 1965. Before that, Canada used the Red Ensign featuring the Union Jack.",
rq:"Canada! The maple leaf — adopted in 1965 after decades of flag debate!",wq:"It's Canada! The famous maple leaf flag is surprisingly young — only adopted in 1965."},
{d:2,cat:"Flags",type:"flag",flag:"IN",q:"Which country does this flag belong to?",o:["Niger","India","Ivory Coast","Ireland"],a:1,
f:"India's flag features the Ashoka Chakra, a 24-spoke wheel representing the eternal wheel of law. It was adopted on July 22, 1947.",
rq:"India! The saffron, white, and green with the Ashoka Chakra spinning at the center!",wq:"It's India! The 24-spoke Ashoka Chakra at the center represents the eternal wheel of law."},
{d:2,cat:"Flags",type:"flag",flag:"AU",q:"Which country does this flag belong to?",o:["New Zealand","United Kingdom","Australia","Fiji"],a:2,
f:"Australia's flag features the Southern Cross constellation and the Commonwealth Star (with 7 points representing the 6 states and territories).",
rq:"Australia! Six states, seven-pointed Commonwealth Star, and the Southern Cross!",wq:"It's Australia! The Southern Cross and the seven-pointed Commonwealth Star give it away."},
{d:2,cat:"Flags",type:"flag",flag:"MX",q:"Which country does this flag belong to?",o:["Italy","Mexico","Hungary","Ireland"],a:1,
f:"Mexico's coat of arms shows an eagle eating a serpent on a cactus — based on the Aztec legend of founding Tenochtitlan.",
rq:"Mexico! That eagle-on-a-cactus is the legendary founding symbol of the Aztecs!",wq:"It's Mexico! The eagle and serpent on the cactus comes from Aztec mythology."},
{d:2,cat:"Flags",type:"flag",flag:"KR",q:"Which country does this flag belong to?",o:["Japan","North Korea","South Korea","Laos"],a:2,
f:"South Korea's flag (Taegukgi) features a yin-yang symbol and four trigrams from the I Ching, representing balance and cosmic harmony.",
rq:"South Korea! The Taegukgi — yin-yang and ancient trigrams representing cosmic balance!",wq:"It's South Korea! The yin-yang and four trigrams make the Taegukgi unique among world flags."},
{d:2,cat:"Flags",type:"flag",flag:"ZA",q:"Which country does this flag belong to?",o:["Central African Republic","South Africa","Kenya","Ghana"],a:1,
f:"South Africa's colorful six-color flag was adopted in 1994 when apartheid ended. It's one of only two national flags with six colors and no seal.",
rq:"South Africa! Six colors for the Rainbow Nation — adopted with democracy in 1994!",wq:"It's South Africa! The six-color flag was born in 1994, symbolizing a new united nation."},
{d:3,cat:"Flags",type:"flag",flag:"NP",q:"Which country does this flag belong to?",o:["Nepal","Bhutan","Sri Lanka","Bangladesh"],a:0,
f:"Nepal is the only country with a non-rectangular flag. Its two stacked triangles represent the Himalaya mountains and two major religions (Hinduism and Buddhism).",
rq:"Nepal! The only non-rectangular flag in the world. Two triangles for two mountain peaks!",wq:"It's Nepal! The world's only non-rectangular national flag — representing the Himalayas."},
{d:3,cat:"Flags",type:"flag",flag:"BT",q:"Which country does this flag belong to?",o:["Bhutan","Nepal","Bangladesh","Mongolia"],a:0,
f:"Bhutan's flag features a white dragon (Druk) holding jewels. Bhutan is known as 'Land of the Thunder Dragon' in the local Dzongkha language.",
rq:"Bhutan! The Thunder Dragon on orange and yellow — Druk Yul, the Land of the Thunder Dragon!",wq:"It's Bhutan! That dragon is Druk, the Thunder Dragon that gives the country its local name."},
{d:3,cat:"Flags",type:"flag",flag:"MZ",q:"Which country does this flag belong to?",o:["Mozambique","Zimbabwe","Kenya","Ethiopia"],a:0,
f:"Mozambique's flag is the only national flag featuring a modern firearm — an AK-47 with a bayonet, symbolizing the struggle for independence.",
rq:"Mozambique! The only flag in the world with a modern rifle on it. That's commitment to history!",wq:"It's Mozambique! Its flag famously features an AK-47, symbolizing the fight for independence."},
// ═══ SILHOUETTE / MAP OUTLINE QUESTIONS ═══
{d:2,cat:"Map Outlines",type:"silhouette",shape:"italy",q:"Which country has this distinctive boot-shaped outline?",o:["Greece","Spain","Italy","Portugal"],a:2,
f:"Italy's boot shape is one of the most recognizable in the world. The 'toe' kicks the island of Sicily, and the 'heel' forms the Apulia region.",
rq:"Italy! The boot that kicks Sicily! One of the most recognizable shapes on any map.",wq:"It's Italy! The famous boot shape — kicking Sicily across the Mediterranean."},
{d:2,cat:"Map Outlines",type:"silhouette",shape:"india",q:"Which country has this large triangular peninsula shape?",o:["Saudi Arabia","India","Thailand","Myanmar"],a:1,
f:"India's Deccan Plateau forms the distinctive triangular peninsula that juts into the Indian Ocean between the Arabian Sea and Bay of Bengal.",
rq:"India! That massive triangular peninsula is the Deccan Plateau. Hard to miss on a map!",wq:"It's India! The triangular peninsula of the Deccan Plateau is one of Asia's most distinctive shapes."},
{d:2,cat:"Map Outlines",type:"silhouette",shape:"australia",q:"Which country/continent has this unique shape — the only one that is both?",o:["Greenland","Antarctica","Australia","Madagascar"],a:2,
f:"Australia is the smallest continent and largest island (excluding Antarctica). Its most distinctive features are the Gulf of Carpentaria in the north.",
rq:"Australia! Continent AND country in one! That Gulf of Carpentaria bite in the north is unmistakable.",wq:"It's Australia! The only place that's both a continent and a country."},
{d:3,cat:"Map Outlines",type:"silhouette",shape:"chile",q:"Which country is known for being extremely long and narrow?",o:["Vietnam","Norway","Chile","New Zealand"],a:2,
f:"Chile stretches 4,270 km from north to south but averages only 177 km wide. It spans desert, Mediterranean, and glacial climates.",
rq:"Chile! 4,270 km long but only 177 km wide on average. Geography's thinest country!",wq:"It's Chile! The world's narrowest country — spanning from desert to glaciers in one long strip."},
{d:3,cat:"Map Outlines",type:"silhouette",shape:"japan",q:"Which country is an archipelago forming a long arc off the east coast of Asia?",o:["Philippines","Indonesia","Japan","Taiwan"],a:2,
f:"Japan consists of 6,852 islands stretching 3,000 km. The four main islands — Hokkaido, Honshu, Shikoku, and Kyushu — make up 97% of the land area.",
rq:"Japan! 6,852 islands in an elegant arc. Four main islands making up 97% of the land!",wq:"It's Japan! An archipelago of 6,852 islands arcing along the Pacific Ring of Fire."},
{d:3,cat:"Map Outlines",type:"silhouette",shape:"france",q:"Which European country is nicknamed 'the Hexagon' due to its shape?",o:["Spain","France","Germany","Poland"],a:1,
f:"France is often called L'Hexagone because its mainland borders and coastlines roughly form a six-sided shape.",
rq:"France! L'Hexagone — the six-sided country. The French love a good geometric nickname!",wq:"It's France! Known as L'Hexagone because its shape roughly forms a hexagon."},
{d:3,cat:"Map Outlines",type:"silhouette",shape:"brazil",q:"Which South American country takes up roughly half the continent?",o:["Argentina","Colombia","Brazil","Peru"],a:2,
f:"Brazil occupies 47.3% of South America's land area and shares borders with every South American country except Chile and Ecuador.",
rq:"Brazil! Nearly half of South America in one country. It borders every neighbor except Chile and Ecuador!",wq:"It's Brazil! Taking up 47.3% of the continent and bordering almost every other South American country."},
{d:4,cat:"Map Outlines",type:"silhouette",shape:"russia",q:"Which country spans 11 time zones, making it the widest in the world?",o:["China","Canada","Russia","United States"],a:2,
f:"Russia covers over 17 million square km — about 11.5% of the world's total land area. It spans from the Baltic Sea to the Pacific Ocean.",
rq:"Russia! 11 time zones wide. When it's morning in Moscow, it's already bedtime in Vladivostok!",wq:"It's Russia! Spanning 11 time zones and covering 11.5% of the world's land. Simply massive."},
{d:4,cat:"Map Outlines",type:"silhouette",shape:"uk",q:"Which island nation sits just off the northwest coast of mainland Europe?",o:["Iceland","Ireland","United Kingdom","Denmark"],a:2,
f:"Great Britain (England, Scotland, Wales) is the largest island in Europe and the ninth-largest in the world at 209,331 square km.",
rq:"The United Kingdom! Great Britain — Europe's largest island. Small but mighty in world history!",wq:"It's the United Kingdom! Great Britain is the largest island in Europe at 209,331 square km."},
// ═══ FOOD & CUISINE ORIGINS ═══
// type:'food' → shows food emoji + dish name, player guesses country of origin
{d:1,cat:"Food Origins",type:"food",emoji:"🍕",dish:"Pizza Margherita",q:"Which country is the birthplace of pizza?",o:["United States","Greece","Italy","France"],a:2,
f:"Modern pizza was born in Naples, Italy. The Margherita was supposedly created in 1889 to honor Queen Margherita, using tomato, mozzarella, and basil to represent the Italian flag.",
rq:"Italy! Naples gave the world pizza, and honestly, we owe them everything.",wq:"It's Italy! Pizza was born in Naples. The Margherita was crafted in 1889 with Italian flag colors."},
{d:1,cat:"Food Origins",type:"food",emoji:"🍫",dish:"Chocolate",q:"Which ancient civilization first cultivated cacao and made chocolate drinks?",o:["Egypt","Aztec/Maya (Mexico)","India","China"],a:1,
f:"The Maya and Aztec civilizations in present-day Mexico drank bitter cacao beverages as early as 1900 BCE. The word 'chocolate' comes from the Nahuatl word 'xocolātl.'",
rq:"Mexico! The Maya and Aztecs were sipping chocolate drinks thousands of years before your hot cocoa.",wq:"It's the Aztecs and Maya in Mexico! They were drinking cacao since 1900 BCE. OG chocolate lovers."},
{d:1,cat:"Food Origins",type:"food",emoji:"🍣",dish:"Sushi",q:"Which country invented sushi as we know it today?",o:["China","South Korea","Japan","Thailand"],a:2,
f:"While fermented fish and rice originated in Southeast Asia, modern sushi (with vinegared rice) was developed in Edo (Tokyo), Japan in the early 1800s as a fast food.",
rq:"Japan! Edo-period Tokyo invented modern sushi as actual street fast food. The original food truck!",wq:"It's Japan! Modern sushi was invented in early 1800s Tokyo — originally a fast food."},
{d:1,cat:"Food Origins",type:"food",emoji:"🌮",dish:"Tacos",q:"Which country gave the world tacos?",o:["Spain","United States","Mexico","Colombia"],a:2,
f:"Tacos originated in Mexico, with evidence of tortilla-wrapped foods dating back to pre-Columbian times. The word 'taco' first appeared in Mexican silver mines in the 18th century.",
rq:"Mexico! Tacos go back to pre-Columbian times. They've been perfecting them for centuries.",wq:"It's Mexico! Tacos have been a thing since before Columbus. That's a serious food legacy."},
{d:2,cat:"Food Origins",type:"food",emoji:"🍟",dish:"French Fries",q:"Despite the name, which country actually claims to have invented French fries?",o:["France","Belgium","Netherlands","United Kingdom"],a:1,
f:"Belgium claims to have invented fries in the late 1600s. The 'French' name likely came from American soldiers in WWI who encountered them in French-speaking Belgium.",
rq:"Belgium! Plot twist: French fries aren't French. Belgium has been salty about this for centuries.",wq:"It's Belgium! 'French' fries are Belgian. WWI American soldiers just got confused by the language."},
{d:2,cat:"Food Origins",type:"food",emoji:"🥐",dish:"Croissants",q:"While now iconic in France, which country actually invented the croissant?",o:["France","Italy","Austria","Switzerland"],a:2,
f:"The croissant evolved from the Austrian 'kipferl.' It was supposedly created to celebrate Vienna's victory over the Ottoman siege of 1683, with its crescent shape mocking the Ottoman flag.",
rq:"Austria! The croissant is Austrian, not French. France just adopted it and never gave credit. Classic.",wq:"It's Austria! The kipferl came first. France just gave it a French name and a PR makeover."},
{d:2,cat:"Food Origins",type:"food",emoji:"🍝",dish:"Pasta (Noodles)",q:"Which country has the oldest evidence of noodles, dating back 4,000 years?",o:["Italy","China","Japan","Greece"],a:1,
f:"A 4,000-year-old bowl of noodles was found at the Lajia archaeological site in China in 2005. They were made from millet, not wheat.",
rq:"China! 4,000-year-old noodles were found in China. Italy showed up to the pasta party fashionably late.",wq:"It's China! Archaeologists found 4,000-year-old noodles there. Italy's pasta is a relative newcomer."},
{d:2,cat:"Food Origins",type:"food",emoji:"☕",dish:"Coffee",q:"In which country was coffee first discovered and cultivated?",o:["Colombia","Brazil","Ethiopia","Turkey"],a:2,
f:"Coffee originated in Ethiopia, where legend says a goat herder named Kaldi noticed his goats dancing after eating coffee berries. It spread to Yemen and then the world.",
rq:"Ethiopia! A goat herder noticed his goats literally bouncing off the walls. And thus, Monday mornings were saved.",wq:"It's Ethiopia! Coffee was discovered there — legend says thanks to some hyperactive goats."},
{d:3,cat:"Food Origins",type:"food",emoji:"🍛",dish:"Curry",q:"Which country is considered the origin of curry as a spice-based cooking tradition?",o:["Thailand","Japan","India","Malaysia"],a:2,
f:"Curry traditions date back over 4,000 years in India. The word 'curry' likely comes from the Tamil word 'kari' meaning sauce or gravy.",
rq:"India! 4,000 years of curry tradition. They've had more time perfecting spice blends than most civilizations have existed.",wq:"It's India! Curry goes back 4,000 years there. The Tamil word 'kari' gave us the name."},
{d:3,cat:"Food Origins",type:"food",emoji:"🧇",dish:"Waffles",q:"Which country is most associated with the invention of the modern waffle?",o:["United States","Netherlands","Belgium","France"],a:2,
f:"Belgium has been making waffles since the Middle Ages. The Brussels waffle and Liège waffle are the two famous Belgian varieties, each with devoted fans.",
rq:"Belgium again! Fries AND waffles? Belgium is the unsung hero of comfort food.",wq:"It's Belgium! Brussels waffles and Liège waffles — two varieties, one legendary country."},
{d:3,cat:"Food Origins",type:"food",emoji:"🫕",dish:"Fondue",q:"Which country made fondue its national dish?",o:["France","Italy","Switzerland","Austria"],a:2,
f:"Switzerland declared fondue its national dish in the 1930s as a way to promote national unity and Swiss cheese and wine industries.",
rq:"Switzerland! They made melted cheese a national identity. Honestly, respect.",wq:"It's Switzerland! Fondue became the national dish in the 1930s — a cheesy but effective unity move."},
{d:3,cat:"Food Origins",type:"food",emoji:"🥟",dish:"Dumplings (Jiaozi)",q:"Which country has the longest tradition of making dumplings, dating back 1,800+ years?",o:["Japan","South Korea","China","Mongolia"],a:2,
f:"Chinese jiaozi date back to the Eastern Han dynasty (25-220 CE). Legend credits Zhang Zhongjing, a famous doctor, with inventing them to treat frostbitten ears.",
rq:"China! Dumplings were invented by a doctor to cure frostbitten ears. Best prescription ever written.",wq:"It's China! Jiaozi go back 1,800 years — supposedly invented as medicine for frozen ears."},
// ═══ GEO SCRAMBLE — Unscramble the country name ═══
// type:'scramble' → shows jumbled letters + a clue, player picks the correct country
{d:1,cat:"Geo Scramble",type:"scramble",scrambled:"AZLIRB",clue:"Home to the Amazon Rainforest and Carnival",q:"Unscramble: AZLIRB",o:["Bolivia","Brazil","Belize","Brunei"],a:1,
f:"Brazil contains about 60% of the Amazon Rainforest and hosts the world's largest Carnival celebration in Rio de Janeiro.",
rq:"Brazil! AZLIRB unscrambled. The Amazon and Carnival — not exactly subtle clues!",wq:"It's Brazil! AZLIRB → BRAZIL. Home to 60% of the Amazon and the world's biggest party."},
{d:1,cat:"Geo Scramble",type:"scramble",scrambled:"GTYEP",clue:"Land of the Pyramids and the Sphinx",q:"Unscramble: GTYEP",o:["Egypt","Ethiopia","Turkey","Greece"],a:0,
f:"Egypt's Great Pyramid of Giza is the last surviving wonder of the ancient world, built around 2560 BCE.",
rq:"Egypt! GTYEP → EGYPT. The pyramids have been standing there for 4,500 years. Kind of a giveaway.",wq:"It's Egypt! Home to the only surviving ancient wonder — the Great Pyramid of Giza."},
{d:1,cat:"Geo Scramble",type:"scramble",scrambled:"PANJA",clue:"Island nation known for cherry blossoms and anime",q:"Unscramble: PANJA",o:["Japan","Nepal","Panama","Jordan"],a:0,
f:"Japan's cherry blossom (sakura) season is a major cultural event. The country produces about 60% of the world's anime.",
rq:"Japan! PANJA → JAPAN. Cherry blossoms and anime? That's the most Japanese combination possible.",wq:"It's Japan! PANJA unscrambles to JAPAN — the land of sakura and 60% of the world's anime."},
{d:1,cat:"Geo Scramble",type:"scramble",scrambled:"NADACA",clue:"World's second-largest country by area, famous for maple syrup",q:"Unscramble: NADACA",o:["Canada","Panama","Jamaica","Grenada"],a:0,
f:"Canada produces about 73% of the world's maple syrup, mostly from Quebec. It's the second-largest country by total area.",
rq:"Canada! NADACA → CANADA. They produce 73% of the world's maple syrup. That's a monopoly!",wq:"It's Canada! 73% of the world's maple syrup comes from there. Quebec is basically a syrup empire."},
{d:2,cat:"Geo Scramble",type:"scramble",scrambled:"AIROLTSUA",clue:"Continent-country with more kangaroos than people",q:"Unscramble: AIROLTSUA",o:["Austria","Australia","Albania","Algeria"],a:1,
f:"Australia has an estimated 50 million kangaroos — roughly twice its human population. It's the only country that is also a continent.",
rq:"Australia! AIROLTSUA → AUSTRALIA. 50 million kangaroos outnumber the humans 2 to 1!",wq:"It's Australia! AIROLTSUA unscrambled. Where kangaroos outnumber people 2:1."},
{d:2,cat:"Geo Scramble",type:"scramble",scrambled:"CIEXMO",clue:"Country that gave the world chocolate, tacos, and the Aztec Empire",q:"Unscramble: CIEXMO",o:["Mexico","Monaco","Morocco","Moldova"],a:0,
f:"Mexico was home to the Aztec civilization and is the birthplace of chocolate (cacao), tacos, and many chili peppers.",
rq:"Mexico! CIEXMO → MEXICO. Chocolate AND tacos? Humanity owes this country a thank-you card.",wq:"It's Mexico! Birthplace of chocolate, tacos, and the mighty Aztec Empire."},
{d:2,cat:"Geo Scramble",type:"scramble",scrambled:"REEGEC",clue:"Birthplace of the Olympics and democracy",q:"Unscramble: REEGEC",o:["Georgia","Greece","Germany","Grenada"],a:1,
f:"Ancient Greece held the first Olympic Games in 776 BCE at Olympia. Athens is also credited as the birthplace of democracy around 508 BCE.",
rq:"Greece! REEGEC → GREECE. Olympics AND democracy? Talk about overachieving in 500 BCE.",wq:"It's Greece! REEGEC unscrambled. First Olympics in 776 BCE, first democracy shortly after."},
{d:2,cat:"Geo Scramble",type:"scramble",scrambled:"AINDLAN",clue:"Nordic island nation with volcanoes, geysers, and the Northern Lights",q:"Unscramble: AINDLAN",o:["Iceland","Ireland","Finland","Greenland"],a:0,
f:"Iceland sits on the Mid-Atlantic Ridge with over 30 active volcanic systems. Despite its name, only about 11% of the country is covered in ice.",
rq:"Iceland! AINDLAN → ICELAND. 30+ volcanoes and only 11% ice. The name is basically false advertising.",wq:"It's Iceland! Over 30 active volcanic systems, and the name is 89% inaccurate."},
{d:3,cat:"Geo Scramble",type:"scramble",scrambled:"ZABEWMIQO",clue:"Southeast African nation whose flag features an AK-47",q:"Unscramble: ZABEWMIQO",o:["Mozambique","Zimbabwe","Botswana","Madagascar"],a:0,
f:"Mozambique is the only country with a modern firearm on its flag — an AK-47 symbolizing the armed struggle for independence from Portugal.",
rq:"Mozambique! ZABEWMIQO was a tough one. Only flag in the world with a modern rifle on it!",wq:"It's Mozambique! That 9-letter scramble hides the country with the most aggressive flag in the world."},
{d:3,cat:"Geo Scramble",type:"scramble",scrambled:"GADASAMCAR",clue:"World's fourth-largest island, home to lemurs found nowhere else",q:"Unscramble: GADASAMCAR",o:["Madagascar","Guatemala","Azerbaijan","Mozambique"],a:0,
f:"Madagascar is home to over 100 species of lemurs found nowhere else on Earth. It split from the Indian subcontinent about 88 million years ago.",
rq:"Madagascar! GADASAMCAR → MADAGASCAR. An island so unique, 90% of its wildlife exists nowhere else!",wq:"It's Madagascar! Home to lemurs that exist literally nowhere else on the planet."},
{d:3,cat:"Geo Scramble",type:"scramble",scrambled:"HAZAKASTKN",clue:"World's largest landlocked country, home to the Baikonur Cosmodrome",q:"Unscramble: HAZAKASTKN",o:["Kazakhstan","Uzbekistan","Tajikistan","Afghanistan"],a:0,
f:"Kazakhstan is the world's largest landlocked country at 2.7 million km². Russia's Baikonur Cosmodrome, from which Yuri Gagarin launched into space, is leased within its borders.",
rq:"Kazakhstan! HAZAKASTKN → KAZAKHSTAN. Largest landlocked country AND the launchpad for the first human in space!",wq:"It's Kazakhstan! 2.7 million km² of landlocked territory and home to humanity's space gateway."},
{d:4,cat:"Geo Scramble",type:"scramble",scrambled:"THEINLETSENC",clue:"Tiny European principality nestled between Switzerland and Austria",q:"Unscramble: THEINLETSENC",o:["Liechtenstein","Luxembourg","Netherlands","Switzerland"],a:0,
f:"Liechtenstein is one of only two doubly landlocked countries in the world (surrounded entirely by landlocked countries). Its entire police force has about 87 officers.",
rq:"Liechtenstein! THEINLETSENC was brutal. A country so small its police force has 87 people!",wq:"It's Liechtenstein! Doubly landlocked and guarded by a police force of about 87 brave souls."},
// ═══ LANDMARK CLUES — Cryptic clue + emoji, guess the country ═══
// type:'landmark_clue' → shows emoji scene + poetic clue, player guesses which country
{d:1,cat:"Landmark Clues",type:"landmark_clue",emoji:"🗼✨🥖",clue:"An iron lady watches over a city of lights and croissants",q:"Which country is home to this landmark?",o:["United Kingdom","France","Italy","Spain"],a:1,
f:"The Eiffel Tower was built in 1889 for the World's Fair and was originally supposed to be torn down after 20 years. It's now the most-visited paid monument in the world.",
rq:"France! The 'iron lady' is the Eiffel Tower — saved from demolition to become the world's most visited paid monument!",wq:"It's France! The Eiffel Tower was supposed to be temporary. 136 years later, she's still standing."},
{d:1,cat:"Landmark Clues",type:"landmark_clue",emoji:"🗽🏙️🍎",clue:"A green giant holds a torch above a harbor in the Big Apple",q:"Which country is home to this landmark?",o:["France","United Kingdom","United States","Canada"],a:2,
f:"The Statue of Liberty was a gift from France, dedicated in 1886. It stands 93 meters tall including its pedestal on Liberty Island in New York Harbor.",
rq:"United States! Lady Liberty — a French gift that became America's most iconic welcome sign!",wq:"It's the United States! The Statue of Liberty has been greeting arrivals in New York Harbor since 1886."},
{d:1,cat:"Landmark Clues",type:"landmark_clue",emoji:"🏛️⚔️🫒",clue:"An ancient hilltop temple dedicated to a goddess of wisdom overlooks a Mediterranean capital",q:"Which country is home to this landmark?",o:["Italy","Turkey","Egypt","Greece"],a:3,
f:"The Parthenon atop the Acropolis in Athens was dedicated to Athena, goddess of wisdom. Built between 447-432 BCE, it's one of the most influential buildings in Western history.",
rq:"Greece! The Parthenon on the Acropolis — 2,400 years old and still the gold standard of architecture.",wq:"It's Greece! The Parthenon has been watching over Athens for nearly 2,500 years."},
{d:2,cat:"Landmark Clues",type:"landmark_clue",emoji:"🏯🌸⛩️",clue:"Cherry blossoms frame ancient wooden castles and vermillion gates",q:"Which country is home to these landmarks?",o:["China","South Korea","Japan","Vietnam"],a:2,
f:"Japan has over 100 castles still standing, including Himeji Castle (a UNESCO site). The iconic torii gates, like Fushimi Inari's 10,000 vermillion gates, mark sacred Shinto spaces.",
rq:"Japan! Castles, torii gates, and cherry blossoms — the ultimate aesthetic trio.",wq:"It's Japan! Over 100 castles still stand, and Fushimi Inari alone has 10,000 torii gates."},
{d:2,cat:"Landmark Clues",type:"landmark_clue",emoji:"🦁🌊💎",clue:"A half-fish, half-lion fountain guards a futuristic city-state at the tip of a peninsula",q:"Which country is home to this landmark?",o:["Malaysia","Thailand","Singapore","Indonesia"],a:2,
f:"The Merlion (half-lion, half-fish) is Singapore's national symbol. The original 8.6-meter statue at Merlion Park has become one of Southeast Asia's most photographed landmarks.",
rq:"Singapore! The Merlion — half lion, half fish, fully iconic. Guarding the city-state since 1972!",wq:"It's Singapore! The Merlion combines a lion's head with a fish body — as strange as it is beloved."},
{d:2,cat:"Landmark Clues",type:"landmark_clue",emoji:"🕌🐫🏜️",clue:"A perfect white marble teardrop rises above the banks of a river, built by a grieving emperor",q:"Which country is home to this landmark?",o:["Iran","Turkey","India","Pakistan"],a:2,
f:"The Taj Mahal was built by Mughal Emperor Shah Jahan between 1632-1653 as a mausoleum for his wife Mumtaz Mahal. Around 22,000 workers and 1,000 elephants helped construct it.",
rq:"India! The Taj Mahal — 22,000 workers, 1,000 elephants, and 21 years of construction for one epic love story.",wq:"It's India! The Taj Mahal took 21 years to build. That's commitment to a memorial."},
{d:2,cat:"Landmark Clues",type:"landmark_clue",emoji:"🗿🌋🌊",clue:"Mysterious giant stone heads stare out to sea from the world's most remote inhabited island",q:"Which country controls the island with this landmark?",o:["New Zealand","Chile","Fiji","Australia"],a:1,
f:"Easter Island (Rapa Nui) belongs to Chile, lying 3,700 km off its coast. The 887 moai statues were carved by the Rapa Nui people between 1250-1500 CE.",
rq:"Chile! Easter Island is 3,700 km away but still Chilean. Those 887 moai have been staring into the Pacific for centuries.",wq:"It's Chile! Easter Island's 887 moai statues were carved over 250 years — on the world's most isolated inhabited island."},
{d:3,cat:"Landmark Clues",type:"landmark_clue",emoji:"🏔️🧊🦅",clue:"A lost stone city sits hidden among cloud-wrapped peaks, built by an empire of the sun",q:"Which country is home to this landmark?",o:["Bolivia","Ecuador","Peru","Colombia"],a:2,
f:"Machu Picchu sits at 2,430 meters in the Andes. Built around 1450 by the Inca emperor Pachacuti, it was unknown to the outside world until American historian Hiram Bingham reached it in 1911.",
rq:"Peru! Machu Picchu — hidden in the clouds for 400 years until 1911. The Incas knew how to keep a secret!",wq:"It's Peru! Machu Picchu was hidden from the world until 1911. That's impressive for a whole city."},
{d:3,cat:"Landmark Clues",type:"landmark_clue",emoji:"🐉🧱🏔️",clue:"A massive wall stretches across mountains and deserts, visible from nearby hills but not from space",q:"Which country is home to this landmark?",o:["Mongolia","China","Japan","India"],a:1,
f:"The Great Wall of China stretches over 21,000 km across northern China. Despite popular myth, it is NOT visible from space with the naked eye — astronauts have confirmed this.",
rq:"China! The Great Wall — 21,000 km long. And no, you can't see it from space. That's a myth!",wq:"It's China! The Great Wall is 21,000 km long but the 'visible from space' thing? Totally fake."},
{d:3,cat:"Landmark Clues",type:"landmark_clue",emoji:"🎭🦘🌊",clue:"Sail-shaped shells of white tile float on a harbor, hosting opera and symphonies in the Southern Hemisphere",q:"Which country is home to this landmark?",o:["New Zealand","South Africa","Australia","Brazil"],a:2,
f:"The Sydney Opera House took 16 years to build (1957-1973) and went 1,357% over budget. Danish architect Jørn Utzon left the project before completion due to disputes.",
rq:"Australia! The Sydney Opera House — 1,357% over budget. Government projects haven't changed much since 1973.",wq:"It's Australia! The Opera House went 1,357% over budget. The most beautifully expensive oops in history."},
{d:3,cat:"Landmark Clues",type:"landmark_clue",emoji:"🦁👑⚔️",clue:"An ancient rock fortress rises from the jungle, a palace built atop a 200-meter granite column",q:"Which country is home to this landmark?",o:["Cambodia","Myanmar","Sri Lanka","Thailand"],a:2,
f:"Sigiriya ('Lion Rock') in Sri Lanka is a 200-meter rock column topped with the ruins of King Kashyapa's 5th-century palace. The entrance was carved as a giant lion's mouth.",
rq:"Sri Lanka! Sigiriya — a palace on a 200-meter rock. King Kashyapa really didn't want visitors.",wq:"It's Sri Lanka! Sigiriya's 200-meter rock fortress was basically a 5th-century penthouse."},
{d:4,cat:"Landmark Clues",type:"landmark_clue",emoji:"🌀🔵🕳️",clue:"A perfect circular blue hole in turquoise waters, a giant sinkhole visible from space",q:"Which country's waters contain this landmark?",o:["Belize","Bahamas","Maldives","Fiji"],a:0,
f:"The Great Blue Hole off Belize is a giant marine sinkhole over 300 meters across and 125 meters deep. Jacques Cousteau declared it one of the world's top diving sites in 1971.",
rq:"Belize! The Great Blue Hole — 300 meters across. Jacques Cousteau called it a top diving site. The man had taste!",wq:"It's Belize! The Great Blue Hole is 300 meters wide and 125 meters deep — a sinkhole you can see from space."},
];

// Merge image questions into main pool
const QUESTIONS = [...ALL_QUESTIONS, ...IMAGE_QUESTIONS];

// SVG country outlines (simplified paths for silhouette questions)
const COUNTRY_OUTLINES = {
  italy: "M 50,10 L 55,18 52,25 48,22 42,30 40,38 38,45 44,52 50,58 55,62 52,68 48,72 52,78 55,85 50,90 45,85 42,78 38,72 35,65 32,58 30,52 35,45 40,40 42,35 44,28 46,20 48,15 Z M 40,85 L 35,82 32,88 38,92 44,90 40,85 Z",
  india: "M 55,5 L 62,8 68,12 72,18 75,25 72,32 68,38 72,45 75,52 72,58 68,65 62,72 55,80 50,88 48,92 45,85 42,78 38,72 35,65 38,58 42,52 40,45 38,38 42,32 48,28 52,22 55,15 52,10 Z",
  australia: "M 22,25 L 30,22 38,18 48,15 55,18 62,22 68,25 72,20 78,22 82,28 78,35 75,42 78,48 82,52 78,58 72,55 65,52 58,55 52,58 45,60 38,58 32,55 28,58 22,62 18,58 20,52 22,45 18,38 15,32 18,28 Z",
  chile: "M 48,2 L 52,8 50,15 52,22 50,28 48,35 50,42 48,48 50,55 48,62 50,68 48,75 50,82 48,88 50,95 46,98 44,92 46,85 44,78 46,72 44,65 46,58 44,52 46,45 44,38 46,32 44,25 46,18 44,12 46,5 Z",
  japan: "M 60,8 L 65,12 62,18 58,22 55,28 58,35 62,42 65,48 62,52 58,45 55,38 52,32 50,25 52,18 55,12 Z M 50,55 L 55,58 58,62 55,68 52,72 48,68 45,62 48,58 Z M 42,75 L 48,78 50,82 46,85 42,82 40,78 Z",
  france: "M 35,12 L 45,8 55,10 65,15 70,22 68,32 72,42 65,50 55,55 45,58 35,55 25,48 22,38 28,28 30,18 Z",
  brazil: "M 58,5 L 68,8 75,15 80,25 82,35 78,45 82,55 78,65 72,75 65,82 55,88 48,92 40,88 35,80 30,72 25,62 22,52 25,42 28,32 32,22 38,15 45,8 52,5 Z",
  russia: "M 5,30 L 12,25 22,22 32,20 42,18 52,15 62,12 72,10 82,12 90,15 95,22 90,28 85,32 88,38 92,42 88,48 82,45 75,42 68,45 62,48 55,45 48,42 42,45 35,48 28,45 22,42 15,38 10,35 Z",
  uk: "M 42,10 L 50,8 55,12 58,18 56,25 60,32 58,38 55,42 50,48 46,52 42,48 38,42 36,35 38,28 40,22 38,18 Z M 32,20 L 38,22 36,28 32,32 28,28 30,22 Z",
};

// ─── Country Tag Map (question index → ISO country codes for map progress) ───
const COUNTRY_TAG_MAP = {0:["JP"],1:["FR"],2:["AU"],3:["CA"],4:["BR"],5:["IN"],6:["CN"],7:["EG"],8:["DE"],9:["KR"],10:["MX"],11:["RU"],12:["IT"],13:["ES"],14:["GB"],16:["AU"],20:["AU"],21:["EG"],24:["AR"],25:["US"],26:["US"],27:["US"],28:["US"],29:["US"],30:["US"],31:["US","CA"],32:["US"],33:["US"],34:["NP","CN"],35:["US"],36:["DK","GL"],37:["AU","FJ","ID","PH"],38:["IN","PA"],39:["NP","BT","CN","IN","PK"],40:["AU"],41:["ES","MA"],42:["PR"],43:["BR"],44:["CA","CN","RU","US"],45:["LI","MC","SM","VA"],46:["CN","ID","IN","US"],47:["AR","BR","CL","CO","EC","PE"],48:["ES","GR","IT","PT"],49:["DZ","LY","SD"],50:["CU","DO","HT","JM","PR"],51:["EG","GR","IR","TR"],52:["DE","FR","GB","IT","RU"],53:["ID","PH","TH","VN"],54:["EG","IN"],55:["IN"],56:["AU","KE","UG"],57:["RU"],60:["RU","US"],61:["AU"],62:["CN","JP","KR","TH"],64:["DE","FR","GB","RU"],65:["AU","ID","PH","TH"],66:["AU","IN"],69:["NZ"],70:["CL","CO","EC","PE"],71:["TR"],72:["NZ"],73:["CH"],74:["US","VN"],75:["MA"],76:["PL"],77:["CO"],78:["GB","TH"],79:["PH"],81:["KE","MW","TD","TZ","UG"],85:["KE"],86:["CL","VE"],87:["GB"],88:["CN","EG","IN","IQ","IR","LY","MN","PK"],89:["RU"],90:["ES","MA"],92:["AU","CA","ID","RU"],93:["CN","KG","KZ","MN","RU","TD","TM","UZ"],94:["ID","IS","JP","PH"],95:["CN","JP","KR","TW"],96:["CL","CO","EC","PE"],97:["AO","KE","MW","MZ","TZ","ZM","ZW"],98:["MX","US"],99:["IN"],103:["CA","US"],104:["CN","RU"],105:["AR"],106:["PE"],107:["CL"],108:["GR"],109:["CN"],110:["RU"],111:["IE"],112:["BD","IN","LK","MM","NP"],113:["AU"],114:["KE"],115:["CO","EC","GY","VE"],116:["BO","CL","EC","PE"],117:["AE","BH","SA","YE"],118:["CN","RU"],119:["CU"],120:["BD","IN","LK","MM"],121:["BZ","CR","GT","HN"],123:["BR","CO","EC","ID","KE"],124:["PK"],125:["TZ"],126:["ET"],127:["LK"],128:["KZ"],130:["AU","RU"],131:["IT"],132:["AR"],133:["CN","FR","RU","US"],134:["ET","GH","KE","NE","NG"],135:["FI","GL","IS","NO"],136:["BN","ID","MY"],137:["DJ","GM","RW","SN","SZ"],138:["AT","BG","DE","HR","HU","RO","RS","SK","UA"],139:["AR","BO","BR","CL","CO","EC","PE","PY"],140:["CN","KH","LA","MM","TH","VN"],141:["IQ","JO"],142:["IN"],143:["AF","CN","IN","IQ","IR","PK","SY","TR"],145:["ES","FR","IT","US"],146:["AD","ES","FR","LI","MC","SM"],147:["IN"],148:["BG","GE","RO","RU","TR","UA"],149:["BG","HU","MD","RO"],150:["LY","SD","ZA"],151:["US"],152:["GU","JP","PR","US"],153:["CN","IN","JP","TR"],154:["CL"],155:["AU"],156:["CN","KZ","MN","RU"],157:["KI"],158:["BO","CO","EC","NP"],159:["BW","IT","LS","MZ","SM","SZ","VA","ZA"],160:["EG","JO"],161:["SA"],162:["IQ","IR","SY","TR"],163:["BD","IN","KR","NL"],164:["IN"],165:["BT","LA","MN","NP"],166:["BT","CH","NP","VA"],168:["CN","EG","IN","MX"],169:["BR","CO","ET","VN"],171:["CN","ET","US"],172:["CO","IN"],173:["BR","PT"],174:["LA","TH"],175:["HN"],176:["NP"],177:["VE"],178:["BD"],179:["AU"],180:["US"],181:["AT","BO","CH","LI","MN","NE","NP","PY","TD","UZ"],182:["BO","BT","LS","NP","ZA"],184:["EG","IL","JO","LB","PS","SY"],185:["DE","ES","FR","IT"],186:["EG","GH","MA","NE","NG"],187:["CN","MM"],188:["LK","MM"],189:["GT","HN","NI","PA"],190:["IQ","RU","SA","US"],191:["CG"],192:["DZ","MA","TN"],193:["IR","LY"],194:["ID","MG","PG"],195:["IN","MG","MU","SC"],196:["IN","LK","MV","SC"],197:["NE","NG"],198:["MX"],201:["BR","CO","EC","ID","KE","KI","ML","SO","ST","UG"],202:["BW","ES","FR","IT","MC","VA","ZM"],203:["AU"],204:["CG"],205:["ME","SS","TL","XK"],206:["NP"],207:["BR"],208:["CA","RU"],209:["ET","KE","TZ","UG"],210:["EG","JO","LB","SA"],211:["ID","IN","NE","NG","PG"],212:["AU"],213:["EC","IN"],214:["CA","RU"],215:["BH","BN","MV","SG"],216:["AR","BO","CL","PE"],217:["CY"],218:["IN"],220:["AR","BR","CA","CN","KZ","RU","US"],221:["BR","CO","ET","VN"],222:["AF","IQ","IR","TR"],223:["EG","JO","LB","SY"],224:["DJ","GM","RW","SN","SZ"],226:["IN"],227:["MC","MT","SG","VA"],228:["AU","BR","CL","ZA"],229:["AR","CL","NZ"],230:["CN","KG","KZ","MN","RU","TM","UZ"],233:["AD","AT","CH","LI"],235:["CN"],236:["GE","KZ","RU","TR"],238:["MX","US"],240:["AF","AT","BO","CH","KG","KZ","LI","MN","NP","TJ","TM","UZ"],241:["AU","CL","ZA"],242:["CA","CU","MX","US"],244:["AU"],246:["ME","SS","TL","XK"],248:["DK","GL","MG"],249:["EG","ET","NE","NG","ZA"],250:["CN","RU"],251:["PA"],252:["AZ","IQ","IR","TM"],253:["IS"],255:["CH","ES","FR","IT","VA"],257:["AU","CL","ZA"],259:["CN"],261:["MX"],262:["QA"],263:["AF","KG","KZ","TJ","TM","UZ"],265:["CA","MX"],266:["CN","SG"],267:["BW","RU","ZA"],269:["FR","GB","IE"],270:["ID"],272:["GR","MK"],274:["CN"],275:["DK","IS","NO","RU"],276:["NE","RU"],278:["DZ","LY","MA","TN"],279:["CA","LT","PL","RU"],280:["ID","MY","NE","NG","TH"],281:["MX"],282:["DE","PA"],284:["AR","CL","EC","PE"],287:["FJ","KI","TO","WS"],297:["JP"],298:["FR"],299:["BR"],300:["CA"],301:["IN"],302:["AU"],303:["MX"],304:["KR"],305:["ZA"],306:["NP"],307:["BT"],308:["MZ"],309:["IT"],310:["IN"],311:["AU"],312:["CL"],313:["JP"],314:["FR"],315:["BR"],316:["RU"],317:["GB"],318:["IT"],319:["MX"],320:["JP"],321:["MX"],322:["BE"],323:["AT"],324:["CN"],325:["ET"],326:["IN"],327:["BE"],328:["CH"],329:["CN"],330:["BR"],331:["EG"],332:["JP"],333:["CA"],334:["AU"],335:["MX"],336:["GR"],337:["IS"],338:["MZ"],339:["MG"],340:["KZ"],341:["LI"],342:["FR"],343:["US"],344:["GR"],345:["JP"],346:["SG"],347:["IN"],348:["CL"],349:["PE"],350:["CN"],351:["AU"],352:["LK"],353:["BZ"]};

// ─── Flag emoji from ISO code ─────────────────────────────────────────────────
const flagEmoji = (code) => String.fromCodePoint(...[...code.toUpperCase()].map(c => 0x1F1E6 + c.charCodeAt(0) - 65));

// ─── Countries by continent (for map display) ────────────────────────────────
const WORLD_COUNTRIES = {
  "North America":[
    ["US","United States"],["CA","Canada"],["MX","Mexico"],["CU","Cuba"],["GT","Guatemala"],
    ["HN","Honduras"],["NI","Nicaragua"],["CR","Costa Rica"],["PA","Panama"],["BZ","Belize"],
    ["JM","Jamaica"],["HT","Haiti"],["DO","Dominican Republic"],["PR","Puerto Rico"],["BS","Bahamas"]
  ],
  "South America":[
    ["BR","Brazil"],["AR","Argentina"],["CO","Colombia"],["PE","Peru"],["VE","Venezuela"],
    ["CL","Chile"],["EC","Ecuador"],["BO","Bolivia"],["PY","Paraguay"],["GY","Guyana"],["UY","Uruguay"]
  ],
  "Europe":[
    ["GB","United Kingdom"],["FR","France"],["DE","Germany"],["IT","Italy"],["ES","Spain"],
    ["PT","Portugal"],["NL","Netherlands"],["BE","Belgium"],["CH","Switzerland"],["AT","Austria"],
    ["PL","Poland"],["GR","Greece"],["IE","Ireland"],["NO","Norway"],["SE","Sweden"],
    ["FI","Finland"],["DK","Denmark"],["IS","Iceland"],["RO","Romania"],["BG","Bulgaria"],
    ["HR","Croatia"],["RS","Serbia"],["HU","Hungary"],["SK","Slovakia"],["UA","Ukraine"],
    ["CZ","Czech Republic"],["LT","Lithuania"],["LV","Latvia"],["EE","Estonia"],["MD","Moldova"],
    ["AD","Andorra"],["LI","Liechtenstein"],["MC","Monaco"],["SM","San Marino"],["VA","Vatican City"],
    ["MT","Malta"],["ME","Montenegro"],["MK","North Macedonia"],["XK","Kosovo"],["BY","Belarus"],
    ["GE","Georgia"],["AZ","Azerbaijan"]
  ],
  "Africa":[
    ["EG","Egypt"],["NG","Nigeria"],["ZA","South Africa"],["KE","Kenya"],["ET","Ethiopia"],
    ["GH","Ghana"],["TZ","Tanzania"],["UG","Uganda"],["DZ","Algeria"],["MA","Morocco"],
    ["TN","Tunisia"],["LY","Libya"],["SD","Sudan"],["SS","South Sudan"],["CG","Congo"],
    ["CD","DR Congo"],["AO","Angola"],["MZ","Mozambique"],["MG","Madagascar"],["MW","Malawi"],
    ["ZM","Zambia"],["ZW","Zimbabwe"],["BW","Botswana"],["NE","Niger"],["ML","Mali"],
    ["SN","Senegal"],["GN","Guinea"],["TD","Chad"],["RW","Rwanda"],["DJ","Djibouti"],
    ["GM","Gambia"],["SZ","Eswatini"],["LS","Lesotho"],["LR","Liberia"],["SO","Somalia"],
    ["ST","São Tomé"],["MU","Mauritius"],["SC","Seychelles"],["KM","Comoros"],["TL","Timor-Leste"]
  ],
  "Asia":[
    ["CN","China"],["JP","Japan"],["IN","India"],["KR","South Korea"],["ID","Indonesia"],
    ["TH","Thailand"],["VN","Vietnam"],["PH","Philippines"],["MY","Malaysia"],["SG","Singapore"],
    ["MM","Myanmar"],["KH","Cambodia"],["LA","Laos"],["BD","Bangladesh"],["LK","Sri Lanka"],
    ["NP","Nepal"],["BT","Bhutan"],["PK","Pakistan"],["AF","Afghanistan"],["IR","Iran"],
    ["IQ","Iraq"],["SA","Saudi Arabia"],["AE","UAE"],["IL","Israel"],["JO","Jordan"],
    ["LB","Lebanon"],["SY","Syria"],["TR","Turkey"],["KZ","Kazakhstan"],["UZ","Uzbekistan"],
    ["TM","Turkmenistan"],["KG","Kyrgyzstan"],["TJ","Tajikistan"],["MN","Mongolia"],
    ["KP","North Korea"],["TW","Taiwan"],["BN","Brunei"],["MV","Maldives"],["BH","Bahrain"],
    ["KW","Kuwait"],["QA","Qatar"],["YE","Yemen"],["CY","Cyprus"],["PS","Palestine"]
  ],
  "Oceania":[
    ["AU","Australia"],["NZ","New Zealand"],["FJ","Fiji"],["PG","Papua New Guinea"],
    ["WS","Samoa"],["TO","Tonga"],["KI","Kiribati"],["GU","Guam"],["GL","Greenland"]
  ]
};

// Total countries across all continents
const ALL_COUNTRY_CODES = new Set(Object.values(WORLD_COUNTRIES).flat().map(c => c[0]));
const TOTAL_COUNTRIES = ALL_COUNTRY_CODES.size;

// ─── Badge Definitions ────────────────────────────────────────────────────────
const BADGE_DEFINITIONS = [
  {id:"first_steps",name:"First Steps",icon:"👣",desc:"Play your first game",check:p=>p.gamesPlayed>=1},
  {id:"globe_trotter",name:"Globe Trotter",icon:"🌍",desc:"Play 10 games",check:p=>p.gamesPlayed>=10},
  {id:"geo_nut",name:"Geography Nut",icon:"🥜",desc:"Play 25 games",check:p=>p.gamesPlayed>=25},
  {id:"perfect_round",name:"Perfect Round",icon:"💎",desc:"Get 5/5 in a round",check:p=>p.perfectRounds>=1},
  {id:"perfect_game",name:"Perfect Game",icon:"👑",desc:"Get 25/25 in a game",check:p=>p.perfectGames>=1},
  {id:"speed_demon",name:"Speed Demon",icon:"⚡",desc:"Answer 5 questions with 15+ seconds left",check:p=>p.speedAnswers>=5},
  {id:"capital_expert",name:"Capital Expert",icon:"🏛️",desc:"Answer 20 Capitals questions correctly",check:p=>(p.catCorrect?.Capitals||0)>=20},
  {id:"us_pro",name:"US Pro",icon:"🇺🇸",desc:"Answer 20 US Geography questions correctly",check:p=>(p.catCorrect?.["US Geography"]||0)>=20},
  {id:"world_traveler",name:"World Traveler",icon:"✈️",desc:"Discover 25 countries on the map",check:p=>p.countriesDiscovered>=25},
  {id:"cartographer",name:"Cartographer",icon:"🗺️",desc:"Discover 50 countries on the map",check:p=>p.countriesDiscovered>=50},
  {id:"world_explorer",name:"World Explorer",icon:"🧭",desc:"Discover 100 countries on the map",check:p=>p.countriesDiscovered>=100},
  {id:"streak_starter",name:"Streak Starter",icon:"🔥",desc:"Get a 3-question answer streak",check:p=>p.bestStreak>=3},
  {id:"on_fire",name:"On Fire",icon:"🔥",desc:"Get a 5-question answer streak",check:p=>p.bestStreak>=5},
  {id:"unstoppable",name:"Unstoppable",icon:"💪",desc:"Get a 10-question answer streak",check:p=>p.bestStreak>=10},
  {id:"daily_devotee",name:"Daily Devotee",icon:"📅",desc:"Play 7 days in a row",check:p=>p.dailyStreak>=7},
  {id:"dedicated",name:"Dedicated",icon:"🏅",desc:"Play 14 days in a row",check:p=>p.dailyStreak>=14},
  {id:"geo_master",name:"Geography Master",icon:"🎓",desc:"Play 30 days in a row",check:p=>p.dailyStreak>=30},
  {id:"knowledge_sponge",name:"Knowledge Sponge",icon:"🧠",desc:"Answer 500 total questions",check:p=>p.totalAnswered>=500},
  {id:"brain_bank",name:"Brain Bank",icon:"🏦",desc:"Answer 1000 total questions",check:p=>p.totalAnswered>=1000},
  {id:"well_rounded",name:"Well Rounded",icon:"🎯",desc:"Answer questions from all 19 categories",check:p=>Object.keys(p.catCorrect||{}).length>=19}
];

// ─── Secret / Hidden Badge Definitions ───────────────────────────────────────
// These badges are HIDDEN from the player until earned. Descriptions are cryptic hints.
const SECRET_BADGE_DEFINITIONS = [
  // Time-based
  {id:"night_owl",name:"Night Owl",icon:"🦉",desc:"???",hint:"The world looks different after dark...",secret:true,
    check:p=>(p.midnightGames||0)>=1},
  {id:"early_bird",name:"Early Bird",icon:"🐦",desc:"???",hint:"Geography before breakfast? Respect.",secret:true,
    check:p=>(p.earlyBirdGames||0)>=1},
  // Category streaks
  {id:"foodie_frenzy",name:"Foodie Frenzy",icon:"🍽️",desc:"???",hint:"One cuisine after another, no misses...",secret:true,
    check:p=>(p.bestCatStreak?.["Food Origins"]||0)>=5},
  {id:"flag_fanatic",name:"Flag Fanatic",icon:"🏴",desc:"???",hint:"You really know your cloth and colors.",secret:true,
    check:p=>(p.typeCorrect?.flag||0)>=15},
  {id:"silhouette_sleuth",name:"Silhouette Sleuth",icon:"🔍",desc:"???",hint:"Shadows tell you everything you need.",secret:true,
    check:p=>(p.typeCorrect?.silhouette||0)>=10},
  {id:"word_wizard",name:"Word Wizard",icon:"🧙",desc:"???",hint:"Unscramble your way to glory.",secret:true,
    check:p=>(p.typeCorrect?.scramble||0)>=8},
  {id:"landmark_legend",name:"Landmark Legend",icon:"🏛️",desc:"???",hint:"Clues in emoji? Child's play for you.",secret:true,
    check:p=>(p.typeCorrect?.landmark_clue||0)>=8},
  // Tiny/obscure countries
  {id:"tiny_titan",name:"Tiny Titan",icon:"🔬",desc:"???",hint:"The smallest places, the biggest knowledge.",secret:true,
    check:p=>(p.tinyCountryCorrect||0)>=5},
  // Clutch plays
  {id:"buzzer_beater",name:"Buzzer Beater",icon:"⏰",desc:"???",hint:"Two seconds left? No problem.",secret:true,
    check:p=>(p.lastSecondCorrect||0)>=3},
  // Lifeline mastery
  {id:"lifeline_junkie",name:"Lifeline Junkie",icon:"🆘",desc:"???",hint:"Use every tool in the toolbox.",secret:true,
    check:p=>p.usedAllLifelinesOneGame===true},
  {id:"no_training_wheels",name:"No Training Wheels",icon:"🚲",desc:"???",hint:"Who needs help? Not you.",secret:true,
    check:p=>(p.gamesPlayed||0)>=5 && (p.lifelinesUsed||0)===0},
  // Difficulty mastery
  {id:"big_brain",name:"Big Brain Energy",icon:"🧠",desc:"???",hint:"Level 4 questions fear YOU.",secret:true,
    check:p=>(p.allDifficulty4Correct||0)>=10},
  // Survival mode
  {id:"cockroach",name:"Cockroach",icon:"🪳",desc:"???",hint:"Nothing can take you down in survival.",secret:true,
    check:p=>(p.survivalBest||0)>=20},
  {id:"flawless_survivor",name:"Flawless Survivor",icon:"💎",desc:"???",hint:"Survive without a single scratch.",secret:true,
    check:p=>(p.perfectSurvivalRun||0)>=10},
  // Volume/dedication
  {id:"century_club",name:"Century Club",icon:"💯",desc:"???",hint:"Triple digits of correct answers.",secret:true,
    check:p=>(p.totalCorrect||0)>=100},
  {id:"capital_conqueror",name:"Capital Conqueror",icon:"👑",desc:"???",hint:"You could name every capital on Earth.",secret:true,
    check:p=>(p.catCorrect?.Capitals||0)>=50},
  // Failure badges (embrace the struggle!)
  {id:"resilient",name:"Resilient",icon:"🦾",desc:"???",hint:"Fall down 5 times, get up 6.",secret:true,
    check:p=>(p.wrongStreakMax||0)>=5},
  {id:"geography_101",name:"Back to Basics",icon:"📚",desc:"???",hint:"Everyone starts somewhere... 50 games somewhere.",secret:true,
    check:p=>(p.gamesPlayed||0)>=50},
];

// Combine all badge definitions
const ALL_BADGE_DEFINITIONS = [...BADGE_DEFINITIONS, ...SECRET_BADGE_DEFINITIONS];

// ─── Daily Streak Milestones ──────────────────────────────────────────────────
const STREAK_MILESTONES = [
  {days:3,title:"Getting Warmed Up",icon:"🌡️",bonus:5},
  {days:7,title:"Week Warrior",icon:"⚔️",bonus:10},
  {days:14,title:"Two-Week Champion",icon:"🏆",bonus:15},
  {days:30,title:"Monthly Maven",icon:"🌟",bonus:20},
  {days:60,title:"Geography Guru",icon:"🧘",bonus:25},
  {days:100,title:"Century Scholar",icon:"📜",bonus:30}
];

// ─── Category Setup Lines (host intros per category) ─────────────────────────
const CATEGORY_SETUPS = {
  "Capitals": [
    "Capitals! The cities that run the show... or at least pretend to.",
    "Not every capital is the biggest or flashiest city. Some are sneaky little surprises.",
    "Pop quiz on capitals! And no, the capital isn't always the city you've heard of most.",
    "Time for capitals. Where the government hangs its hat... whether you knew it or not.",
    "Capital cities! The VIP section of every country. Some of them are surprising.",
    "Here's a life lesson: the capital is almost NEVER the city you'd guess first. Geography loves plot twists.",
    "Capitals are like lead singers — they get all the attention, even when they're not the biggest.",
    "If you think the biggest city is always the capital, geography is about to humble you."
  ],
  "Physical Geography": [
    "Let's get physical! ...Geographically speaking.",
    "Mountains, rivers, deserts — Earth's greatest hits album.",
    "Nature built some wild stuff. Let's see if you've been paying attention.",
    "Physical geography: where rocks, water, and dirt become surprisingly interesting.",
    "Earth has been sculpting itself for 4.5 billion years. Pop quiz on the results.",
    "Tectonic plates, erosion, and volcanic fury — Earth's renovation never stops.",
    "The planet has mountains, trenches, deserts, and glaciers. It's basically showing off at this point.",
    "Physical geography! Where 'the floor is lava' is sometimes literally true."
  ],
  "US Geography": [
    "America: 50 states, 50 chances to get confused about which one is where.",
    "Let's see how well you know the good ol' US of A.",
    "Stars, stripes, and state facts. How well do you really know this country?",
    "US geography! Not just the states you've visited on family road trips.",
    "50 states, and most people can only point to like 12 on a map. Be better than most people.",
    "The United States: where everything is big, dramatic, and geographically extra.",
    "Quick: can you name all 50 states? No? Well, at least know the ones in this question.",
    "US Geography! Where 'it's somewhere in the middle' is never an acceptable answer."
  ],
  "Oceans & Seas": [
    "The ocean: covering 71% of Earth and 100% of what makes sailors nervous.",
    "Water, water everywhere — and lots of trivia about it.",
    "Time to dive deep. Figuratively. Please don't literally dive into your screen.",
    "Oceans: 71% of the planet, 99% unexplored, and 100% on this quiz.",
    "Fun fact: we know more about the surface of Mars than the bottom of our own oceans. Anyway, trivia time!",
    "The oceans are big, salty, and full of surprises. Kind of like this game show.",
    "If fish could take this quiz, they'd crush it. Let's see if you can keep up.",
    "The seven seas! Well, five oceans. Depends who you ask. Geography is complicated."
  ],
  "Countries": [
    "195 countries on this planet. Let's see how many you actually know about.",
    "Countries! Some are huge, some are tiny, all of them have opinions.",
    "The world is a big place. Let's see if you know your way around it.",
    "There are countries smaller than your city and cities bigger than most countries. Geography is wild.",
    "195 countries, and every single one thinks it's the main character. Let's test your knowledge!",
    "Countries! The building blocks of 'I've always wanted to visit there.'",
    "Quick geography tip: knowing where countries are is roughly 80% of geography. Nail this.",
    "Planet Earth: 195 countries, infinite trivia potential."
  ],
  "Continents": [
    "Seven continents. You'd think that would be simple. You'd be wrong.",
    "Continental knowledge — the foundation of all geography!",
    "Continents: the biggest pieces of the puzzle. Literally.",
    "Only seven continents and people STILL get them mixed up. You're better than that. ...Right?",
    "Seven massive chunks of land. Let's make sure you know what's happening on each one.",
    "Continents! The cheat code to geography. If you know your continents, you know your way around.",
    "Think of continents as the neighborhoods of Earth. Let's see if you know the neighborhood.",
    "Seven continents, seven chances to prove you paid attention in class."
  ],
  "Rivers & Lakes": [
    "Rivers and lakes: nature's highways and parking lots.",
    "Water features! Not the kind in your backyard — the REAL ones.",
    "Let's talk about Earth's plumbing system: rivers and lakes.",
    "Rivers: Earth's original highways. Lakes: Earth's original swimming pools. Both: on this quiz.",
    "Every great civilization started near water. Let's see if you know which water.",
    "Rivers don't care about borders. They just flow wherever they want. Respect that energy.",
    "Fun fact: there are rivers under the ocean. Geography never stops being weird.",
    "Lakes and rivers: providing drinking water, transportation, and geography questions since forever."
  ],
  "Mountains & Deserts": [
    "Mountains and deserts: Earth's way of showing off and being dramatic.",
    "The highest highs and the driest lows. Geography has range.",
    "Peaks and sand — two of Earth's favorite things to throw around.",
    "Mountains said 'let me grow taller' and deserts said 'let me get drier.' Earth is competitive with itself.",
    "If you think deserts are just sand and mountains are just rocks, geography is about to school you.",
    "Mountains: where the air is thin and the quiz questions are thick.",
    "Deserts are actually fascinating. Dry, but fascinating. Like this category.",
    "The Sahara is the size of the US. Everest is taller than 29 stacked Statues of Liberty. Earth doesn't do 'subtle.'"
  ],
  "Borders & Neighbors": [
    "Borders: imaginary lines that real people take very, very seriously.",
    "Who's next to who? Geography's version of a seating chart.",
    "Neighbors! Some countries have lots of them. Some prefer to be islands. Literally.",
    "Borders are basically geography's relationship status. 'It's complicated.'",
    "Some borders are rivers, some are mountains, some are just... vibes. Let's test your knowledge.",
    "Knowing who borders who is like knowing the gossip of the world map. Essential stuff.",
    "Countries can't pick their neighbors, but they CAN passive-aggressively build walls. Anyway, trivia!",
    "Fun fact: some borders are straight lines drawn by colonizers who had rulers but no common sense."
  ],
  "Islands": [
    "Islands: because sometimes land just wants some personal space.",
    "Surrounded by water on all sides — the introvert of landforms.",
    "Island time! And by that I mean geography questions about islands.",
    "Islands: proof that even continents have pieces that break off and do their own thing.",
    "Some islands are tropical paradises. Some are frozen wastelands. All of them are on this quiz.",
    "An island is just land that committed to being surrounded by water. Respect the commitment.",
    "From Greenland to Manhattan, islands come in every size. Let's see what you know!",
    "Islands: where the vacation vibes are real but the geography questions are harder than you think."
  ],
  "Cultural Geography": [
    "Languages, people, traditions — the human side of geography.",
    "It's not just about WHERE things are, it's about WHO lives there.",
    "Cultural geography: where maps meet humanity.",
    "People, languages, and traditions — the part of geography that reminds you the world is alive.",
    "Over 7,000 languages on Earth. You're about to be quizzed on the geography of a few of them.",
    "Cultural geography! Because knowing WHERE people are is only half the story.",
    "The world isn't just mountains and rivers. It's people, food, music, and really good trivia questions.",
    "Culture makes geography interesting. Without people, it's just a really pretty rock in space."
  ],
  "Climate & Weather": [
    "Climate: what you expect. Weather: what you get. Let's talk about what you know.",
    "Hot, cold, wet, dry — Earth has ALL the settings.",
    "Weather is temporary. Climate is forever. Or at least for test purposes.",
    "Earth's thermostat is broken and nobody can agree on the temperature. Anyway, quiz time!",
    "Climate zones: because not every place on Earth agreed to have the same weather.",
    "From tundra to tropical, Earth has more climate settings than your thermostat.",
    "Rain, snow, sunshine, hurricanes — Earth is DRAMATIC about its weather.",
    "Climate is basically weather's long-term personality. Let's see if you know the personality types."
  ],
  "Landmarks": [
    "Natural and human-made landmarks — the stuff that makes postcards possible.",
    "Famous places! The kind people travel thousands of miles to take selfies at.",
    "Landmarks: nature and humans competing to see who builds cooler stuff.",
    "If it's on a magnet at an airport gift shop, it's probably a landmark. Let's quiz!",
    "Landmarks! The stuff that makes you say 'I need to go there before I die.'",
    "Humans build towers. Nature builds canyons. Both of them end up on this quiz.",
    "From pyramids to waterfalls, the world has no shortage of 'wow, that's real?!' moments.",
    "Landmarks: the world's way of saying 'look at me, look at me!'"
  ],
  "Straits & Waterways": [
    "Straits and waterways: the narrow passages that make admirals nervous.",
    "Chokepoints of the world! Tiny water passages with massive importance.",
    "The world's most important water hallways. Don't run in them.",
    "Straits: tiny on the map, enormous in importance. Kind of like geography nerds.",
    "These narrow waterways control global trade. No pressure, but knowing them is kind of a big deal.",
    "Canals and straits: humanity's greatest shortcuts through water. Some natural, some hand-dug.",
    "If geography had bottlenecks, they'd be straits. Literally. That's what they are.",
    "Waterways: where 'a few miles wide' can control the economy of entire continents."
  ],
  "Historical Geography": [
    "Geography meets history. Because where things happened matters too.",
    "The 'when' and 'where' of the world, combined for maximum trivia damage.",
    "Historical geography: where the past and the map collide.",
    "Countries change names, borders shift, empires rise and fall — but the geography questions remain.",
    "History is just geography with a timeline. Let's test both at once.",
    "The past isn't dead — it's on the map. Just sometimes under a different name.",
    "Historical geography: for when regular geography isn't hard enough.",
    "Empires, colonies, and name changes — the world's map has been through a LOT of edits."
  ],
  "Population": [
    "8 billion people on Earth. Let's see if you know where they all live.",
    "Demographics! The study of who lives where and in what numbers.",
    "People, people everywhere. But where exactly? That's the question.",
    "8 billion people and they are NOT evenly distributed. Geography has favorites, apparently.",
    "Some cities have more people than entire countries. The world is unevenly packed and that's on the quiz.",
    "Population geography: where 'there are HOW many people there?' is a valid reaction.",
    "Fun fact: more than half the world lives in Asia. The other half wishes they had that kind of squad.",
    "Population density is wild. Some places have 50,000 people per square mile. Others have polar bears."
  ],
  "Economy & Resources": [
    "Money makes the world go round. Geography tells you where the money is.",
    "Natural resources, trade routes, and economic powerhouses. Let's go!",
    "Economics meets geography. Your wallet's favorite subject.",
    "Oil, gold, diamonds, lithium — the Earth is basically a treasure chest with countries sitting on top.",
    "Trade routes shaped the modern world. Knowing them makes you dangerously smart.",
    "Resources! The reason countries either thrive or really wish they had different geology.",
    "Economic geography: where 'location, location, location' is literally the entire field.",
    "Some countries sit on oil. Some sit on gold. Some sit on really nice beaches. All geography."
  ],
  "Extreme Geography": [
    "Records, extremes, and superlatives! Geography's greatest hits.",
    "The biggest, smallest, highest, deepest, and weirdest. Let's go extreme.",
    "Extreme geography — where the planet shows off its personal bests.",
    "Geography's highlight reel! The tallest, deepest, hottest, coldest, and most 'wait, really?!' facts.",
    "If geography had a yearbook, these would be the superlatives. Most likely to be on the quiz.",
    "Extreme geography: for when normal facts just aren't dramatic enough.",
    "The Earth has been breaking its own records for billions of years. Pop quiz on the greatest hits.",
    "Highest, lowest, biggest, smallest — Earth is the overachiever of the solar system."
  ],
  "Map Skills": [
    "Lines on a map! Latitude, longitude, and the grid that holds it all together.",
    "Map skills: because even GPS needs to know where the lines are.",
    "Coordinates and cartography! The nerdy backbone of all geography.",
    "Latitude and longitude: the world's address system. And you need to know the zip codes.",
    "Map skills! The difference between 'I know where that is' and actually knowing where that is.",
    "Without map skills, geography is just looking at pretty colors. Let's level up.",
    "Cartography: the ancient art of drawing the world before Google did it for us.",
    "The Equator, the Prime Meridian, the International Date Line — geography's invisible infrastructure."
  ],
  "Flags": [
    "Flag time! Every country designed a rectangle to represent themselves. Some got creative.",
    "Flags: the world's most patriotic graphic design project.",
    "Vexillology — that's the study of flags! Yes, that's a real word. No, it won't be on the quiz. The FLAG will.",
    "Red, white, blue, green, stars, stripes, crescents, suns — flags have it all!",
    "Some flags are iconic. Some look like they were designed in 5 minutes. All of them are geography.",
    "Flag recognition: the skill that impresses exactly one type of person (geography nerds). You're welcome.",
    "Every flag tells a story. Let's see if you can match the story to the country.",
    "Flags: where colors, symbols, and national pride collide on a piece of fabric."
  ],
  "Silhouettes": [
    "Country outlines! Can you name a country just by its shape? Let's find out.",
    "Silhouette round! No labels, no colors, just shapes. Good luck!",
    "Recognize the shape! It's like a geography Rorschach test, but there's a right answer.",
    "Country outlines: the ultimate test of 'have you actually LOOKED at a map lately?'",
    "Shape recognition! Some countries are instantly recognizable. Others... are rectangular.",
    "No names, no hints, just borders. This is geography in hard mode.",
    "Silhouettes! The geography equivalent of identifying someone by their shadow.",
    "Can you ID a country by shape alone? This is the geography flex you didn't know you needed."
  ],
  "Map Outlines": [
    "Country outlines! Can you name a country just by its shape? Let's find out.",
    "Silhouette round! No labels, no colors, just shapes. Good luck!",
    "It's like a geography Rorschach test, except there's a right answer.",
    "The ultimate test of 'have you actually LOOKED at a map lately?'",
    "Some countries are instantly recognizable by shape. Others look like a potato. Focus up.",
    "No names, no hints, just borders. Geography in hard mode.",
    "Identifying countries by outline — the skill that'll make you dangerous at pub trivia.",
    "Can you ID a country by shape alone? This is the atlas equivalent of Name That Tune."
  ],
  "Food Origins": [
    "Food Origins! Every delicious dish has a homeland. Time to trace your favorites back to their roots.",
    "Where does your food come from? Not the grocery store. I mean ORIGINALLY.",
    "Geography meets gastronomy! The most delicious quiz category ever invented.",
    "Food Origins: where 'French fries' aren't French and 'Chinese checkers' aren't Chinese. Life is a lie.",
    "Every iconic dish was invented somewhere. Let's see if you know where your favorites were born.",
    "Time to test your culinary geography! Spoiler: the answers are often surprising.",
    "The world gave us incredible food. Let's see if you can give the world credit for the right dishes.",
    "Food Origins! Warning: this category may cause spontaneous hunger and geographic revelations."
  ],
  "Geo Scramble": [
    "Geo Scramble! The letters are all there. They're just... rearranged. You got this. Probably.",
    "Unscramble the country! It's like Wordle met an atlas and they had a baby.",
    "The letters are jumbled, but the country is real. Think fast, spell faster!",
    "Geo Scramble time! Your brain is about to do geography AND a word puzzle simultaneously. Good luck.",
    "Scrambled letters, one country. It's anagram time, geography style!",
    "Every letter is a clue. Unscramble them and name the nation. No pressure, but there's a timer.",
    "Geo Scramble! Like Scrabble, except every answer is a country and you can't use a blank tile.",
    "Word jumble meets world map. If you've ever rearranged fridge magnets, you're basically trained for this."
  ],
  "Landmark Clues": [
    "Landmark Clues! Cryptic hints about famous places. Can you crack the code?",
    "Every landmark tells a story. I'll give you the story — you tell me where it lives.",
    "Emoji clues + poetic hints = one iconic landmark. This is geography meets riddles.",
    "Famous landmarks, described the hard way. No names, just vibes and emojis.",
    "Landmark Clues! I'll paint a picture with words and emojis. You tell me the country.",
    "Some landmarks are world-famous. Let's see if you can identify them from a cryptic clue.",
    "Riddle me this, geography fans: which country holds this famous landmark?",
    "Clue-based geography! It's like a scavenger hunt, except the whole world is the playing field."
  ]
};

const HOST_INTROS = [
  "Welcome to GEO-WRECKED! The only game show where knowing where stuff is actually matters!",
  "I'm your host, and I'll be judging your geographic knowledge with barely concealed glee.",
  "Let's see if you're smarter than a GPS, shall we?",
  "Welcome back to GEO-WRECKED! Where the globe spins and the points DO matter!",
  "Oh good, you're back. The globe was getting dusty. Let's spin it.",
  "GEO-WRECKED! Where we turn 'I think it's somewhere in Europe' into actual knowledge.",
  "Welcome! Fun fact: you're currently located at your device. That's the last easy question.",
  "Ladies and gentlemen, welcome to the show where 'close enough' is NOT good enough!",
  "You could be doing literally anything right now, and you chose geography. I respect that chaotic energy.",
  "GEO-WRECKED! Because Google Maps can't help you on the GeoBee stage.",
  "I'm back, you're back, and the world is still round. Mostly. Let's do this.",
  "Welcome! Remember: in this game, the only continent that matters is the one in the question.",
  "GEO-WRECKED! The game that makes your geography teacher's heart grow three sizes.",
  "Before we start, a reminder: there's no 'phone a friend' in geography. Only raw brainpower.",
  "Welcome to the show where we separate the atlases from the amateurs!",
  "You've got 25 questions between you and geographic glory. No pressure. Okay, SOME pressure.",
  "GEO-WRECKED! Turning 'wait, is that in South America or Africa?' into championship material.",
  "I've been told to go easy on you. I've decided not to listen.",
  "Welcome! The only show where knowing the capital of Burkina Faso makes you a rockstar.",
  "GEO-WRECKED! Because the world is too interesting to NOT know about it.",
  "Fun fact: most people can't name 10 countries. You're about to name a LOT more. Or fail trying.",
  "Welcome! Confidence is great. Accurate confidence is better. Let's see which one you've got.",
  "The globe is spinning, the clock is ticking, and your reputation is on the line. Standard Tuesday.",
  "GEO-WRECKED! Where being a geography nerd is finally a competitive advantage.",
  "You know what separates champions from everyone else? Knowing that Myanmar used to be Burma. Let's go.",
  "Welcome to GEO-WRECKED, where the questions are real and the points are meaningful!",
  "The world has 195 countries, 7 continents, and 1 champion. Will it be you? Spoiler: we'll find out."
];

const ROUND_NAMES = {
  1: "Warm Up Your Globe",
  2: "Getting Warmer",
  3: "No More Mr. Nice Globe",
  4: "The Gauntlet",
  5: "Championship Round"
};

const ROUND_INTROS = {
  1: [
    "We're starting easy. Don't get cocky.",
    "Consider this geography stretching. Loosen up those brain muscles.",
    "The warm-up round! If you miss these, we need to have a conversation.",
    "Easy mode! Enjoy it while it lasts. Spoiler: it won't last.",
    "Think of this as the tutorial level. Except the timer is real.",
    "Softballs first! I'm nice like that. Temporarily.",
    "Round 1 is basically a free trial. The subscription gets expensive.",
    "If geography were a pool, we're in the shallow end. Floaties encouraged."
  ],
  2: [
    "Getting Warmer — like the planet! ...Too soon?",
    "Time to separate the map readers from the map folders.",
    "Okay, recess is over. Time to actually think.",
    "If Round 1 was a stroll, Round 2 is a brisk jog. Keep up.",
    "We're ramping up! Think of this as geography's second gear.",
    "The training wheels are off. Try not to crash.",
    "Things are heating up! And I don't just mean because of global warming.",
    "Round 2: where 'I think I knew that' becomes 'I definitely don't know that.'"
  ],
  3: [
    "Hope you stretched your brain. It's about to get a workout.",
    "This is where dreams go to get a geography lesson.",
    "Welcome to the part of the game where guessing stops working.",
    "Round 3: No More Mr. Nice Globe. That's literally the name. I don't make the rules.",
    "If you're still feeling confident, enjoy the next 30 seconds of that.",
    "The fun and games are over. Well, it's still a game. But the fun part is debatable.",
    "Things just got real. Like, 'studying for the GeoBee' real.",
    "This is the round that separates the tourists from the explorers."
  ],
  4: [
    "Only the brave survive this round. The rest just... learn things.",
    "If you're still here, you know your stuff. Or you're stubborn. Either way, respect.",
    "Welcome to The Gauntlet! Where the questions come harder and the timer feels shorter.",
    "Round 4: now we're cooking with gas. Geographic gas. That sounded better in my head.",
    "This is where geography teachers watch and nod approvingly. Or wince. Could go either way.",
    "Four rounds in and you're still standing? The GeoBee committee is taking notes.",
    "This is expert territory. If geography were a video game, this is the boss level.",
    "Round 4: where we find out if your knowledge has depth or if you've been bluffing."
  ],
  5: [
    "CHAMPIONSHIP ROUND! This is GeoBee finals material. No pressure. Okay, ALL the pressure.",
    "This is it. The big leagues. The GEOOOOO BEEEEEE!",
    "The final round. Where legends are born and egos are humbled.",
    "If you ace this, you are officially a geography weapon. A WEAPON.",
    "Five rounds of geography. You've survived this long. Finish strong or finish... aware of your weaknesses.",
    "Championship material! These questions are the geography equivalent of a final boss.",
    "The last five questions. Your entire geographic reputation comes down to this. No big deal.",
    "FINAL ROUND! This is the stuff that makes National Geographic champions cry. Let's gooooo!"
  ]
};

const STREAK_COMMENTS = {
  3: [
    "Three in a row! You're on fire! (Not literally. That would be a different kind of geography event.)",
    "Hat trick! Three straight! The globe is impressed.",
    "Three correct! That's called a trend, people!",
    "Triple threat! Is this skill or luck? Let's find out."
  ],
  5: [
    "FIVE STREAK! You're basically a walking atlas!",
    "Five in a row! Your brain is giving GPS a run for its money!",
    "FIVE! That's not luck anymore, that's talent!",
    "Five straight! You're the human equivalent of a really good map."
  ],
  7: [
    "SEVEN?! Are you secretly a cartographer?",
    "SEVEN IN A ROW! Okay, who let the geography professor in here?",
    "Seven! At this point, I'm starting to think YOU should be hosting.",
    "Seven straight! The atlas called, it wants its job back."
  ],
  10: [
    "TEN IN A ROW! I think you might actually WIN the GeoBee.",
    "TEN! That's not a streak, that's a DYNASTY! Someone call National Geographic!",
    "Double digits! You're not playing the game anymore, the game is playing YOU.",
    "TEN IN A ROW?! I need to make harder questions. This is embarrassing for me."
  ]
};

const GAME_OVER_COMMENTS = {
  perfect: [
    "PERFECT SCORE?! You absolute LEGEND. The GeoBee doesn't stand a chance. 🌍👑",
    "100%?! I'm not even mad, I'm IMPRESSED. You are geography itself. 🌍👑",
    "Flawless victory! Did you secretly eat an atlas for breakfast? 🌍👑",
    "PERFECT?! Honestly, I'm a little scared of you right now. In a respectful way. 🌍👑",
    "You didn't miss a single one. The globe bows to you. WE ALL BOW. 🌍👑",
    "That was SURGICAL. Every question, destroyed. You're not a student, you're a force of nature. 🌍👑"
  ],
  great: [
    "Incredible performance! GeoBee competitors should be nervous!",
    "80%+ accuracy! You're not just good at geography, you're DANGEROUS at it!",
    "That was elite! A few more games and you'll be teaching the teacher!",
    "Seriously impressive! You know more about the world than most adults. That's not a joke.",
    "Outstanding! If this were the actual GeoBee, the judges would be nodding approvingly right now.",
    "You crushed it! Your brain is basically a globe with extra features."
  ],
  good: [
    "Solid showing! A little more studying and you'll be unstoppable!",
    "Hey, that's a passing grade in most countries! And you know where those countries ARE, so...",
    "Respectable! You're definitely in 'knows their stuff' territory. A few more rounds and you'll be elite.",
    "Good work! You clearly know your way around a map. Let's turn that 'good' into 'great.'",
    "Not shabby! You've got the foundation. Now let's build the skyscraper of geographic knowledge!",
    "Nice job! You missed some, but you clearly LEARNED some. That's the whole point!"
  ],
  okay: [
    "Not bad! You know more than the average bear. Keep studying!",
    "Hey, at least you now know the answers to the ones you missed! That's called GROWTH.",
    "Some hits, some misses. The important thing is you showed up and your brain got a workout.",
    "Room for improvement! But also: room for DRAMATIC improvement! Glass half full!",
    "You know what? Every champion started somewhere. This is your somewhere. Own it.",
    "Mixed results, but think of it this way: you just learned a bunch of geography FACTS for FREE."
  ],
  rough: [
    "That's what practice is for! Every wrong answer is a fact you'll never forget. Play again!",
    "Okay, that was rough. But you know what? You now know MORE than when you started. That counts!",
    "Geography is hard! That's why they have a whole competition about it. Play again — revenge is sweet.",
    "Look, Rome wasn't built in a day. And you now know where Rome IS, so that's a start!",
    "I believe in you! The questions don't get easier, but YOU get smarter. Run it back!",
    "You know what the best part of getting wrecked is? The COMEBACK STORY. Let's write yours."
  ]
};

const QUESTIONS_PER_ROUND = 5;
const TOTAL_ROUNDS = 5;
const TIMER_SECONDS = 20;
const pick = (arr) => arr[Math.floor(Math.random() * arr.length)];

// ─── Sound Effects (Game Show Quality) ───────────────────────────────────────
const useSound = () => {
  const audioCtx = useRef(null);
  const musicGain = useRef(null);
  const musicTimer = useRef(null);
  const musicPlaying = useRef(false);
  const [sfxEnabled, setSfxEnabled] = useLocalStorage('geobee_sfx', true);
  const [musicEnabled, setMusicEnabled] = useLocalStorage('geobee_music', false);
  const [sfxVolume, setSfxVolume] = useLocalStorage('geobee_sfx_vol', 0.5);
  const [musicVolume, setMusicVolume] = useLocalStorage('geobee_music_vol', 0.3);

  const getCtx = useCallback(() => {
    if (!audioCtx.current) {
      audioCtx.current = new (window.AudioContext || window.webkitAudioContext)();
      musicGain.current = audioCtx.current.createGain();
      musicGain.current.gain.value = musicVolume;
      musicGain.current.connect(audioCtx.current.destination);
    }
    if (audioCtx.current.state === 'suspended') audioCtx.current.resume();
    return audioCtx.current;
  }, [musicVolume]);

  const playTone = useCallback((freq, dur, type='sine', vol=0.15) => {
    if (!sfxEnabled) return;
    try {
      const ctx = getCtx(), osc = ctx.createOscillator(), g = ctx.createGain();
      osc.type = type; osc.frequency.value = freq;
      const v = vol * sfxVolume;
      g.gain.setValueAtTime(v, ctx.currentTime);
      g.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + dur);
      osc.connect(g); g.connect(ctx.destination); osc.start(); osc.stop(ctx.currentTime + dur + 0.05);
    } catch(e) {}
  }, [getCtx, sfxEnabled, sfxVolume]);

  const playChord = useCallback((freqs, dur, type='sine', vol=0.08) => {
    freqs.forEach(f => playTone(f, dur, type, vol));
  }, [playTone]);

  const playNoise = useCallback((dur, vol=0.1, filter=2000) => {
    if (!sfxEnabled) return;
    try {
      const ctx = getCtx();
      const bufSize = Math.max(1, Math.floor(ctx.sampleRate * dur));
      const buf = ctx.createBuffer(1, bufSize, ctx.sampleRate);
      const data = buf.getChannelData(0);
      for (let i = 0; i < bufSize; i++) data[i] = Math.random() * 2 - 1;
      const src = ctx.createBufferSource(); src.buffer = buf;
      const filt = ctx.createBiquadFilter(); filt.type = 'lowpass'; filt.frequency.value = filter;
      const g = ctx.createGain();
      const v = vol * sfxVolume;
      g.gain.setValueAtTime(v, ctx.currentTime);
      g.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + dur);
      src.connect(filt); filt.connect(g); g.connect(ctx.destination);
      src.start(); src.stop(ctx.currentTime + dur + 0.05);
    } catch(e) {}
  }, [getCtx, sfxEnabled, sfxVolume]);

  // Correct: triumphant ascending arpeggio with sparkle
  const correct = useCallback(() => {
    playTone(523,.12,'sine',.18); setTimeout(()=>playTone(659,.12,'sine',.18),80);
    setTimeout(()=>playTone(784,.15,'sine',.2),160);
    setTimeout(()=>{playTone(1047,.25,'sine',.15);playTone(1568,.2,'sine',.06);},260);
    setTimeout(()=>playNoise(.05,.04,8000),280);
  }, [playTone, playNoise]);

  // Wrong: dramatic buzzer with descending slide
  const wrong = useCallback(() => {
    if (!sfxEnabled) return;
    try {
      const ctx = getCtx();
      const osc = ctx.createOscillator(), g = ctx.createGain();
      osc.type = 'sawtooth';
      osc.frequency.setValueAtTime(280, ctx.currentTime);
      osc.frequency.exponentialRampToValueAtTime(100, ctx.currentTime + 0.5);
      const v = 0.12 * sfxVolume;
      g.gain.setValueAtTime(v, ctx.currentTime);
      g.gain.setValueAtTime(v, ctx.currentTime + 0.3);
      g.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.6);
      osc.connect(g); g.connect(ctx.destination);
      osc.start(); osc.stop(ctx.currentTime + 0.65);
    } catch(e) {}
    setTimeout(()=>playTone(90,.4,'sawtooth',.08),150);
  }, [getCtx, sfxEnabled, sfxVolume, playTone]);

  // Tick: urgent when low, gentle when time is plenty
  const tick = useCallback((timeLeft) => {
    const tl = typeof timeLeft === 'number' ? timeLeft : 15;
    if (tl <= 3) { playTone(900,.06,'square',.1); setTimeout(()=>playTone(900,.06,'square',.08),100); }
    else if (tl <= 6) playTone(800,.06,'square',.07);
    else playTone(600,.04,'sine',.03);
  }, [playTone]);

  // Streak: fanfare that gets more epic with higher streaks
  const streak = useCallback((count) => {
    const base = [523,659,784,1047];
    const c = count || 3;
    if (c >= 7) { base.push(1319,1568); } else if (c >= 5) { base.push(1319); }
    base.forEach((f,i) => setTimeout(()=>playTone(f,.18,'triangle',.15),i*70));
    setTimeout(()=>playNoise(.08,.05,10000),base.length*70);
    if (c >= 10) setTimeout(()=>playChord([523,659,784,1047],.5,'sine',.06),base.length*70+50);
  }, [playTone, playNoise, playChord]);

  // Round Start: game show intro stinger
  const roundStart = useCallback(() => {
    const notes = [262,330,392,523,392,523,659];
    notes.forEach((f,i)=>setTimeout(()=>playTone(f,.2,'triangle',.14),i*120));
    setTimeout(()=>playChord([523,659,784],.4,'triangle',.06),notes.length*120);
    setTimeout(()=>playNoise(.1,.04,6000),100);
  }, [playTone, playChord, playNoise]);

  // Game Over: adapts to performance
  const gameOver = useCallback((scorePct) => {
    const pct = typeof scorePct === 'number' ? scorePct : 0.5;
    if (pct >= 0.8) {
      const mel = [523,523,523,659,784,659,784,1047];
      const ts = [0,100,200,350,500,650,800,1000];
      const ds = [.08,.08,.15,.15,.15,.15,.15,.4];
      mel.forEach((f,i)=>setTimeout(()=>playTone(f,ds[i],'triangle',.15),ts[i]));
      setTimeout(()=>{playChord([523,659,784,1047],.6,'sine',.05);playNoise(.15,.06,8000);},1100);
    } else if (pct >= 0.5) {
      [392,440,523,659,523,659].forEach((f,i)=>setTimeout(()=>playTone(f,.2,'triangle',.12),i*150));
    } else {
      [494,466,440,349].forEach((f,i)=>setTimeout(()=>playTone(f,.35,'sawtooth',.08),i*300));
    }
  }, [playTone, playChord, playNoise]);

  // Click: snappy UI click
  const click = useCallback(() => {
    playTone(800,.03,'sine',.06); playNoise(.02,.03,5000);
  }, [playTone, playNoise]);

  // Lifeline: power-up whoosh
  const lifeline = useCallback(() => {
    if (!sfxEnabled) return;
    try {
      const ctx = getCtx();
      const osc = ctx.createOscillator(), g = ctx.createGain();
      osc.type = 'sine';
      osc.frequency.setValueAtTime(300, ctx.currentTime);
      osc.frequency.exponentialRampToValueAtTime(1200, ctx.currentTime + 0.25);
      osc.frequency.exponentialRampToValueAtTime(800, ctx.currentTime + 0.4);
      const v = 0.12 * sfxVolume;
      g.gain.setValueAtTime(v, ctx.currentTime);
      g.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.5);
      osc.connect(g); g.connect(ctx.destination);
      osc.start(); osc.stop(ctx.currentTime + 0.55);
    } catch(e) {}
    setTimeout(()=>playNoise(.06,.04,8000),200);
  }, [getCtx, sfxEnabled, sfxVolume, playNoise]);

  // Time Warning: urgent alarm at 5 seconds
  const timeWarning = useCallback(() => {
    [800,1000,800,1000].forEach((f,i)=>setTimeout(()=>playTone(f,.08,'square',.1),i*80));
  }, [playTone]);

  // Time Up: buzzer
  const timeUp = useCallback(() => {
    playTone(200,.5,'sawtooth',.12);
    setTimeout(()=>playTone(150,.5,'sawtooth',.08),100);
    setTimeout(()=>playNoise(.15,.06,1000),50);
  }, [playTone, playNoise]);

  // Perfect Round: confetti celebration
  const perfectRound = useCallback(() => {
    [523,659,784,1047,1319,1568].forEach((f,i)=>setTimeout(()=>{
      playTone(f,.2,'sine',.12); if(i>=3) playNoise(.04,.03,10000);
    },i*100));
    setTimeout(()=>playChord([523,784,1047,1319],.8,'sine',.04),700);
  }, [playTone, playNoise, playChord]);

  // Player Select: friendly pop
  const playerSelect = useCallback(() => {
    playTone(440,.08,'sine',.1); setTimeout(()=>playTone(660,.12,'sine',.12),60);
    playNoise(.03,.03,6000);
  }, [playTone, playNoise]);

  // Badge Earned: achievement unlock chime
  const badgeEarned = useCallback(() => {
    [523,659,784,1047,1319].forEach((f,i)=>setTimeout(()=>playTone(f,.15,'sine',.12),i*90));
    setTimeout(()=>{playChord([784,1047,1319],.5,'sine',.05);playNoise(.1,.05,10000);},5*90);
  }, [playTone, playChord, playNoise]);

  // ── Background Music: procedural game show loop ──
  const startMusic = useCallback(() => {
    if (musicPlaying.current || !musicEnabled) return;
    try {
      const ctx = getCtx();
      musicPlaying.current = true;
      if (musicGain.current) musicGain.current.gain.value = musicVolume;
      const bassNotes = [131,147,165,147,131,165,147,131];
      const chords = [[262,330,392],[294,370,440],[330,415,494],[294,370,440],[262,330,392],[330,415,494],[294,370,440],[262,330,392]];
      const bpm = 110; const beatLen = 60/bpm; const loopLen = bassNotes.length * beatLen;
      const scheduleLoop = () => {
        if (!musicPlaying.current) return;
        const ctx2 = audioCtx.current; if (!ctx2 || !musicGain.current) return;
        const now = ctx2.currentTime;
        bassNotes.forEach((freq,i) => {
          const t = now + i * beatLen;
          try {
            const bOsc = ctx2.createOscillator(), bG = ctx2.createGain();
            bOsc.type = 'triangle'; bOsc.frequency.value = freq;
            bG.gain.setValueAtTime(0.06, t); bG.gain.exponentialRampToValueAtTime(0.001, t + beatLen*0.9);
            bOsc.connect(bG); bG.connect(musicGain.current); bOsc.start(t); bOsc.stop(t + beatLen);
            if (chords[i]) chords[i].forEach(cf => {
              const cOsc = ctx2.createOscillator(), cG = ctx2.createGain();
              cOsc.type = 'sine'; cOsc.frequency.value = cf;
              cG.gain.setValueAtTime(0.015, t); cG.gain.setValueAtTime(0.015, t + beatLen*0.7);
              cG.gain.exponentialRampToValueAtTime(0.001, t + beatLen*0.95);
              cOsc.connect(cG); cG.connect(musicGain.current); cOsc.start(t); cOsc.stop(t + beatLen);
            });
          } catch(e) {}
        });
        musicTimer.current = setTimeout(scheduleLoop, loopLen * 900);
      };
      scheduleLoop();
    } catch(e) {}
  }, [getCtx, musicEnabled, musicVolume]);

  const stopMusic = useCallback(() => {
    musicPlaying.current = false;
    if (musicTimer.current) { clearTimeout(musicTimer.current); musicTimer.current = null; }
  }, []);

  useEffect(() => {
    if (musicGain.current) musicGain.current.gain.value = musicVolume;
  }, [musicVolume]);

  useEffect(() => {
    if (musicEnabled && !musicPlaying.current) startMusic();
    else if (!musicEnabled && musicPlaying.current) stopMusic();
  }, [musicEnabled, startMusic, stopMusic]);

  return {
    correct, wrong, tick, streak, roundStart, gameOver, click,
    lifeline, timeWarning, timeUp, perfectRound, playerSelect, badgeEarned,
    startMusic, stopMusic,
    sfxEnabled, setSfxEnabled: useCallback(v => setSfxEnabled(v), [setSfxEnabled]),
    musicEnabled, setMusicEnabled: useCallback(v => setMusicEnabled(v), [setMusicEnabled]),
    sfxVolume, setSfxVolume: useCallback(v => setSfxVolume(v), [setSfxVolume]),
    musicVolume, setMusicVolume: useCallback(v => setMusicVolume(v), [setMusicVolume]),
    toggleSfx: useCallback(() => setSfxEnabled(p => !p), [setSfxEnabled]),
    toggleMusic: useCallback(() => setMusicEnabled(p => !p), [setMusicEnabled])
  };
};

// ─── Voice / Text-to-Speech ──────────────────────────────────────────────────
const useSpeech = () => {
  const voices = useRef([]);
  const selectedVoice = useRef(null);
  const enabled = useRef(true);
  const speaking = useRef(false);
  const queue = useRef([]);
  const [voiceList, setVoiceList] = useState([]);
  const [voiceName, setVoiceName] = useState('');
  const [voiceEnabled, setVoiceEnabled] = useState(true);
  const [pitch, setPitch] = useState(1.05);
  const [rate, setRate] = useState(1.08);
  const loadVoices = useCallback(() => {
    const v = window.speechSynthesis?.getVoices() || [];
    voices.current = v;
    const english = v.filter(x => x.lang.startsWith('en'));
    setVoiceList(english.length > 0 ? english : v.slice(0, 20));
    if (!selectedVoice.current && english.length > 0) {
      // Prefer good-sounding voices: Edge neural voices, then Google, then any English
      const pref = english.find(x => /neural|natural|online|wavenet/i.test(x.name))
        || english.find(x => /google|microsoft|samantha|daniel|karen|moira|fiona|alex/i.test(x.name))
        || english.find(x => /\ben[-_](US|GB|AU)/i.test(x.lang))
        || english[0];
      selectedVoice.current = pref;
      setVoiceName(pref.name);
    }
  }, []);
  useEffect(() => {
    if (typeof window === 'undefined' || !window.speechSynthesis) return;
    loadVoices();
    window.speechSynthesis.onvoiceschanged = loadVoices;
    return () => { window.speechSynthesis.onvoiceschanged = null; };
  }, [loadVoices]);
  const cancel = useCallback(() => {
    queue.current = [];
    speaking.current = false;
    window.speechSynthesis?.cancel();
  }, []);
  const processQueue = useCallback(() => {
    if (speaking.current || queue.current.length === 0) return;
    if (!enabled.current) {
      // Fire any pending onDone callbacks even when disabled
      const skipped = queue.current.splice(0);
      skipped.forEach(item => { if (item.opts.onDone) item.opts.onDone(); });
      return;
    }
    const { text, opts } = queue.current.shift();
    const synth = window.speechSynthesis;
    if (!synth) { if (opts.onDone) opts.onDone(); return; }
    const utter = new SpeechSynthesisUtterance(text);
    if (selectedVoice.current) utter.voice = selectedVoice.current;
    utter.pitch = opts.pitch ?? pitch;
    utter.rate = opts.rate ?? rate;
    utter.volume = opts.volume ?? 0.9;
    speaking.current = true;
    // Chrome bug: synthesis can pause if page isn't focused — keep-alive
    const keepAlive = setInterval(() => { if (synth.speaking) synth.resume(); }, 5000);
    const finish = () => { clearInterval(keepAlive); speaking.current = false; if (opts.onDone) opts.onDone(); processQueue(); };
    utter.onend = finish;
    utter.onerror = finish;
    synth.speak(utter);
  }, [pitch, rate]);
  const speak = useCallback((text, opts = {}) => {
    if (!window.speechSynthesis || !text) { if (opts.onDone) opts.onDone(); return; }
    if (!enabled.current) { if (opts.onDone) opts.onDone(); return; }
    queue.current.push({ text, opts });
    processQueue();
  }, [processQueue]);
  // Speak text then call callback when done (convenience wrapper)
  const speakThen = useCallback((text, opts = {}, callback) => {
    speak(text, { ...opts, onDone: callback });
  }, [speak]);
  // Estimate speech duration for fallback timing (words / rate * ms)
  const estimateMs = useCallback((text) => {
    if (!enabled.current) return 2500;
    const words = (text || '').split(/\s+/).length;
    return Math.max(2500, Math.ceil(words / (2.5 * rate) * 1000) + 800);
  }, [rate]);
  const setVoice = useCallback((name) => {
    const v = voices.current.find(x => x.name === name);
    if (v) { selectedVoice.current = v; setVoiceName(name); }
  }, []);
  const toggleEnabled = useCallback(() => {
    const next = !enabled.current;
    enabled.current = next;
    setVoiceEnabled(next);
    if (!next) cancel();
  }, [cancel]);
  return { speak, speakThen, estimateMs, cancel, voiceList, voiceName, setVoice, voiceEnabled, toggleEnabled, pitch, setPitch, rate, setRate };
};

// ─── localStorage Hook ────────────────────────────────────────────────────────
const useLocalStorage = (key, initialValue) => {
  const [storedValue, setStoredValue] = useState(() => {
    try {
      const item = window.localStorage.getItem(key);
      return item ? JSON.parse(item) : initialValue;
    } catch (e) { return initialValue; }
  });
  // Re-read from localStorage when key changes (e.g. player switch)
  const prevKey = useRef(key);
  const initRef = useRef(initialValue);
  useEffect(() => {
    if (prevKey.current !== key) {
      prevKey.current = key;
      try {
        const item = window.localStorage.getItem(key);
        setStoredValue(item ? JSON.parse(item) : initRef.current);
      } catch (e) { setStoredValue(initRef.current); }
    }
  }, [key]);
  const setValue = useCallback((value) => {
    setStoredValue(prev => {
      const next = typeof value === 'function' ? value(prev) : value;
      try { window.localStorage.setItem(key, JSON.stringify(next)); } catch (e) {}
      return next;
    });
  }, [key]);
  return [storedValue, setValue];
};

// ─── Player Roster ───────────────────────────────────────────────────────────
const PLAYER_LIST = [
  { id: 'henry', name: 'Henry', emoji: '🦁', color: '#e74c3c' },
  { id: 'josie', name: 'Josie', emoji: '🌟', color: '#9b59b6' },
  { id: 'frankie', name: 'Frankie', emoji: '🚀', color: '#3498db' },
  { id: 'daniel', name: 'Daniel', emoji: '🎯', color: '#2ed573' },
  { id: 'catherine', name: 'Catherine', emoji: '👑', color: '#f39c12' },
  { id: 'guest', name: 'Guest', emoji: '🌍', color: '#95a5a6' }
];

// ─── Player Profile Hook ──────────────────────────────────────────────────────
const usePlayerProfile = (playerId) => {
  const key = playerId ? `geobee_player_${playerId}` : 'geobee_player';
  const [profile, setProfile] = useLocalStorage(key, {
    gamesPlayed: 0, totalAnswered: 0, totalCorrect: 0, bestStreak: 0,
    perfectRounds: 0, perfectGames: 0, speedAnswers: 0,
    catCorrect: {}, catTotal: {}, gameHistory: [],
    // Secret badge tracking
    catStreak: {}, bestCatStreak: {}, // consecutive correct per category
    midnightGames: 0, earlyBirdGames: 0, // time-based play
    lifelinesUsed: 0, fiftyFiftyUsed: 0, skipUsed: 0, extraTimeUsed: 0,
    survivalBest: 0, // best survival run
    tinyCountryCorrect: 0, // Liechtenstein, Monaco, Vatican, etc.
    lastSecondCorrect: 0, // answered correctly with <=2 seconds
    wrongStreakMax: 0, wrongStreakCurrent: 0, // worst streak
    allDifficulty4Correct: 0, // hardest questions answered right
    usedAllLifelinesOneGame: false,
    perfectSurvivalRun: 0, // consecutive correct in survival
    typeCorrect: {} // correct by question type (flag, silhouette, food, scramble, landmark_clue)
  });
  const recordAnswer = useCallback((cat, isCorrect, timeRemaining, extraMeta = {}) => {
    setProfile(p => {
      const newCatStreak = { ...p.catStreak || {} };
      const newBestCatStreak = { ...p.bestCatStreak || {} };
      const newTypeCorrect = { ...p.typeCorrect || {} };
      if (isCorrect) {
        newCatStreak[cat] = (newCatStreak[cat] || 0) + 1;
        newBestCatStreak[cat] = Math.max(newBestCatStreak[cat] || 0, newCatStreak[cat]);
        if (extraMeta.qtype) newTypeCorrect[extraMeta.qtype] = (newTypeCorrect[extraMeta.qtype] || 0) + 1;
      } else {
        newCatStreak[cat] = 0;
      }
      return {
        ...p,
        totalAnswered: p.totalAnswered + 1,
        totalCorrect: p.totalCorrect + (isCorrect ? 1 : 0),
        speedAnswers: p.speedAnswers + (isCorrect && timeRemaining >= 15 ? 1 : 0),
        catCorrect: { ...p.catCorrect, [cat]: (p.catCorrect[cat] || 0) + (isCorrect ? 1 : 0) },
        catTotal: { ...p.catTotal, [cat]: (p.catTotal[cat] || 0) + 1 },
        catStreak: newCatStreak, bestCatStreak: newBestCatStreak,
        lastSecondCorrect: (p.lastSecondCorrect || 0) + (isCorrect && timeRemaining <= 2 ? 1 : 0),
        allDifficulty4Correct: (p.allDifficulty4Correct || 0) + (isCorrect && extraMeta.difficulty === 4 ? 1 : 0),
        wrongStreakCurrent: isCorrect ? 0 : (p.wrongStreakCurrent || 0) + 1,
        wrongStreakMax: Math.max(p.wrongStreakMax || 0, isCorrect ? p.wrongStreakCurrent || 0 : (p.wrongStreakCurrent || 0) + 1),
        tinyCountryCorrect: (p.tinyCountryCorrect || 0) + (isCorrect && extraMeta.tinyCountry ? 1 : 0),
        typeCorrect: newTypeCorrect
      };
    });
  }, [setProfile]);
  const recordGame = useCallback((score, correct, total, bestStrk, extraMeta = {}) => {
    const hour = new Date().getHours();
    setProfile(p => {
      const history = [...(p.gameHistory || []), { score, correct, total, date: new Date().toISOString().slice(0,10) }].slice(-20);
      return {
        ...p,
        gamesPlayed: p.gamesPlayed + 1,
        bestStreak: Math.max(p.bestStreak, bestStrk),
        perfectGames: p.perfectGames + (correct === total ? 1 : 0),
        gameHistory: history,
        midnightGames: (p.midnightGames || 0) + (hour >= 23 || hour < 2 ? 1 : 0),
        earlyBirdGames: (p.earlyBirdGames || 0) + (hour >= 5 && hour < 7 ? 1 : 0),
        lifelinesUsed: (p.lifelinesUsed || 0) + (extraMeta.lifelinesUsedThisGame || 0),
        fiftyFiftyUsed: (p.fiftyFiftyUsed || 0) + (extraMeta.fiftyFiftyUsedThisGame || 0),
        skipUsed: (p.skipUsed || 0) + (extraMeta.skipUsedThisGame || 0),
        extraTimeUsed: (p.extraTimeUsed || 0) + (extraMeta.extraTimeUsedThisGame || 0),
        usedAllLifelinesOneGame: p.usedAllLifelinesOneGame || (extraMeta.usedAllLifelines || false),
        survivalBest: Math.max(p.survivalBest || 0, extraMeta.survivalQuestions || 0),
        perfectSurvivalRun: Math.max(p.perfectSurvivalRun || 0, extraMeta.perfectSurvivalRun || 0)
      };
    });
  }, [setProfile]);
  const recordPerfectRound = useCallback(() => {
    setProfile(p => ({ ...p, perfectRounds: p.perfectRounds + 1 }));
  }, [setProfile]);
  const resetProfile = useCallback(() => {
    setProfile({ gamesPlayed:0, totalAnswered:0, totalCorrect:0, bestStreak:0, perfectRounds:0, perfectGames:0, speedAnswers:0, catCorrect:{}, catTotal:{}, gameHistory:[],
      catStreak:{}, bestCatStreak:{}, midnightGames:0, earlyBirdGames:0, lifelinesUsed:0, fiftyFiftyUsed:0, skipUsed:0, extraTimeUsed:0,
      survivalBest:0, tinyCountryCorrect:0, lastSecondCorrect:0, wrongStreakMax:0, wrongStreakCurrent:0, allDifficulty4Correct:0,
      usedAllLifelinesOneGame:false, perfectSurvivalRun:0, typeCorrect:{} });
    const suffix = playerId ? `_${playerId}` : '';
    try { window.localStorage.removeItem('geobee_daily_streak' + suffix); window.localStorage.removeItem('geobee_badges' + suffix); window.localStorage.removeItem('geobee_map' + suffix); } catch(e) {}
  }, [setProfile, playerId]);
  return { profile, recordAnswer, recordGame, recordPerfectRound, resetProfile };
};

// ─── Daily Streak Hook ────────────────────────────────────────────────────────
const useDailyStreak = (playerId) => {
  const key = playerId ? `geobee_daily_streak_${playerId}` : 'geobee_daily_streak';
  const [streak, setStreak] = useLocalStorage(key, {
    current: 0, best: 0, lastPlayDate: null, milestonesHit: []
  });
  const checkIn = useCallback(() => {
    const today = new Date().toISOString().slice(0, 10);
    let newMilestone = null;
    setStreak(s => {
      if (s.lastPlayDate === today) return s;
      const yesterday = new Date(Date.now() - 86400000).toISOString().slice(0, 10);
      const newCurrent = s.lastPlayDate === yesterday ? s.current + 1 : 1;
      const newBest = Math.max(s.best, newCurrent);
      const milestone = STREAK_MILESTONES.find(m => m.days === newCurrent && !s.milestonesHit.includes(m.days));
      if (milestone) newMilestone = milestone;
      return {
        current: newCurrent, best: newBest, lastPlayDate: today,
        milestonesHit: milestone ? [...s.milestonesHit, milestone.days] : s.milestonesHit
      };
    });
    return newMilestone;
  }, [setStreak]);
  const getBonus = useCallback(() => {
    const milestone = [...STREAK_MILESTONES].reverse().find(m => streak.current >= m.days);
    return milestone ? milestone.bonus : 0;
  }, [streak]);
  return { streak, checkIn, getBonus };
};

// ─── Badges Hook ──────────────────────────────────────────────────────────────
const useBadges = (playerId) => {
  const key = playerId ? `geobee_badges_${playerId}` : 'geobee_badges';
  const [earned, setEarned] = useLocalStorage(key, []);
  const checkBadges = useCallback((profileData) => {
    const newBadges = [];
    ALL_BADGE_DEFINITIONS.forEach(badge => {
      if (!earned.includes(badge.id) && badge.check(profileData)) {
        newBadges.push(badge);
      }
    });
    if (newBadges.length > 0) {
      setEarned(prev => [...prev, ...newBadges.map(b => b.id)]);
    }
    return newBadges;
  }, [earned, setEarned]);
  return { earned, checkBadges };
};

// ─── Map Progress Hook ────────────────────────────────────────────────────────
const useMapProgress = (playerId) => {
  const key = playerId ? `geobee_map_${playerId}` : 'geobee_map';
  const [discovered, setDiscovered] = useLocalStorage(key, []);
  const discoverCountries = useCallback((questionIdx) => {
    const codes = COUNTRY_TAG_MAP[questionIdx];
    if (!codes) return;
    setDiscovered(prev => {
      const newCodes = codes.filter(c => !prev.includes(c) && ALL_COUNTRY_CODES.has(c));
      return newCodes.length > 0 ? [...prev, ...newCodes] : prev;
    });
  }, [setDiscovered]);
  return { discovered, discoverCountries };
};

// ─── Main Game Component ─────────────────────────────────────────────────────
export default function GeoBeeGame() {
  // ─── Active Player Selection ────────────────────────────────────────
  const [activePlayerId, setActivePlayerId] = useLocalStorage('geobee_active_player', null);
  const activePlayerInfo = PLAYER_LIST.find(p => p.id === activePlayerId) || null;
  const [screen, setScreen] = useState(activePlayerId ? 'title' : 'playerSelect');
  const [gameQuestions, setGameQuestions] = useState([]);
  const [qIndex, setQIndex] = useState(0);
  const [score, setScore] = useState(0);
  const [streak, setStreak] = useState(0);
  const [bestStreak, setBestStreak] = useState(0);
  const [selected, setSelected] = useState(null);
  const [timer, setTimer] = useState(TIMER_SECONDS);
  const [timerActive, setTimerActive] = useState(false);
  const [showSetup, setShowSetup] = useState(true);
  const [history, setHistory] = useState([]);
  const [currentRound, setCurrentRound] = useState(0);
  const [setupText, setSetupText] = useState('');
  const [hostText, setHostText] = useState('');
  const sound = useSound();
  const speech = useSpeech();
  const [showVoiceSettings, setShowVoiceSettings] = useState(false);
  // ─── Game Mode State ─────────────────────────────────────────────────
  const [gameMode, setGameMode] = useState('classic'); // 'classic','survival','multiplayer','duel'
  const [survivalLives, setSurvivalLives] = useState(3);
  // Multiplayer state
  const [players, setPlayers] = useState([{name:'Player 1',score:0,correct:0,history:[]},{name:'Player 2',score:0,correct:0,history:[]}]);
  const [currentPlayer, setCurrentPlayer] = useState(0);
  const [mpNames, setMpNames] = useState(['Player 1','Player 2']);
  // ─── Duel Mode State ──────────────────────────────────────────────────
  const DUEL_COLORS = ['#3498db','#e74c3c','#2ecc71'];
  const DUEL_KEYS = ['Q','W','E'];
  const DUEL_QS = 15;
  const [duelNames, setDuelNames] = useState(['Player 1','Player 2','Player 3']);
  const [duelPlayers, setDuelPlayers] = useState([
    {name:'Player 1',score:0,correct:0,wrong:0,steals:0},
    {name:'Player 2',score:0,correct:0,wrong:0,steals:0},
    {name:'Player 3',score:0,correct:0,wrong:0,steals:0}
  ]);
  const [duelPhase, setDuelPhase] = useState('reading'); // 'reading','buzzer','answering','steal','result'
  const [buzzedPlayer, setBuzzedPlayer] = useState(null);
  const [buzzLocked, setBuzzLocked] = useState(false);
  const [stealQueue, setStealQueue] = useState([]); // players who can still steal
  const [duelQIndex, setDuelQIndex] = useState(0);
  const [buzzTimerActive, setBuzzTimerActive] = useState(false);
  const [buzzTimer, setBuzzTimer] = useState(8); // seconds to buzz in
  const [answerTimer, setAnswerTimer] = useState(10); // seconds to answer after buzzing
  const [answerTimerActive, setAnswerTimerActive] = useState(false);
  const [duelRoundLabel, setDuelRoundLabel] = useState('');
  // Lifelines state
  const [lifelines, setLifelines] = useState({fiftyFifty:1,skip:1,extraTime:1});
  const lifelineTracker = useRef({ff:0,sk:0,et:0}); // tracks usage per game
  const [hiddenOptions, setHiddenOptions] = useState([]);
  const [skippedQuestions, setSkippedQuestions] = useState([]);
  // ─── Leaderboard view state ─────────────────────────────────────────
  const [showLeaderboard, setShowLeaderboard] = useState(false);
  // ─── Inject keyframe animation for badge toast ───────────────────────
  useEffect(() => {
    if (document.getElementById('geobee-animations')) return;
    const style = document.createElement('style');
    style.id = 'geobee-animations';
    style.textContent = `
@keyframes slideDown{from{transform:translateX(-50%) translateY(-100%);opacity:0}to{transform:translateX(-50%) translateY(0);opacity:1}}
@keyframes popIn{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}
@keyframes fadeSlideIn{from{opacity:0;transform:translateY(24px) scale(0.97)}to{opacity:1;transform:translateY(0) scale(1)}}
@keyframes fadeSlideOut{from{opacity:1;transform:translateY(0) scale(1)}to{opacity:0;transform:translateY(-16px) scale(0.97)}}
@keyframes shakeWrong{0%,100%{transform:translateX(0)}10%,50%,90%{transform:translateX(-6px)}30%,70%{transform:translateX(6px)}20%,60%{transform:translateX(-4px)}40%,80%{transform:translateX(4px)}}
@keyframes wrongFlash{0%{box-shadow:0 0 0 rgba(255,71,87,0)}25%{box-shadow:0 0 40px rgba(255,71,87,0.5),inset 0 0 30px rgba(255,71,87,0.15)}50%{box-shadow:0 0 20px rgba(255,71,87,0.3)}100%{box-shadow:none}}
@keyframes correctPulse{0%{box-shadow:0 0 0 rgba(46,213,115,0)}30%{box-shadow:0 0 50px rgba(46,213,115,0.5),inset 0 0 30px rgba(46,213,115,0.12)}60%{box-shadow:0 0 25px rgba(46,213,115,0.3)}100%{box-shadow:none}}
@keyframes bounceIn{0%{transform:scale(0);opacity:0}50%{transform:scale(1.15)}70%{transform:scale(0.92)}100%{transform:scale(1);opacity:1}}
@keyframes confettiFall{0%{transform:translateY(0) rotate(0deg);opacity:1}80%{opacity:1}100%{transform:translateY(100vh) rotate(720deg);opacity:0}}
@keyframes scorePopIn{0%{transform:scale(0) translateY(0);opacity:0}60%{transform:scale(1.3) translateY(-10px);opacity:1}100%{transform:scale(1) translateY(0);opacity:1}}
@keyframes resultSlideUp{from{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}
@keyframes titlePulse{0%,100%{filter:brightness(1)}50%{filter:brightness(1.15)}}
@keyframes streakFlame{0%,100%{transform:scale(1);filter:brightness(1)}50%{transform:scale(1.15);filter:brightness(1.3)}}
@keyframes buzzerPulse{0%,100%{transform:scale(1);box-shadow:0 0 0 rgba(255,255,255,0)}50%{transform:scale(1.03);box-shadow:0 0 20px rgba(255,255,255,0.15)}}
`;
    document.head.appendChild(style);
  }, []);
  // ─── New Feature Hooks (player-scoped) ──────────────────────────────
  const playerProfile = usePlayerProfile(activePlayerId);
  const dailyStreak = useDailyStreak(activePlayerId);
  const badges = useBadges(activePlayerId);
  const mapProgress = useMapProgress(activePlayerId);
  const [profileTab, setProfileTab] = useState('stats');
  const [badgeToast, setBadgeToast] = useState(null);
  const [streakMilestone, setStreakMilestone] = useState(null);
  const [roundCorrect, setRoundCorrect] = useState(0);
  const [showResetConfirm, setShowResetConfirm] = useState(false);
  const [newBadgesThisGame, setNewBadgesThisGame] = useState([]);
  // ─── Animation State ───────────────────────────────────────────────────
  const [screenAnim, setScreenAnim] = useState('');  // 'fadeSlideIn' | ''
  const [cardShake, setCardShake] = useState(false);
  const [cardFlash, setCardFlash] = useState(''); // 'correct' | 'wrong' | ''
  const [confettiPieces, setConfettiPieces] = useState([]);
  const [showConfetti, setShowConfetti] = useState(false);
  const confettiTimer = useRef(null);
  // Trigger screen enter animation whenever screen changes
  const prevScreen = useRef('');
  useEffect(() => {
    if (screen !== prevScreen.current) {
      setScreenAnim('fadeSlideIn');
      prevScreen.current = screen;
      const t = setTimeout(() => setScreenAnim(''), 500);
      return () => clearTimeout(t);
    }
  }, [screen]);
  // Confetti launcher
  const launchConfetti = useCallback(() => {
    const colors = ['#f7b733','#fc4a1a','#2ed573','#3498db','#9b59b6','#ff6b81','#ffa502','#1e90ff','#ff4757','#7bed9f'];
    const shapes = ['■','●','▲','★','◆','♦'];
    const pieces = [];
    for (let i = 0; i < 80; i++) {
      pieces.push({
        id: i,
        left: Math.random() * 100,
        delay: Math.random() * 1.5,
        duration: 2.5 + Math.random() * 2,
        color: colors[Math.floor(Math.random() * colors.length)],
        shape: shapes[Math.floor(Math.random() * shapes.length)],
        size: 8 + Math.random() * 12,
        rotation: Math.random() * 360,
        sway: -30 + Math.random() * 60,
      });
    }
    setConfettiPieces(pieces);
    setShowConfetti(true);
    if (confettiTimer.current) clearTimeout(confettiTimer.current);
    confettiTimer.current = setTimeout(() => { setShowConfetti(false); setConfettiPieces([]); }, 5000);
  }, []);
  // Shake trigger
  const triggerShake = useCallback(() => {
    setCardShake(true);
    setCardFlash('wrong');
    setTimeout(() => { setCardShake(false); setCardFlash(''); }, 600);
  }, []);
  // Correct flash trigger
  const triggerCorrectFlash = useCallback(() => {
    setCardFlash('correct');
    setTimeout(() => setCardFlash(''), 700);
  }, []);
  const toastTimer = useRef(null);
  const showBadgeToast = useCallback((badge) => {
    setBadgeToast(badge);
    if (toastTimer.current) clearTimeout(toastTimer.current);
    toastTimer.current = setTimeout(() => setBadgeToast(null), 3500);
  }, []);
  // Check badges after profile changes
  const checkAndShowBadges = useCallback((extraData = {}) => {
    const data = {
      ...playerProfile.profile, ...extraData,
      countriesDiscovered: mapProgress.discovered.length,
      dailyStreak: dailyStreak.streak.current
    };
    const newBadges = badges.checkBadges(data);
    if (newBadges.length > 0) {
      showBadgeToast(newBadges[0]);
      sound.badgeEarned();
      setNewBadgesThisGame(prev => [...prev, ...newBadges]);
    }
  }, [playerProfile.profile, mapProgress.discovered, dailyStreak.streak, badges, showBadgeToast]);

  const selectGameQuestions = useCallback((mode) => {
    const m = mode || gameMode;
    if (m === 'survival') {
      // Survival: shuffle ALL questions, start easy then ramp up
      const all = QUESTIONS.map((q, i) => ({ ...q, _idx: i }));
      const shuffled = [...all].sort(() => Math.random() - 0.5);
      // Sort by difficulty for progressive ramp
      shuffled.sort((a, b) => a.d - b.d);
      // Add some randomness within difficulty bands
      const banded = [];
      for (let d = 1; d <= 5; d++) {
        const band = shuffled.filter(q => q.d === d).sort(() => Math.random() - 0.5);
        banded.push(...band);
      }
      return banded;
    }
    if (m === 'duel') {
      // Duel: 15 questions, progressive difficulty (3 easy, 4 medium, 4 hard, 2 expert, 2 legendary)
      const byDiff = {};
      QUESTIONS.forEach((q, i) => { if (!byDiff[q.d]) byDiff[q.d] = []; byDiff[q.d].push({ ...q, _idx: i }); });
      const duelPicks = [];
      const duelDist = {1:3,2:4,3:4,4:2,5:2};
      for (let d = 1; d <= 5; d++) {
        const pool = (byDiff[d] || []).sort(() => Math.random() - 0.5);
        duelPicks.push(...pool.slice(0, duelDist[d] || 3));
      }
      return duelPicks;
    }
    // Classic and Multiplayer: standard 25 questions across 5 rounds
    const byDifficulty = {};
    QUESTIONS.forEach((q, i) => {
      if (!byDifficulty[q.d]) byDifficulty[q.d] = [];
      byDifficulty[q.d].push({ ...q, _idx: i });
    });
    const selected = [];
    const totalRounds = m === 'multiplayer' ? TOTAL_ROUNDS : TOTAL_ROUNDS;
    const perRound = m === 'multiplayer' ? QUESTIONS_PER_ROUND * 2 : QUESTIONS_PER_ROUND;
    for (let d = 1; d <= totalRounds; d++) {
      const pool = byDifficulty[d] || [];
      const shuffled = [...pool].sort(() => Math.random() - 0.5);
      const cats = new Set();
      const picked = [];
      for (const q of shuffled) {
        if (picked.length >= perRound) break;
        if (!cats.has(q.cat) || picked.length >= perRound - 1) {
          picked.push(q);
          cats.add(q.cat);
        }
      }
      for (const q of shuffled) {
        if (picked.length >= perRound) break;
        if (!picked.includes(q)) picked.push(q);
      }
      selected.push(...picked);
    }
    return selected;
  }, [gameMode]);

  // ─── Lifeline Functions ─────────────────────────────────────────────
  const useFiftyFifty = useCallback(() => {
    if (lifelines.fiftyFifty <= 0 || selected !== null || !currentQ) return;
    sound.lifeline();
    const correctIdx = currentQ.a;
    const wrongIdxs = [0,1,2,3].filter(i => i !== correctIdx);
    // Shuffle and pick 2 to hide
    const toHide = wrongIdxs.sort(() => Math.random() - 0.5).slice(0, 2);
    setHiddenOptions(toHide);
    setLifelines(l => ({ ...l, fiftyFifty: l.fiftyFifty - 1 }));
    lifelineTracker.current.ff++;
    speech.speak("50-50! Two wrong answers eliminated!", { rate: 1.15, pitch: 1.1 });
  }, [lifelines.fiftyFifty, selected, currentQ, sound, speech]);

  const useSkipQuestion = useCallback(() => {
    if (lifelines.skip <= 0 || selected !== null || !currentQ) return;
    sound.lifeline();
    setLifelines(l => ({ ...l, skip: l.skip - 1 }));
    lifelineTracker.current.sk++;
    setTimerActive(false);
    // Bank this question for later
    setSkippedQuestions(prev => [...prev, qIndex]);
    // Move to next question
    const nextIdx = qIndex + 1;
    if (nextIdx < totalQs) {
      setQIndex(nextIdx); setSelected(null); setTimer(TIMER_SECONDS);
      setHiddenOptions([]);
      setShowSetup(true); setScreen('question');
      const nextQ = gameQuestions[nextIdx];
      const setup = getSetup(nextQ.cat);
      setSetupText(setup);
      const showQ = () => { setShowSetup(false); setTimerActive(true); speech.speak(nextQ.q, { rate: 1.0, pitch: 1.0 }); };
      speech.speakThen(`Skip! We'll come back to that one. ${setup}`, { rate: 1.05, pitch: 1.05 }, () => setTimeout(showQ, 400));
    }
  }, [lifelines.skip, selected, currentQ, qIndex, totalQs, gameQuestions, sound, speech]);

  const useExtraTime = useCallback(() => {
    if (lifelines.extraTime <= 0 || selected !== null) return;
    sound.lifeline();
    setTimer(t => t + 10);
    setLifelines(l => ({ ...l, extraTime: l.extraTime - 1 }));
    lifelineTracker.current.et++;
    speech.speak("10 extra seconds on the clock!", { rate: 1.15, pitch: 1.1 });
  }, [lifelines.extraTime, selected, sound, speech]);

  useEffect(() => {
    if (!timerActive || timer <= 0) return;
    const interval = setInterval(() => {
      setTimer(t => {
        if (t <= 1) { setTimerActive(false); sound.timeUp(); handleAnswer(-1); return 0; }
        if (t === 6) sound.timeWarning();
        if (t <= 10) sound.tick(t);
        return t - 1;
      });
    }, 1000);
    return () => clearInterval(interval);
  }, [timerActive, timer]);

  const currentQ = gameQuestions[qIndex] || null;
  const totalQs = gameQuestions.length;

  const getSetup = (cat) => {
    const setups = CATEGORY_SETUPS[cat] || CATEGORY_SETUPS["Physical Geography"];
    return setups[Math.floor(Math.random() * setups.length)];
  };

  const startGame = (mode) => {
    const m = mode || gameMode;
    setGameMode(m);
    sound.click(); speech.cancel();
    if (sound.musicEnabled) sound.startMusic();
    const gq = selectGameQuestions(m);
    setGameQuestions(gq);
    setScore(0); setStreak(0); setBestStreak(0); setQIndex(0);
    setHistory([]); setCurrentRound(0); setRoundCorrect(0);
    setNewBadgesThisGame([]);
    setHiddenOptions([]); setSkippedQuestions([]);
    lifelineTracker.current = {ff:0,sk:0,et:0};
    // Reset lifelines — gate behind badges
    const earnedBadges = badges.earned;
    setLifelines({
      fiftyFifty: 1,
      skip: earnedBadges.includes('streak_starter') ? 1 : 0,
      extraTime: earnedBadges.includes('first_steps') ? 1 : 0
    });
    if (m === 'survival') {
      setSurvivalLives(3);
    }
    if (m === 'multiplayer') {
      setPlayers([{name:mpNames[0],score:0,correct:0,history:[]},{name:mpNames[1],score:0,correct:0,history:[]}]);
      setCurrentPlayer(0);
    }
    if (m === 'duel') {
      setDuelPlayers(duelNames.map(n => ({name:n,score:0,correct:0,wrong:0,steals:0})));
      setDuelQIndex(0);
      setDuelPhase('reading');
      setBuzzedPlayer(null);
      setBuzzLocked(false);
      setStealQueue([]);
      setBuzzTimerActive(false);
      setAnswerTimerActive(false);
    }
    // Daily streak check-in
    const milestone = dailyStreak.checkIn();
    if (milestone) {
      setStreakMilestone(milestone);
      setScreen('streakReward');
      return;
    }
    setScreen('intro');
    const intro = m === 'survival'
      ? "Welcome to SURVIVAL MODE! Answer questions until you drop. You've got 3 lives. How far can you go?"
      : m === 'multiplayer'
      ? `It's ${mpNames[0]} versus ${mpNames[1]}! You'll take turns answering questions. Highest score wins!`
      : m === 'duel'
      ? `It's duel time! ${duelNames[0]}, ${duelNames[1]}, and ${duelNames[2]} — buzz in fast, answer right, and steal when they slip up!`
      : HOST_INTROS[Math.floor(Math.random() * HOST_INTROS.length)];
    setHostText(intro);
    speech.speak(intro, { rate: 1.1, pitch: 1.1 });
  };
  const proceedFromStreakReward = () => {
    setStreakMilestone(null);
    setScreen('intro');
    const intro = gameMode === 'survival'
      ? "Welcome to SURVIVAL MODE! 3 lives. Infinite questions. Let's see how far you can go!"
      : gameMode === 'multiplayer'
      ? `${mpNames[0]} vs ${mpNames[1]}! Let the battle begin!`
      : gameMode === 'duel'
      ? `${duelNames[0]}, ${duelNames[1]}, and ${duelNames[2]} — the duel begins NOW!`
      : HOST_INTROS[Math.floor(Math.random() * HOST_INTROS.length)];
    setHostText(intro);
    speech.speak(intro, { rate: 1.1, pitch: 1.1 });
  };

  // ─── Duel Mode Functions ──────────────────────────────────────────────
  const startDuelQuestion = useCallback(() => {
    speech.cancel();
    const q = gameQuestions[duelQIndex];
    if (!q) return;
    setSelected(null);
    setBuzzedPlayer(null);
    setBuzzLocked(false);
    setStealQueue([]);
    setDuelPhase('reading');
    setBuzzTimer(8);
    setAnswerTimer(10);
    setBuzzTimerActive(false);
    setAnswerTimerActive(false);
    setHiddenOptions([]);
    // Determine round label
    const diffLabel = ['','Warm Up','Getting Harder','Challenge Round','Expert Level','LEGENDARY'][q.d] || '';
    setDuelRoundLabel(`Q${duelQIndex+1}/${DUEL_QS} • ${diffLabel}`);
    setScreen('duelQuestion');
    const setup = getSetup(q.cat);
    setSetupText(setup);
    setShowSetup(true);
    speech.speakThen(setup, { rate: 1.05, pitch: 1.05 }, () => {
      setTimeout(() => {
        setShowSetup(false);
        setDuelPhase('buzzer');
        setBuzzTimerActive(true);
        speech.speak(q.q, { rate: 1.0, pitch: 1.0 });
      }, 400);
    });
  }, [gameQuestions, duelQIndex, speech, sound]);

  const duelBuzzIn = useCallback((playerIdx) => {
    if (duelPhase !== 'buzzer' || buzzLocked) return;
    sound.click();
    setBuzzLocked(true);
    setBuzzedPlayer(playerIdx);
    setBuzzTimerActive(false);
    setDuelPhase('answering');
    setAnswerTimer(10);
    setAnswerTimerActive(true);
    // Build steal queue: everyone except buzzer
    setStealQueue([0,1,2].filter(i => i !== playerIdx));
    speech.speak(`${duelPlayers[playerIdx]?.name || duelNames[playerIdx]} buzzes in!`, { rate: 1.2, pitch: 1.15 });
  }, [duelPhase, buzzLocked, sound, speech, duelPlayers, duelNames]);

  const duelAnswer = useCallback((idx) => {
    if (selected !== null) return;
    setAnswerTimerActive(false);
    setBuzzTimerActive(false);
    setSelected(idx);
    const q = gameQuestions[duelQIndex];
    const isCorrect = idx === q.a;
    const timeBonus = isCorrect ? Math.floor(answerTimer * 8) : 0;
    const pts = isCorrect ? 150 + timeBonus : 0;
    const isSteal = duelPhase === 'steal';
    if (isCorrect) {
      sound.correct(); triggerCorrectFlash();
      speech.speak(q.rq || `Correct! The answer is ${q.o[q.a]}.`, { rate: 1.1, pitch: 1.1 });
      speech.speak(q.f, { rate: 0.95, pitch: 1.0 });
      setDuelPlayers(prev => prev.map((p, i) => i === buzzedPlayer ? {
        ...p, score: p.score + pts, correct: p.correct + 1, steals: p.steals + (isSteal ? 1 : 0)
      } : p));
      if (q._idx !== undefined) mapProgress.discoverCountries(q._idx);
      playerProfile.recordAnswer(q.cat, true, answerTimer, { qtype: q.type || 'standard', difficulty: q.d });
    } else {
      sound.wrong(); triggerShake();
      speech.cancel();
      setDuelPlayers(prev => prev.map((p, i) => i === buzzedPlayer ? { ...p, wrong: p.wrong + 1 } : p));
      // Deduct points for wrong buzz-in (-50)
      setDuelPlayers(prev => prev.map((p, i) => i === buzzedPlayer ? { ...p, score: Math.max(0, p.score - 50) } : p));
      playerProfile.recordAnswer(q.cat, false, answerTimer, { qtype: q.type || 'standard', difficulty: q.d });
      // Check if anyone can steal
      const remaining = stealQueue.filter(i => i !== buzzedPlayer);
      if (remaining.length > 0) {
        setStealQueue(remaining);
        setBuzzedPlayer(null);
        setSelected(null);
        setDuelPhase('steal');
        setBuzzLocked(false);
        setAnswerTimer(8);
        setBuzzTimerActive(true);
        setAnswerTimerActive(false);
        speech.speak(`Wrong! ${q.o[q.a]} was not the answer. Anyone else? Buzz in to steal!`, { rate: 1.15, pitch: 1.1 });
        return;
      } else {
        // Nobody left to steal
        speech.speak(q.wq || `Wrong! The answer was ${q.o[q.a]}.`, { rate: 1.0, pitch: 0.95 });
        speech.speak(q.f, { rate: 0.95, pitch: 1.0 });
      }
    }
    setDuelPhase('result');
    setHistory(h => [...h, { question: q.q, correct: isCorrect, selected: idx, answer: q.a, cat: q.cat, type: q.type,
      buzzedBy: buzzedPlayer !== null ? (duelPlayers[buzzedPlayer]?.name || '?') : '?' }]);
  }, [selected, gameQuestions, duelQIndex, duelPhase, buzzedPlayer, stealQueue, answerTimer,
      sound, speech, triggerCorrectFlash, triggerShake, duelPlayers, mapProgress, playerProfile]);

  const duelStealBuzz = useCallback((playerIdx) => {
    if (duelPhase !== 'steal' || !stealQueue.includes(playerIdx)) return;
    sound.click();
    setBuzzedPlayer(playerIdx);
    setBuzzTimerActive(false);
    setDuelPhase('answering');
    setAnswerTimer(8);
    setAnswerTimerActive(true);
    setStealQueue(prev => prev.filter(i => i !== playerIdx));
    speech.speak(`${duelPlayers[playerIdx]?.name || duelNames[playerIdx]} goes for the steal!`, { rate: 1.2, pitch: 1.15 });
  }, [duelPhase, stealQueue, sound, speech, duelPlayers, duelNames]);

  const duelNextQuestionRef = useRef(null);
  const duelNextQuestion = useCallback(() => {
    speech.cancel();
    const nextIdx = duelQIndex + 1;
    if (nextIdx >= DUEL_QS || nextIdx >= gameQuestions.length) {
      // End duel
      setScreen('duelGameOver');
      sound.stopMusic();
      const sorted = [...duelPlayers].sort((a,b) => b.score - a.score);
      const winner = sorted[0];
      const isTie = sorted[0].score === sorted[1].score;
      sound.gameOver(winner.correct / Math.max(1, DUEL_QS));
      const goComment = isTie ? "It's a tie! What an incredible duel!" : `${winner.name} wins the duel! What a performance!`;
      speech.speak("Game over! " + goComment, { rate: 1.05, pitch: 1.08 });
      if (winner.correct >= DUEL_QS * 0.8) setTimeout(() => launchConfetti(), 800);
      playerProfile.recordGame(duelPlayers.reduce((max,p) => Math.max(max,p.score),0),
        duelPlayers.reduce((sum,p) => sum + p.correct, 0), DUEL_QS, 0, {});
      setTimeout(() => checkAndShowBadges(), 200);
      return;
    }
    setDuelQIndex(nextIdx);
    setSelected(null);
    duelNextQuestionRef.current = nextIdx;
  }, [duelQIndex, gameQuestions, duelPlayers, sound, speech, launchConfetti, playerProfile, checkAndShowBadges]);

  // Auto-start next duel question when duelQIndex changes mid-game
  useEffect(() => {
    if (gameMode !== 'duel' || duelNextQuestionRef.current === null) return;
    if (screen === 'duelQuestion' || duelNextQuestionRef.current === duelQIndex) {
      duelNextQuestionRef.current = null;
      const t = setTimeout(() => startDuelQuestion(), 100);
      return () => clearTimeout(t);
    }
  }, [duelQIndex, gameMode, screen, startDuelQuestion]);

  // Duel buzz timer countdown
  useEffect(() => {
    if (!buzzTimerActive || buzzTimer <= 0) return;
    const interval = setInterval(() => {
      setBuzzTimer(t => {
        if (t <= 1) {
          setBuzzTimerActive(false);
          if (duelPhase === 'buzzer' || duelPhase === 'steal') {
            // Nobody buzzed — show answer and move on
            const q = gameQuestions[duelQIndex];
            if (q) {
              sound.timeUp();
              setSelected(-1);
              setDuelPhase('result');
              speech.speak(`Time's up! Nobody buzzed in. The answer was ${q.o[q.a]}.`, { rate: 1.05, pitch: 1.0 });
              speech.speak(q.f, { rate: 0.95, pitch: 1.0 });
              setHistory(h => [...h, { question: q.q, correct: false, selected: -1, answer: q.a, cat: q.cat, buzzedBy: 'nobody' }]);
            }
          }
          return 0;
        }
        if (t <= 3) sound.tick(t);
        return t - 1;
      });
    }, 1000);
    return () => clearInterval(interval);
  }, [buzzTimerActive, buzzTimer, duelPhase, gameQuestions, duelQIndex, sound, speech]);

  // Duel answer timer countdown
  useEffect(() => {
    if (!answerTimerActive || answerTimer <= 0) return;
    const interval = setInterval(() => {
      setAnswerTimer(t => {
        if (t <= 1) {
          setAnswerTimerActive(false);
          // Ran out of time answering — treat as wrong
          duelAnswer(-1);
          return 0;
        }
        if (t <= 4) sound.tick(t);
        return t - 1;
      });
    }, 1000);
    return () => clearInterval(interval);
  }, [answerTimerActive, answerTimer, sound, duelAnswer]);

  // Keyboard listener for duel buzzer
  useEffect(() => {
    if (gameMode !== 'duel') return;
    const handler = (e) => {
      const key = e.key.toUpperCase();
      if (duelPhase === 'buzzer') {
        if (key === 'Q' || key === '1') duelBuzzIn(0);
        else if (key === 'W' || key === '2') duelBuzzIn(1);
        else if (key === 'E' || key === '3') duelBuzzIn(2);
      } else if (duelPhase === 'steal') {
        // Only allow players in steal queue
        if ((key === 'Q' || key === '1') && stealQueue.includes(0)) duelStealBuzz(0);
        else if ((key === 'W' || key === '2') && stealQueue.includes(1)) duelStealBuzz(1);
        else if ((key === 'E' || key === '3') && stealQueue.includes(2)) duelStealBuzz(2);
      }
    };
    window.addEventListener('keydown', handler);
    return () => window.removeEventListener('keydown', handler);
  }, [gameMode, duelPhase, duelBuzzIn, duelStealBuzz, stealQueue]);

  const proceedFromIntro = () => {
    sound.roundStart(); speech.cancel();
    if (gameMode === 'duel') {
      startDuelQuestion();
      return;
    }
    setCurrentRound(1); setScreen('roundIntro');
    const intro = ROUND_INTROS[1][Math.floor(Math.random() * ROUND_INTROS[1].length)];
    setHostText(intro);
    speech.speak(`Round 1: ${ROUND_NAMES[1]}. ${intro}`, { rate: 1.05, pitch: 1.08 });
  };

  const startQuestion = () => {
    sound.click(); speech.cancel();
    setScreen('question'); setShowSetup(true); setSelected(null); setTimer(TIMER_SECONDS);
    const q = gameQuestions[qIndex];
    const setup = getSetup(q.cat);
    setSetupText(setup);
    // Wait for the setup speech to finish, then show question and read it
    const showQ = () => { setShowSetup(false); setTimerActive(true); speech.speak(q.q, { rate: 1.0, pitch: 1.0 }); };
    speech.speakThen(setup, { rate: 1.05, pitch: 1.05 }, () => {
      // Small pause after setup before question appears
      setTimeout(showQ, 400);
    });
  };

  const handleAnswer = useCallback((idx) => {
    if (selected !== null) return;
    setTimerActive(false); setSelected(idx);
    setHiddenOptions([]);
    const q = gameQuestions[qIndex];
    const isCorrect = idx === q.a;
    const dailyBonus = dailyStreak.getBonus();
    const timeBonus = isCorrect ? Math.floor(timer * 5) : 0;
    const streakBonus = streak >= 3 ? streak * 10 : 0;
    const dailyBonusPts = isCorrect && dailyBonus > 0 ? Math.floor((100 + timeBonus) * dailyBonus / 100) : 0;
    const pointsEarned = isCorrect ? 100 + timeBonus + streakBonus + dailyBonusPts : 0;
    speech.cancel();
    if (isCorrect) {
      sound.correct(); triggerCorrectFlash();
      const ns = streak + 1;
      setStreak(ns); setBestStreak(bs => Math.max(bs, ns));
      setScore(s => s + pointsEarned);
      setRoundCorrect(rc => rc + 1);
      if (STREAK_COMMENTS[ns]) setTimeout(() => sound.streak(ns), 300);
      speech.speak(idx === -1 ? `Time's up! The answer was ${q.o[q.a]}.` : q.rq, { rate: 1.1, pitch: 1.1 });
      if (STREAK_COMMENTS[ns]) { const sc = STREAK_COMMENTS[ns]; speech.speak(sc[Math.floor(Math.random()*sc.length)], { rate: 1.15, pitch: 1.15 }); }
      speech.speak(q.f, { rate: 0.95, pitch: 1.0 });
      if (q._idx !== undefined) mapProgress.discoverCountries(q._idx);
    } else {
      sound.wrong(); triggerShake();
      setStreak(0); setRoundCorrect(0);
      speech.speak(idx === -1 ? `Time's up! The answer was ${q.o[q.a]}.` : q.wq, { rate: 1.0, pitch: 0.95 });
      speech.speak(q.f, { rate: 0.95, pitch: 1.0 });
      // Survival mode: lose a life
      if (gameMode === 'survival') {
        setSurvivalLives(l => l - 1);
      }
    }
    // Multiplayer: track per-player
    if (gameMode === 'multiplayer') {
      setPlayers(prev => prev.map((p, i) => i === currentPlayer ? {
        ...p, score: p.score + pointsEarned, correct: p.correct + (isCorrect ? 1 : 0),
        history: [...p.history, { question: q.q, correct: isCorrect, cat: q.cat }]
      } : p));
    }
    const TINY_COUNTRIES = ['Vatican City','Monaco','San Marino','Liechtenstein','Andorra','Tuvalu','Nauru','Luxembourg','Malta','Brunei','Bhutan','Nepal'];
    const correctAnswer = q.o[q.a];
    const isTiny = TINY_COUNTRIES.some(tc => correctAnswer.includes(tc) || q.q.includes(tc));
    playerProfile.recordAnswer(q.cat, isCorrect, timer, {
      qtype: q.type || 'standard', difficulty: q.d, tinyCountry: isTiny
    });
    setHistory(h => [...h, { question: q.q, correct: isCorrect, selected: idx, answer: q.a, cat: q.cat, type: q.type }]);
    setScreen('result');
    setTimeout(() => checkAndShowBadges({ bestStreak: Math.max(playerProfile.profile.bestStreak, isCorrect ? streak + 1 : streak) }), 100);
  }, [selected, qIndex, gameQuestions, timer, streak, sound, speech, playerProfile, dailyStreak, mapProgress, checkAndShowBadges, gameMode, currentPlayer, triggerShake, triggerCorrectFlash]);

  const endGame = useCallback(() => {
    setScreen('gameOver');
    sound.stopMusic();
    const gc = history.length + 1;
    const gcCorr = history.filter(h=>h.correct).length + (selected === gameQuestions[qIndex]?.a ? 1 : 0);
    sound.gameOver(gc > 0 ? gcCorr / gc : 0);
    const lt = lifelineTracker.current;
    const totalLifelinesUsed = lt.ff + lt.sk + lt.et;
    playerProfile.recordGame(score, gcCorr, gc, bestStreak, {
      lifelinesUsedThisGame: totalLifelinesUsed,
      fiftyFiftyUsedThisGame: lt.ff, skipUsedThisGame: lt.sk, extraTimeUsedThisGame: lt.et,
      usedAllLifelines: lt.ff > 0 && lt.sk > 0 && lt.et > 0,
      survivalQuestions: gameMode === 'survival' ? gc : 0,
      perfectSurvivalRun: gameMode === 'survival' ? gcCorr : 0
    });
    if (roundCorrect >= QUESTIONS_PER_ROUND) { playerProfile.recordPerfectRound(); setTimeout(() => sound.perfectRound(), 1500); setTimeout(() => launchConfetti(), 800); }
    const gcPct = gc > 0 ? gcCorr/gc : 0;
    // Also launch confetti for great overall scores (80%+)
    if (gcPct >= 0.8 && gc >= 5) setTimeout(() => launchConfetti(), 1200);
    let goComment;
    if (gameMode === 'survival') {
      goComment = `You survived ${gc} questions! ${gcPct >= 0.8 ? "Incredible run!" : gcPct >= 0.6 ? "Solid endurance!" : "Not bad! Try again to go further!"}`;
    } else if (gameMode === 'multiplayer') {
      const winner = players[0].score > players[1].score ? players[0].name : players[1].score > players[0].score ? players[1].name : null;
      goComment = winner ? `${winner} wins! What a match!` : "It's a tie! Incredible!";
    } else {
      goComment = pick(gcPct >= 1 ? GAME_OVER_COMMENTS.perfect : gcPct >= 0.8 ? GAME_OVER_COMMENTS.great : gcPct >= 0.6 ? GAME_OVER_COMMENTS.good : gcPct >= 0.4 ? GAME_OVER_COMMENTS.okay : GAME_OVER_COMMENTS.rough);
    }
    speech.speak("Game over! " + goComment.replace(/🌍👑/g,''), { rate: 1.05, pitch: 1.08 });
    setTimeout(() => checkAndShowBadges(), 200);
  }, [sound, history, selected, gameQuestions, qIndex, score, bestStreak, roundCorrect, playerProfile, gameMode, players, speech, checkAndShowBadges, launchConfetti]);

  const nextQuestion = () => {
    speech.cancel();
    // Survival: check if out of lives
    if (gameMode === 'survival' && survivalLives <= 0) {
      endGame(); return;
    }
    const nextIdx = qIndex + 1;
    // Check if we've run out of questions
    if (nextIdx >= totalQs) {
      endGame(); return;
    }
    // Multiplayer: alternate players
    if (gameMode === 'multiplayer') {
      setCurrentPlayer(cp => (cp + 1) % 2);
    }
    const nextQ = gameQuestions[nextIdx];
    const nextRound = nextQ.d;
    // Survival mode: no round intros, just keep going
    if (gameMode === 'survival') {
      setQIndex(nextIdx); setSelected(null); setTimer(TIMER_SECONDS);
      setHiddenOptions([]);
      setShowSetup(true); setScreen('question');
      const setup = getSetup(nextQ.cat);
      setSetupText(setup);
      const showQ = () => { setShowSetup(false); setTimerActive(true); speech.speak(nextQ.q, { rate: 1.0, pitch: 1.0 }); };
      speech.speakThen(setup, { rate: 1.05, pitch: 1.05 }, () => setTimeout(showQ, 400));
      return;
    }
    if (nextRound !== currentRound) {
      if (roundCorrect >= QUESTIONS_PER_ROUND) playerProfile.recordPerfectRound();
      setRoundCorrect(0);
      sound.roundStart(); setCurrentRound(nextRound); setScreen('roundIntro');
      const intros = ROUND_INTROS[nextRound];
      const intro = intros[Math.floor(Math.random() * intros.length)];
      setHostText(intro);
      setQIndex(nextIdx);
      speech.speak(`Round ${nextRound}: ${ROUND_NAMES[nextRound]}. ${intro}`, { rate: 1.05, pitch: 1.08 });
    } else {
      setQIndex(nextIdx); setSelected(null); setTimer(TIMER_SECONDS);
      setHiddenOptions([]);
      setShowSetup(true); setScreen('question');
      const setup = getSetup(nextQ.cat);
      setSetupText(setup);
      const showQ = () => { setShowSetup(false); setTimerActive(true); speech.speak(nextQ.q, { rate: 1.0, pitch: 1.0 }); };
      speech.speakThen(setup, { rate: 1.05, pitch: 1.05 }, () => {
        setTimeout(showQ, 400);
      });
    }
  };

  const getScoreComment = () => {
    const c = history.filter(h => h.correct).length;
    if (c === totalQs) return pick(GAME_OVER_COMMENTS.perfect);
    if (c >= totalQs * 0.8) return pick(GAME_OVER_COMMENTS.great);
    if (c >= totalQs * 0.6) return pick(GAME_OVER_COMMENTS.good);
    if (c >= totalQs * 0.4) return pick(GAME_OVER_COMMENTS.okay);
    return pick(GAME_OVER_COMMENTS.rough);
  };

  const correctCount = history.filter(h => h.correct).length;

  // ─── STYLES ──────────────────────────────────────────────────────────────
  const S = {
    wrap: { minHeight:'100vh', background:'linear-gradient(135deg,#0a0a2e 0%,#1a1a4e 30%,#0d0d3a 70%,#050520 100%)', color:'#fff', fontFamily:"'Segoe UI',system-ui,-apple-system,sans-serif", display:'flex', flexDirection:'column', alignItems:'center', justifyContent:'center', padding:'20px', position:'relative' },
    stars: { position:'fixed',top:0,left:0,right:0,bottom:0, background:'radial-gradient(2px 2px at 20px 30px,#fff,transparent),radial-gradient(2px 2px at 40px 70px,rgba(255,255,255,0.8),transparent),radial-gradient(1px 1px at 90px 40px,#fff,transparent)', backgroundSize:'200px 100px', pointerEvents:'none',zIndex:0 },
    card: { background:'rgba(255,255,255,0.07)', backdropFilter:'blur(20px)', borderRadius:'24px', border:'1px solid rgba(255,255,255,0.15)', padding:'40px', maxWidth:'700px', width:'100%', position:'relative', zIndex:1, boxShadow:'0 25px 60px rgba(0,0,0,0.5),inset 0 1px 0 rgba(255,255,255,0.1)' },
    title: { fontSize:'3.5rem', fontWeight:900, textAlign:'center', background:'linear-gradient(to right,#f7b733,#fc4a1a,#f7b733)', WebkitBackgroundClip:'text', WebkitTextFillColor:'transparent', letterSpacing:'-1px', lineHeight:1.1, marginBottom:'8px' },
    sub: { textAlign:'center', color:'rgba(255,255,255,0.6)', fontSize:'1.1rem', marginBottom:'30px' },
    btn: { background:'linear-gradient(135deg,#f7b733,#fc4a1a)', color:'#fff', border:'none', borderRadius:'16px', padding:'16px 40px', fontSize:'1.2rem', fontWeight:700, cursor:'pointer', transition:'all 0.2s', display:'block', margin:'0 auto', boxShadow:'0 4px 20px rgba(252,74,26,0.3)' },
    host: { background:'rgba(247,183,51,0.1)', border:'1px solid rgba(247,183,51,0.3)', borderRadius:'16px', padding:'16px 20px', marginBottom:'24px', fontSize:'1rem', lineHeight:1.6 },
    cat: { display:'inline-block', background:'rgba(247,183,51,0.2)', color:'#f7b733', padding:'4px 14px', borderRadius:'20px', fontSize:'0.8rem', fontWeight:600, letterSpacing:'1px', textTransform:'uppercase', marginBottom:'12px' },
    bar: { display:'flex', justifyContent:'space-between', alignItems:'center', padding:'12px 20px', background:'rgba(0,0,0,0.3)', borderRadius:'14px', marginBottom:'20px', fontSize:'0.9rem' },
    fact: { background:'rgba(46,213,115,0.08)', border:'1px solid rgba(46,213,115,0.2)', borderRadius:'12px', padding:'14px 18px', fontSize:'0.9rem', lineHeight:1.6, color:'rgba(255,255,255,0.8)', marginTop:'16px' },
    statCard: { background:'rgba(255,255,255,0.06)', borderRadius:'14px', padding:'16px', textAlign:'center', flex:1 },
    statVal: { fontSize:'2rem', fontWeight:800, background:'linear-gradient(to right,#f7b733,#fc4a1a)', WebkitBackgroundClip:'text', WebkitTextFillColor:'transparent' },
    statLbl: { fontSize:'0.8rem', color:'rgba(255,255,255,0.5)', marginTop:'4px', textTransform:'uppercase', letterSpacing:'1px' }
  };

  const optStyle = (idx) => {
    const isSel = selected === idx, isCor = idx === currentQ?.a, isRev = selected !== null;
    let bg = 'rgba(255,255,255,0.08)', bdr = '2px solid rgba(255,255,255,0.15)', sh = 'none', op = 1;
    if (isRev) {
      if (isCor) { bg='rgba(46,213,115,0.2)'; bdr='2px solid #2ed573'; sh='0 0 20px rgba(46,213,115,0.3)'; }
      else if (isSel) { bg='rgba(255,71,87,0.2)'; bdr='2px solid #ff4757'; sh='0 0 20px rgba(255,71,87,0.3)'; }
      else { op = 0.4; }
    }
    return { background:bg, border:bdr, borderRadius:'14px', padding:'16px 20px', color:'#fff', fontSize:'1.05rem', cursor:isRev?'default':'pointer', transition:'all 0.3s', textAlign:'left', width:'100%', display:'flex', alignItems:'center', gap:'12px', boxShadow:sh, opacity:op };
  };

  const timerPct = (timer / TIMER_SECONDS) * 100;
  const timerColor = timer > 10 ? 'linear-gradient(90deg,#2ed573,#7bed9f)' : timer > 5 ? 'linear-gradient(90deg,#ffa502,#ffbe76)' : 'linear-gradient(90deg,#ff4757,#ff6b81)';

  const Btn = ({children, onClick}) => (
    <button style={S.btn} onClick={onClick}
      onMouseOver={e=>{e.target.style.transform='scale(1.05)';e.target.style.boxShadow='0 6px 30px rgba(252,74,26,0.5)';}}
      onMouseOut={e=>{e.target.style.transform='scale(1)';e.target.style.boxShadow='0 4px 20px rgba(252,74,26,0.3)';}}
    >{children}</button>
  );

  const Host = ({children, label}) => (
    <div style={S.host}>
      <div style={{fontWeight:700,color:'#f7b733',marginBottom:'6px'}}>{label || "🎙️ Host"}</div>
      {children}
    </div>
  );

  // ─── Animated Card: adds shake + flash + screen transition ─────────────
  const animCard = (extra = {}) => ({
    ...S.card, ...extra,
    animation: [
      screenAnim ? `${screenAnim} 0.45s ease-out` : '',
      cardShake ? 'shakeWrong 0.5s ease' : '',
      cardFlash === 'wrong' ? 'wrongFlash 0.6s ease-out' : '',
      cardFlash === 'correct' ? 'correctPulse 0.7s ease-out' : ''
    ].filter(Boolean).join(', ') || undefined
  });

  // ─── Confetti Overlay ──────────────────────────────────────────────────
  const ConfettiOverlay = showConfetti ? (
    <div style={{position:'fixed',top:0,left:0,right:0,bottom:0,pointerEvents:'none',zIndex:2000,overflow:'hidden'}}>
      {confettiPieces.map(p => (
        <div key={p.id} style={{
          position:'absolute', top:'-20px', left:`${p.left}%`,
          fontSize:`${p.size}px`, color:p.color,
          animation:`confettiFall ${p.duration}s ease-in ${p.delay}s both`,
          transform:`rotate(${p.rotation}deg)`, filter:'drop-shadow(0 2px 3px rgba(0,0,0,0.3))'
        }}>{p.shape}</div>
      ))}
    </div>
  ) : null;

  // ─── Badge Toast Overlay ──────────────────────────────────────────────────
  const BadgeToast = badgeToast ? (() => {
    const isSecret = SECRET_BADGE_DEFINITIONS.some(b => b.id === badgeToast.id);
    return (
      <div style={{position:'fixed',top:'20px',left:'50%',transform:'translateX(-50%)',zIndex:1000,
        background:isSecret
          ? 'linear-gradient(135deg,rgba(155,89,182,0.95),rgba(52,152,219,0.95))'
          : 'linear-gradient(135deg,rgba(247,183,51,0.95),rgba(252,74,26,0.95))',
        borderRadius:'16px',padding:'14px 28px',
        boxShadow:isSecret ? '0 8px 32px rgba(155,89,182,0.5)' : '0 8px 32px rgba(252,74,26,0.4)',
        display:'flex',alignItems:'center',gap:'12px',
        animation:'slideDown 0.4s ease-out, bounceIn 0.5s ease-out',color:'#fff'}}>
        <span style={{fontSize:'2rem',animation:isSecret?'streakFlame 0.6s ease-in-out infinite':undefined}}>{badgeToast.icon}</span>
        <div><div style={{fontWeight:800,fontSize:'0.95rem'}}>{isSecret ? '🕵️ Secret Badge Discovered!' : 'Badge Unlocked!'}</div>
          <div style={{fontSize:'0.85rem',opacity:0.9}}>{badgeToast.name}</div></div>
      </div>
    );
  })() : null;

  // ─── SCREENS ─────────────────────────────────────────────────────────────

  // ─── Helper: get any player's stats from localStorage ──────────────────
  const getPlayerStats = (pid) => {
    try {
      const raw = window.localStorage.getItem(`geobee_player_${pid}`);
      return raw ? JSON.parse(raw) : null;
    } catch(e) { return null; }
  };

  const switchPlayer = (pid) => {
    setActivePlayerId(pid);
    sound.playerSelect();
    setScreen('title');
  };

  // ─── Player Select Screen ────────────────────────────────────────────────
  if (screen === 'playerSelect') return (
    <div style={S.wrap}><div style={S.stars}/>
      <div style={animCard({textAlign:'center', maxWidth:'700px'})}>
        <div style={{fontSize:'4rem',marginBottom:'10px'}}>🌍</div>
        <div style={S.title}>GEO-WRECKED!</div>
        <div style={S.sub}>Who's playing today?</div>
        <div style={{display:'grid',gridTemplateColumns:'repeat(3,1fr)',gap:'14px',marginBottom:'24px',marginTop:'20px'}}>
          {PLAYER_LIST.map(p => {
            const stats = getPlayerStats(p.id);
            const isActive = activePlayerId === p.id;
            return (
              <button key={p.id} onClick={() => switchPlayer(p.id)}
                style={{background: isActive ? `linear-gradient(135deg,${p.color}33,${p.color}22)` : 'rgba(255,255,255,0.05)',
                  border: `2px solid ${isActive ? p.color : 'rgba(255,255,255,0.1)'}`,
                  borderRadius:'16px',padding:'20px 12px',cursor:'pointer',transition:'all 0.25s',
                  display:'flex',flexDirection:'column',alignItems:'center',gap:'8px'}}>
                <div style={{fontSize:'2.5rem'}}>{p.emoji}</div>
                <div style={{fontWeight:700,color: isActive ? p.color : '#fff',fontSize:'1.05rem'}}>{p.name}</div>
                {stats && stats.gamesPlayed > 0 ? (
                  <div style={{fontSize:'0.7rem',color:'rgba(255,255,255,0.4)',lineHeight:1.6}}>
                    {stats.gamesPlayed} games • {stats.totalAnswered > 0 ? Math.round(stats.totalCorrect/stats.totalAnswered*100) : 0}% acc
                  </div>
                ) : (
                  <div style={{fontSize:'0.7rem',color:'rgba(255,255,255,0.25)'}}>New player</div>
                )}
              </button>
            );
          })}
        </div>
        <div style={{fontSize:'0.8rem',color:'rgba(255,255,255,0.3)'}}>Each player's stats, badges, and map progress are tracked separately</div>
      </div>
    </div>
  );

  // ─── Leaderboard Screen ────────────────────────────────────────────────
  if (screen === 'leaderboard') {
    const allStats = PLAYER_LIST.map(p => {
      const stats = getPlayerStats(p.id);
      return { ...p, stats: stats || { gamesPlayed:0, totalAnswered:0, totalCorrect:0, bestStreak:0, perfectGames:0, gameHistory:[] } };
    }).filter(p => p.stats.gamesPlayed > 0).sort((a,b) => {
      const accA = a.stats.totalAnswered > 0 ? a.stats.totalCorrect / a.stats.totalAnswered : 0;
      const accB = b.stats.totalAnswered > 0 ? b.stats.totalCorrect / b.stats.totalAnswered : 0;
      return accB - accA;
    });
    const medals = ['🥇','🥈','🥉'];
    return (
      <div style={S.wrap}><div style={S.stars}/>{BadgeToast}
        <div style={animCard({maxWidth:'750px'})}>
          <div style={{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:'24px'}}>
            <div>
              <div style={{fontSize:'1.8rem',fontWeight:800,color:'#f7b733'}}>🏆 Leaderboard</div>
              <div style={{color:'rgba(255,255,255,0.5)',fontSize:'0.85rem'}}>Family standings by accuracy</div>
            </div>
            <button onClick={() => { setScreen('title'); sound.click(); }}
              style={{background:'rgba(255,255,255,0.1)',border:'1px solid rgba(255,255,255,0.15)',borderRadius:'12px',
                padding:'8px 16px',color:'#fff',cursor:'pointer',fontSize:'0.85rem'}}>
              ← Back
            </button>
          </div>
          {allStats.length === 0 ? (
            <div style={{textAlign:'center',padding:'40px 0',color:'rgba(255,255,255,0.4)'}}>
              No one has played yet! Pick a player and start a game.
            </div>
          ) : (
            <div style={{display:'flex',flexDirection:'column',gap:'12px'}}>
              {allStats.map((p, idx) => {
                const acc = p.stats.totalAnswered > 0 ? Math.round(p.stats.totalCorrect / p.stats.totalAnswered * 100) : 0;
                const avgScore = p.stats.gameHistory && p.stats.gameHistory.length > 0
                  ? Math.round(p.stats.gameHistory.reduce((s,g) => s + g.score, 0) / p.stats.gameHistory.length)
                  : 0;
                const isMe = p.id === activePlayerId;
                return (
                  <div key={p.id} style={{background: isMe ? `linear-gradient(135deg,${p.color}20,${p.color}10)` : 'rgba(255,255,255,0.04)',
                    border: `1px solid ${isMe ? p.color + '60' : 'rgba(255,255,255,0.08)'}`,
                    borderRadius:'16px',padding:'16px 20px',display:'flex',alignItems:'center',gap:'16px',transition:'all 0.3s'}}>
                    <div style={{fontSize:'1.5rem',minWidth:'36px',textAlign:'center'}}>{idx < 3 ? medals[idx] : `#${idx+1}`}</div>
                    <div style={{fontSize:'2rem'}}>{p.emoji}</div>
                    <div style={{flex:1}}>
                      <div style={{fontWeight:700,color: isMe ? p.color : '#fff',fontSize:'1.05rem'}}>
                        {p.name} {isMe && <span style={{fontSize:'0.7rem',opacity:0.6}}>(you)</span>}
                      </div>
                      <div style={{fontSize:'0.8rem',color:'rgba(255,255,255,0.4)',marginTop:'4px'}}>
                        {p.stats.gamesPlayed} games • Best streak: {p.stats.bestStreak}🔥 • Avg: {avgScore} pts
                      </div>
                    </div>
                    <div style={{textAlign:'right'}}>
                      <div style={{fontSize:'1.8rem',fontWeight:800,color: acc >= 80 ? '#2ed573' : acc >= 60 ? '#ffa502' : '#ff4757'}}>{acc}%</div>
                      <div style={{fontSize:'0.7rem',color:'rgba(255,255,255,0.4)'}}>accuracy</div>
                    </div>
                  </div>
                );
              })}
            </div>
          )}
        </div>
      </div>
    );
  }

  // ─── Streak Reward Screen ───────────────────────────────────────────────
  if (screen === 'streakReward' && streakMilestone) return (
    <div style={S.wrap}><div style={S.stars}/>{BadgeToast}
      <div style={animCard({textAlign:'center'})}>
        <div style={{fontSize:'4rem',marginBottom:'10px'}}>{streakMilestone.icon}</div>
        <div style={{...S.title,fontSize:'2.2rem'}}>STREAK MILESTONE!</div>
        <div style={{color:'rgba(255,255,255,0.6)',fontSize:'1.1rem',marginBottom:'20px'}}>
          {dailyStreak.streak.current} days in a row!
        </div>
        <div style={{background:'rgba(247,183,51,0.15)',border:'1px solid rgba(247,183,51,0.3)',borderRadius:'16px',padding:'24px',marginBottom:'24px'}}>
          <div style={{fontSize:'1.4rem',fontWeight:800,color:'#f7b733',marginBottom:'8px'}}>"{streakMilestone.title}"</div>
          <div style={{color:'rgba(255,255,255,0.7)',fontSize:'1rem'}}>
            You've earned a <span style={{color:'#2ed573',fontWeight:700}}>+{streakMilestone.bonus}%</span> score bonus for this game!
          </div>
        </div>
        <Btn onClick={proceedFromStreakReward}>LET'S GO! 🔥</Btn>
      </div>
    </div>
  );

  // ─── Profile Screen ─────────────────────────────────────────────────────
  if (screen === 'profile') {
    const p = playerProfile.profile;
    const accuracy = p.totalAnswered > 0 ? Math.round(p.totalCorrect / p.totalAnswered * 100) : 0;
    const strongestCat = Object.entries(p.catCorrect || {}).sort((a,b) => b[1] - a[1])[0];
    const tabBtn = (tab, label) => (
      <button onClick={() => { setProfileTab(tab); sound.click(); }}
        style={{flex:1,padding:'10px',background:profileTab===tab?'linear-gradient(135deg,#f7b733,#fc4a1a)':'rgba(255,255,255,0.08)',
          border:profileTab===tab?'none':'1px solid rgba(255,255,255,0.1)',borderRadius:'12px',color:'#fff',
          fontWeight:profileTab===tab?700:400,fontSize:'0.85rem',cursor:'pointer',transition:'all 0.2s'}}>
        {label}
      </button>
    );
    return (
      <div style={S.wrap}><div style={S.stars}/>{BadgeToast}
        <div style={animCard({maxWidth:'800px'})}>
          <div style={{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:'24px'}}>
            <div>
              <div style={{fontSize:'1.8rem',fontWeight:800,color: activePlayerInfo ? activePlayerInfo.color : '#f7b733'}}>
                {activePlayerInfo ? `${activePlayerInfo.emoji} ${activePlayerInfo.name}'s Profile` : 'Player Profile'}
              </div>
              <div style={{color:'rgba(255,255,255,0.5)',fontSize:'0.85rem'}}>
                {dailyStreak.streak.current > 0 ? `🔥 ${dailyStreak.streak.current}-day streak` : 'Start playing to build your streak!'}
              </div>
            </div>
            <button onClick={() => { setScreen('title'); sound.click(); }}
              style={{background:'rgba(255,255,255,0.1)',border:'1px solid rgba(255,255,255,0.15)',borderRadius:'12px',
                padding:'8px 16px',color:'#fff',cursor:'pointer',fontSize:'0.85rem'}}>
              ← Back
            </button>
          </div>
          <div style={{display:'flex',gap:'8px',marginBottom:'24px'}}>
            {tabBtn('stats','📊 Stats')}{tabBtn('badges','🏅 Badges')}{tabBtn('map','🗺️ World Map')}
          </div>

          {profileTab === 'stats' && (<div>
            <div style={{display:'flex',gap:'12px',marginBottom:'20px',flexWrap:'wrap'}}>
              <div style={{...S.statCard,minWidth:'120px'}}><div style={S.statVal}>{p.gamesPlayed}</div><div style={S.statLbl}>Games</div></div>
              <div style={{...S.statCard,minWidth:'120px'}}><div style={S.statVal}>{accuracy}%</div><div style={S.statLbl}>Accuracy</div></div>
              <div style={{...S.statCard,minWidth:'120px'}}><div style={S.statVal}>{p.bestStreak}🔥</div><div style={S.statLbl}>Best Streak</div></div>
              <div style={{...S.statCard,minWidth:'120px'}}><div style={S.statVal}>{mapProgress.discovered.length}</div><div style={S.statLbl}>Countries</div></div>
            </div>
            <div style={{display:'flex',gap:'12px',marginBottom:'20px',flexWrap:'wrap'}}>
              <div style={{...S.statCard,minWidth:'120px'}}><div style={S.statVal}>{p.totalCorrect}/{p.totalAnswered}</div><div style={S.statLbl}>Correct</div></div>
              <div style={{...S.statCard,minWidth:'120px'}}><div style={S.statVal}>{dailyStreak.streak.best}</div><div style={S.statLbl}>Best Day Streak</div></div>
              <div style={{...S.statCard,minWidth:'120px'}}><div style={S.statVal}>{p.perfectRounds}</div><div style={S.statLbl}>Perfect Rounds</div></div>
              <div style={{...S.statCard,minWidth:'120px'}}><div style={S.statVal}>{p.perfectGames}</div><div style={S.statLbl}>Perfect Games</div></div>
            </div>
            {strongestCat && (
              <div style={{background:'rgba(46,213,115,0.08)',border:'1px solid rgba(46,213,115,0.2)',borderRadius:'12px',padding:'14px 18px',marginBottom:'16px'}}>
                <div style={{fontWeight:700,color:'#2ed573',fontSize:'0.85rem',marginBottom:'4px'}}>Strongest Category</div>
                <div style={{color:'rgba(255,255,255,0.8)'}}>{strongestCat[0]} — {strongestCat[1]} correct answers</div>
              </div>
            )}
            {p.gameHistory && p.gameHistory.length > 0 && (
              <div style={{background:'rgba(255,255,255,0.05)',borderRadius:'14px',padding:'16px'}}>
                <div style={{fontWeight:700,color:'rgba(255,255,255,0.5)',fontSize:'0.8rem',textTransform:'uppercase',letterSpacing:'1px',marginBottom:'12px'}}>Recent Games</div>
                <div style={{display:'flex',alignItems:'flex-end',gap:'4px',height:'80px'}}>
                  {p.gameHistory.map((g, i) => {
                    const pct = g.total > 0 ? g.correct / g.total : 0;
                    const h = Math.max(8, pct * 70);
                    const color = pct >= 0.8 ? '#2ed573' : pct >= 0.6 ? '#ffa502' : '#ff4757';
                    return <div key={i} style={{flex:1,display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'flex-end',height:'100%'}}>
                      <div style={{width:'100%',maxWidth:'24px',height:`${h}px`,background:color,borderRadius:'4px 4px 0 0',transition:'height 0.3s'}}/>
                      <div style={{fontSize:'0.6rem',color:'rgba(255,255,255,0.3)',marginTop:'4px'}}>{Math.round(pct*100)}%</div>
                    </div>;
                  })}
                </div>
              </div>
            )}
            <button onClick={() => setShowResetConfirm(true)}
              style={{marginTop:'20px',background:'rgba(255,71,87,0.1)',border:'1px solid rgba(255,71,87,0.3)',borderRadius:'12px',
                padding:'10px 20px',color:'#ff4757',cursor:'pointer',fontSize:'0.85rem',width:'100%'}}>
              Reset All Progress
            </button>
            {showResetConfirm && (
              <div style={{marginTop:'12px',background:'rgba(255,71,87,0.1)',border:'1px solid rgba(255,71,87,0.3)',borderRadius:'12px',padding:'16px',textAlign:'center'}}>
                <div style={{color:'#ff4757',fontWeight:700,marginBottom:'8px'}}>Are you sure? This cannot be undone!</div>
                <div style={{display:'flex',gap:'10px',justifyContent:'center'}}>
                  <button onClick={() => { playerProfile.resetProfile(); setShowResetConfirm(false); sound.click(); }}
                    style={{background:'#ff4757',border:'none',borderRadius:'10px',padding:'8px 20px',color:'#fff',cursor:'pointer',fontWeight:700}}>
                    Yes, Reset Everything
                  </button>
                  <button onClick={() => setShowResetConfirm(false)}
                    style={{background:'rgba(255,255,255,0.1)',border:'1px solid rgba(255,255,255,0.15)',borderRadius:'10px',padding:'8px 20px',color:'#fff',cursor:'pointer'}}>
                    Cancel
                  </button>
                </div>
              </div>
            )}
          </div>)}

          {profileTab === 'badges' && (<div>
            {/* Regular badges */}
            <div style={{color:'rgba(255,255,255,0.5)',fontSize:'0.85rem',marginBottom:'16px'}}>
              {badges.earned.filter(id => BADGE_DEFINITIONS.find(b=>b.id===id)).length}/{BADGE_DEFINITIONS.length} badges earned
            </div>
            <div style={{display:'grid',gridTemplateColumns:'repeat(auto-fill,minmax(140px,1fr))',gap:'12px',marginBottom:'32px'}}>
              {BADGE_DEFINITIONS.map(badge => {
                const isEarned = badges.earned.includes(badge.id);
                return (
                  <div key={badge.id} style={{background:isEarned?'rgba(247,183,51,0.12)':'rgba(255,255,255,0.04)',
                    border:`1px solid ${isEarned?'rgba(247,183,51,0.3)':'rgba(255,255,255,0.08)'}`,
                    borderRadius:'14px',padding:'16px',textAlign:'center',transition:'all 0.3s',
                    opacity:isEarned?1:0.5}}>
                    <div style={{fontSize:'2rem',marginBottom:'6px',filter:isEarned?'none':'grayscale(1)'}}>
                      {isEarned ? badge.icon : '🔒'}
                    </div>
                    <div style={{fontWeight:700,fontSize:'0.8rem',color:isEarned?'#f7b733':'rgba(255,255,255,0.4)',marginBottom:'4px'}}>
                      {badge.name}
                    </div>
                    <div style={{fontSize:'0.7rem',color:'rgba(255,255,255,0.4)',lineHeight:1.4}}>
                      {badge.desc}
                    </div>
                  </div>
                );
              })}
            </div>
            {/* Secret badges section */}
            <div style={{background:'linear-gradient(135deg,rgba(155,89,182,0.1),rgba(52,152,219,0.08))',border:'1px solid rgba(155,89,182,0.25)',
              borderRadius:'16px',padding:'20px',marginBottom:'12px'}}>
              <div style={{display:'flex',alignItems:'center',gap:'10px',marginBottom:'16px'}}>
                <span style={{fontSize:'1.5rem'}}>🕵️</span>
                <div>
                  <div style={{fontWeight:800,fontSize:'1rem',color:'#d4a5ff'}}>Secret Badges</div>
                  <div style={{fontSize:'0.8rem',color:'rgba(255,255,255,0.4)'}}>
                    {badges.earned.filter(id => SECRET_BADGE_DEFINITIONS.find(b=>b.id===id)).length}/{SECRET_BADGE_DEFINITIONS.length} discovered
                  </div>
                </div>
              </div>
              <div style={{display:'grid',gridTemplateColumns:'repeat(auto-fill,minmax(140px,1fr))',gap:'12px'}}>
                {SECRET_BADGE_DEFINITIONS.map(badge => {
                  const isEarned = badges.earned.includes(badge.id);
                  return (
                    <div key={badge.id} style={{
                      background:isEarned?'rgba(155,89,182,0.2)':'rgba(255,255,255,0.03)',
                      border:`1px solid ${isEarned?'rgba(155,89,182,0.4)':'rgba(255,255,255,0.06)'}`,
                      borderRadius:'14px',padding:'16px',textAlign:'center',transition:'all 0.3s',
                      opacity:isEarned?1:0.4,
                      animation:isEarned?'bounceIn 0.4s ease-out':undefined}}>
                      <div style={{fontSize:'2rem',marginBottom:'6px',filter:isEarned?'drop-shadow(0 0 8px rgba(155,89,182,0.5))':'grayscale(1) blur(1px)'}}>
                        {isEarned ? badge.icon : '❓'}
                      </div>
                      <div style={{fontWeight:700,fontSize:'0.8rem',color:isEarned?'#d4a5ff':'rgba(255,255,255,0.3)',marginBottom:'4px'}}>
                        {isEarned ? badge.name : '???'}
                      </div>
                      <div style={{fontSize:'0.7rem',color:isEarned?'rgba(255,255,255,0.5)':'rgba(255,255,255,0.25)',lineHeight:1.4,fontStyle:isEarned?'normal':'italic'}}>
                        {isEarned ? badge.name : badge.hint}
                      </div>
                    </div>
                  );
                })}
              </div>
            </div>
          </div>)}

          {profileTab === 'map' && (<div>
            <div style={{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'16px'}}>
              <div style={{color:'rgba(255,255,255,0.5)',fontSize:'0.85rem'}}>
                {mapProgress.discovered.length}/{TOTAL_COUNTRIES} countries discovered
              </div>
              <div style={{background:'rgba(255,255,255,0.1)',borderRadius:'20px',height:'8px',width:'200px',overflow:'hidden'}}>
                <div style={{height:'100%',background:'linear-gradient(90deg,#f7b733,#fc4a1a)',borderRadius:'20px',
                  width:`${(mapProgress.discovered.length/TOTAL_COUNTRIES)*100}%`,transition:'width 0.5s'}}/>
              </div>
            </div>
            {Object.entries(WORLD_COUNTRIES).map(([continent, countries]) => {
              const discoveredInContinent = countries.filter(c => mapProgress.discovered.includes(c[0])).length;
              return (
                <div key={continent} style={{marginBottom:'20px'}}>
                  <div style={{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'10px'}}>
                    <div style={{fontWeight:700,color:'#f7b733',fontSize:'0.9rem'}}>{continent}</div>
                    <div style={{fontSize:'0.75rem',color:'rgba(255,255,255,0.4)'}}>{discoveredInContinent}/{countries.length}</div>
                  </div>
                  <div style={{display:'flex',flexWrap:'wrap',gap:'6px'}}>
                    {countries.map(([code, name]) => {
                      const isDiscovered = mapProgress.discovered.includes(code);
                      return (
                        <div key={code} title={name}
                          style={{background:isDiscovered?'rgba(247,183,51,0.2)':'rgba(255,255,255,0.04)',
                            border:`1px solid ${isDiscovered?'rgba(247,183,51,0.4)':'rgba(255,255,255,0.08)'}`,
                            borderRadius:'8px',padding:'4px 10px',fontSize:'0.75rem',
                            color:isDiscovered?'#f7b733':'rgba(255,255,255,0.25)',
                            fontWeight:isDiscovered?600:400,transition:'all 0.3s',cursor:'default'}}>
                          {isDiscovered ? `${flagEmoji(code)} ${name}` : '???'}
                        </div>
                      );
                    })}
                  </div>
                </div>
              );
            })}
          </div>)}
        </div>
      </div>
    );
  }

  // ─── Duel Name Entry Screen ──────────────────────────────────────────
  if (screen === 'duelNameEntry') return (
    <div style={S.wrap}><div style={S.stars}/>{BadgeToast}
      <div style={animCard({textAlign:'center'})}>
        <div style={{fontSize:'3rem',marginBottom:'10px'}}>⚡</div>
        <div style={{...S.title,fontSize:'2.2rem'}}>HEAD-TO-HEAD DUEL</div>
        <div style={S.sub}>3 players. 1 device. Buzz in first to answer!</div>
        <div style={{display:'flex',flexDirection:'column',gap:'12px',marginBottom:'20px'}}>
          {[0,1,2].map(i => (
            <div key={i} style={{background:`${DUEL_COLORS[i]}15`,border:`1px solid ${DUEL_COLORS[i]}50`,borderRadius:'14px',padding:'14px'}}>
              <div style={{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'8px'}}>
                <div style={{fontWeight:700,color:DUEL_COLORS[i],fontSize:'0.85rem'}}>Player {i+1}</div>
                <div style={{background:`${DUEL_COLORS[i]}30`,borderRadius:'8px',padding:'2px 10px',fontSize:'0.75rem',
                  color:DUEL_COLORS[i],fontWeight:600}}>Buzzer: {DUEL_KEYS[i]} or {i+1}</div>
              </div>
              <input type="text" value={duelNames[i]} onChange={e => {
                const v = e.target.value;
                setDuelNames(prev => prev.map((n,j) => j===i ? v : n));
              }} maxLength={15} placeholder={`Player ${i+1}`}
                style={{width:'100%',padding:'10px 14px',borderRadius:'10px',background:'rgba(0,0,0,0.4)',
                  border:`1px solid ${DUEL_COLORS[i]}40`,color:'#fff',fontSize:'1rem',outline:'none',boxSizing:'border-box'}}/>
            </div>
          ))}
        </div>
        <div style={{background:'rgba(255,255,255,0.05)',borderRadius:'12px',padding:'14px',marginBottom:'20px',fontSize:'0.85rem',
          color:'rgba(255,255,255,0.6)',lineHeight:1.6,textAlign:'left'}}>
          <div style={{fontWeight:700,color:'#f7b733',marginBottom:'6px'}}>How it works:</div>
          <div>All 3 players see the question at once. Press your buzzer key (<span style={{color:DUEL_COLORS[0]}}>Q</span> / <span style={{color:DUEL_COLORS[1]}}>W</span> / <span style={{color:DUEL_COLORS[2]}}>E</span>) or tap your button to buzz in first. Get it right for +150 points + time bonus. Get it wrong and you lose 50 — plus the other players can steal!</div>
        </div>
        <Btn onClick={() => startGame('duel')}>START DUEL! ⚡</Btn>
        <button onClick={() => { setScreen('title'); sound.click(); }}
          style={{marginTop:'12px',background:'rgba(255,255,255,0.08)',border:'1px solid rgba(255,255,255,0.15)',
            borderRadius:'12px',padding:'10px 24px',color:'rgba(255,255,255,0.6)',fontSize:'0.85rem',cursor:'pointer',
            display:'block',margin:'12px auto 0'}}>
          ← Back
        </button>
      </div>
    </div>
  );

  // ─── Multiplayer Name Entry Screen ────────────────────────────────────
  if (screen === 'mpNameEntry') return (
    <div style={S.wrap}><div style={S.stars}/>{BadgeToast}
      <div style={animCard({textAlign:'center'})}>
        <div style={{fontSize:'3rem',marginBottom:'10px'}}>👥</div>
        <div style={{...S.title,fontSize:'2.2rem'}}>MULTIPLAYER</div>
        <div style={S.sub}>Enter player names and battle it out!</div>
        <div style={{display:'flex',flexDirection:'column',gap:'16px',marginBottom:'24px'}}>
          <div style={{background:'rgba(52,152,219,0.1)',border:'1px solid rgba(52,152,219,0.3)',borderRadius:'14px',padding:'16px'}}>
            <div style={{fontWeight:700,color:'#3498db',marginBottom:'8px',fontSize:'0.85rem'}}>Player 1</div>
            <input type="text" value={mpNames[0]} onChange={e => setMpNames(n => [e.target.value, n[1]])}
              maxLength={20} placeholder="Player 1"
              style={{width:'100%',padding:'10px 14px',borderRadius:'10px',background:'rgba(0,0,0,0.4)',
                border:'1px solid rgba(52,152,219,0.3)',color:'#fff',fontSize:'1rem',outline:'none',boxSizing:'border-box'}}/>
          </div>
          <div style={{background:'rgba(231,76,60,0.1)',border:'1px solid rgba(231,76,60,0.3)',borderRadius:'14px',padding:'16px'}}>
            <div style={{fontWeight:700,color:'#e74c3c',marginBottom:'8px',fontSize:'0.85rem'}}>Player 2</div>
            <input type="text" value={mpNames[1]} onChange={e => setMpNames(n => [n[0], e.target.value])}
              maxLength={20} placeholder="Player 2"
              style={{width:'100%',padding:'10px 14px',borderRadius:'10px',background:'rgba(0,0,0,0.4)',
                border:'1px solid rgba(231,76,60,0.3)',color:'#fff',fontSize:'1rem',outline:'none',boxSizing:'border-box'}}/>
          </div>
        </div>
        <Btn onClick={() => startGame('multiplayer')}>START MATCH! ⚔️</Btn>
        <button onClick={() => { setScreen('title'); sound.click(); }}
          style={{marginTop:'12px',background:'rgba(255,255,255,0.08)',border:'1px solid rgba(255,255,255,0.15)',
            borderRadius:'12px',padding:'10px 24px',color:'rgba(255,255,255,0.6)',fontSize:'0.85rem',cursor:'pointer',
            display:'block',margin:'12px auto 0'}}>
          ← Back
        </button>
      </div>
    </div>
  );

  if (screen === 'title') return (
    <div style={S.wrap}><div style={S.stars}/>{BadgeToast}
      <div style={animCard({textAlign:'center'})}>
        <div style={{fontSize:'4rem',marginBottom:'10px',animation:'bounceIn 0.5s ease-out'}}>🌍</div>
        <div style={{...S.title,animation:'titlePulse 3s ease-in-out infinite'}}>GEO-WRECKED!</div>
        <div style={S.sub}>A "You Don't Know Jack!"-Style GeoBee Trainer</div>
        {activePlayerInfo && (
          <div style={{display:'flex',alignItems:'center',justifyContent:'center',gap:'10px',marginBottom:'16px',
            background:`linear-gradient(135deg,${activePlayerInfo.color}20,${activePlayerInfo.color}10)`,
            border:`1px solid ${activePlayerInfo.color}40`,borderRadius:'14px',padding:'10px 20px'}}>
            <span style={{fontSize:'1.5rem'}}>{activePlayerInfo.emoji}</span>
            <span style={{fontWeight:700,color:activePlayerInfo.color,fontSize:'1rem'}}>Playing as {activePlayerInfo.name}</span>
            <button onClick={() => { setScreen('playerSelect'); sound.click(); }}
              style={{marginLeft:'8px',background:'rgba(255,255,255,0.1)',border:'1px solid rgba(255,255,255,0.2)',
                borderRadius:'8px',padding:'4px 12px',color:'rgba(255,255,255,0.7)',fontSize:'0.75rem',cursor:'pointer'}}>
              Switch
            </button>
          </div>
        )}
        {dailyStreak.streak.current > 0 && (
          <div style={{background:'linear-gradient(135deg,rgba(252,74,26,0.15),rgba(247,183,51,0.15))',
            border:'1px solid rgba(247,183,51,0.3)',borderRadius:'14px',padding:'14px',marginBottom:'20px',
            display:'flex',alignItems:'center',justifyContent:'center',gap:'12px'}}>
            <span style={{fontSize:'1.5rem'}}>🔥</span>
            <div>
              <div style={{fontWeight:700,color:'#f7b733',fontSize:'0.95rem'}}>{dailyStreak.streak.current}-Day Streak!</div>
              <div style={{fontSize:'0.75rem',color:'rgba(255,255,255,0.5)'}}>
                {dailyStreak.getBonus() > 0 ? `+${dailyStreak.getBonus()}% score bonus active` : 'Play daily to build your streak'}
              </div>
            </div>
          </div>
        )}
        <div style={{background:'rgba(255,255,255,0.05)',borderRadius:'14px',padding:'20px',marginBottom:'20px',textAlign:'left',lineHeight:1.8}}>
          <div style={{fontWeight:700,marginBottom:'10px',color:'#f7b733'}}>How to Play:</div>
          <div style={{color:'rgba(255,255,255,0.7)',fontSize:'0.95rem'}}>
            🏆 {QUESTIONS_PER_ROUND * TOTAL_ROUNDS} questions per game drawn from a pool of {QUESTIONS.length}<br/>
            ⏱️ {TIMER_SECONDS} seconds per question — faster = more points<br/>
            🔥 Build answer streaks for bonus points<br/>
            📚 Every question has a fun fact for learning<br/>
            🔄 Questions shuffle every game — play again for new ones!<br/>
            🎯 All facts verified for GeoBee competition prep
          </div>
        </div>
        {playerProfile.profile.gamesPlayed > 0 && (
          <div style={{background:'rgba(46,213,115,0.08)',borderRadius:'12px',padding:'14px',marginBottom:'20px',fontSize:'0.85rem',color:'rgba(255,255,255,0.6)',
            display:'flex',justifyContent:'space-around',flexWrap:'wrap',gap:'8px'}}>
            <span>📊 {playerProfile.profile.gamesPlayed} games</span>
            <span>🎯 {playerProfile.profile.totalAnswered > 0 ? Math.round(playerProfile.profile.totalCorrect/playerProfile.profile.totalAnswered*100) : 0}% accuracy</span>
            <span>🗺️ {mapProgress.discovered.length} countries</span>
            <span>🏅 {badges.earned.length} badges</span>
          </div>
        )}
        <div style={{background:'rgba(255,255,255,0.05)',borderRadius:'14px',padding:'16px',marginBottom:'20px'}}>
          <div style={{display:'flex',alignItems:'center',justifyContent:'space-between',cursor:'pointer'}}
            onClick={()=>setShowVoiceSettings(v=>!v)}>
            <div style={{display:'flex',alignItems:'center',gap:'10px'}}>
              <span style={{fontSize:'1.2rem'}}>{speech.voiceEnabled ? '🔊' : '🔇'}</span>
              <span style={{fontWeight:700,color:'#f7b733',fontSize:'0.95rem'}}>Announcer Voice</span>
              <span style={{color:'rgba(255,255,255,0.4)',fontSize:'0.8rem'}}>{speech.voiceEnabled ? 'ON' : 'OFF'}</span>
            </div>
            <span style={{color:'rgba(255,255,255,0.4)',fontSize:'0.8rem'}}>{showVoiceSettings ? '▲' : '▼'}</span>
          </div>
          {showVoiceSettings && (<div style={{marginTop:'16px',display:'flex',flexDirection:'column',gap:'12px'}}>
            <div style={{display:'flex',alignItems:'center',gap:'10px'}}>
              <button onClick={speech.toggleEnabled}
                style={{background:speech.voiceEnabled?'linear-gradient(135deg,#2ed573,#7bed9f)':'rgba(255,255,255,0.1)',
                  border:'none',borderRadius:'20px',padding:'6px 16px',color:'#fff',fontSize:'0.8rem',fontWeight:600,cursor:'pointer'}}>
                {speech.voiceEnabled ? 'Voice ON' : 'Voice OFF'}
              </button>
              <button onClick={()=>{speech.cancel();speech.speak("Welcome to Geo-Wrecked! Let's see if you're smarter than a GPS.",{rate:speech.rate,pitch:speech.pitch});}}
                style={{background:'rgba(247,183,51,0.2)',border:'1px solid rgba(247,183,51,0.3)',borderRadius:'20px',padding:'6px 16px',color:'#f7b733',fontSize:'0.8rem',fontWeight:600,cursor:'pointer'}}>
                Test Voice
              </button>
            </div>
            {speech.voiceList.length > 0 && (<div>
              <div style={{color:'rgba(255,255,255,0.5)',fontSize:'0.75rem',marginBottom:'6px'}}>Voice:</div>
              <select value={speech.voiceName} onChange={e=>speech.setVoice(e.target.value)}
                style={{width:'100%',padding:'8px 12px',borderRadius:'10px',background:'rgba(0,0,0,0.4)',border:'1px solid rgba(255,255,255,0.15)',color:'#fff',fontSize:'0.85rem'}}>
                {speech.voiceList.map(v => <option key={v.name} value={v.name}>{v.name} ({v.lang})</option>)}
              </select>
            </div>)}
            <div style={{display:'flex',gap:'16px'}}>
              <div style={{flex:1}}>
                <div style={{color:'rgba(255,255,255,0.5)',fontSize:'0.75rem',marginBottom:'4px'}}>Speed: {speech.rate.toFixed(2)}x</div>
                <input type="range" min="0.7" max="1.5" step="0.05" value={speech.rate}
                  onChange={e=>speech.setRate(parseFloat(e.target.value))}
                  style={{width:'100%',accentColor:'#f7b733'}}/>
              </div>
              <div style={{flex:1}}>
                <div style={{color:'rgba(255,255,255,0.5)',fontSize:'0.75rem',marginBottom:'4px'}}>Pitch: {speech.pitch.toFixed(2)}</div>
                <input type="range" min="0.5" max="1.5" step="0.05" value={speech.pitch}
                  onChange={e=>speech.setPitch(parseFloat(e.target.value))}
                  style={{width:'100%',accentColor:'#f7b733'}}/>
              </div>
            </div>
            <div style={{color:'rgba(255,255,255,0.3)',fontSize:'0.7rem',lineHeight:1.5}}>
              Tip: Voice quality varies by browser. Edge and Chrome have the best neural voices. Try different voices to find your favorite host!
            </div>
          </div>)}
        </div>
        {/* Sound Effects & Music Controls */}
        <div style={{background:'rgba(255,255,255,0.05)',borderRadius:'14px',padding:'16px',marginBottom:'20px'}}>
          <div style={{display:'flex',alignItems:'center',gap:'10px',marginBottom:'12px'}}>
            <span style={{fontSize:'1.2rem'}}>🎵</span>
            <span style={{fontWeight:700,color:'#f7b733',fontSize:'0.95rem'}}>Sound & Music</span>
          </div>
          <div style={{display:'flex',gap:'8px',marginBottom:'12px'}}>
            <button onClick={sound.toggleSfx}
              style={{flex:1,background:sound.sfxEnabled?'linear-gradient(135deg,#2ed573,#7bed9f)':'rgba(255,255,255,0.1)',
                border:'none',borderRadius:'20px',padding:'8px 16px',color:'#fff',fontSize:'0.8rem',fontWeight:600,cursor:'pointer',
                transition:'all 0.2s'}}>
              {sound.sfxEnabled ? '🔊 SFX ON' : '🔇 SFX OFF'}
            </button>
            <button onClick={sound.toggleMusic}
              style={{flex:1,background:sound.musicEnabled?'linear-gradient(135deg,#3498db,#2980b9)':'rgba(255,255,255,0.1)',
                border:'none',borderRadius:'20px',padding:'8px 16px',color:'#fff',fontSize:'0.8rem',fontWeight:600,cursor:'pointer',
                transition:'all 0.2s'}}>
              {sound.musicEnabled ? '🎶 Music ON' : '🎶 Music OFF'}
            </button>
          </div>
          <div style={{display:'flex',gap:'16px'}}>
            <div style={{flex:1}}>
              <div style={{color:'rgba(255,255,255,0.5)',fontSize:'0.7rem',marginBottom:'4px'}}>SFX Volume</div>
              <input type="range" min="0" max="1" step="0.1" value={sound.sfxVolume}
                onChange={e=>{sound.setSfxVolume(parseFloat(e.target.value)); if(sound.sfxEnabled) sound.click();}}
                style={{width:'100%',accentColor:'#2ed573'}}/>
            </div>
            <div style={{flex:1}}>
              <div style={{color:'rgba(255,255,255,0.5)',fontSize:'0.7rem',marginBottom:'4px'}}>Music Volume</div>
              <input type="range" min="0" max="1" step="0.1" value={sound.musicVolume}
                onChange={e=>sound.setMusicVolume(parseFloat(e.target.value))}
                style={{width:'100%',accentColor:'#3498db'}}/>
            </div>
          </div>
        </div>
        <div style={{display:'flex',flexDirection:'column',gap:'10px',marginBottom:'10px'}}>
          <Btn onClick={() => startGame('classic')}>CLASSIC MODE 🌎</Btn>
          <button onClick={() => startGame('survival')}
            style={{...S.btn,background:'linear-gradient(135deg,#e74c3c,#c0392b)',boxShadow:'0 4px 20px rgba(231,76,60,0.3)',fontSize:'1rem',padding:'14px 32px'}}
            onMouseOver={e=>{e.target.style.transform='scale(1.05)';}} onMouseOut={e=>{e.target.style.transform='scale(1)';}}>
            SURVIVAL MODE ❤️❤️❤️
          </button>
          <button onClick={() => { setScreen('mpNameEntry'); sound.click(); }}
            style={{...S.btn,background:'linear-gradient(135deg,#3498db,#2980b9)',boxShadow:'0 4px 20px rgba(52,152,219,0.3)',fontSize:'1rem',padding:'14px 32px'}}
            onMouseOver={e=>{e.target.style.transform='scale(1.05)';}} onMouseOut={e=>{e.target.style.transform='scale(1)';}}>
            MULTIPLAYER 👥
          </button>
          <button onClick={() => { setScreen('duelNameEntry'); sound.click(); }}
            style={{...S.btn,background:'linear-gradient(135deg,#9b59b6,#8e44ad)',boxShadow:'0 4px 20px rgba(155,89,182,0.3)',fontSize:'1rem',padding:'14px 32px'}}
            onMouseOver={e=>{e.target.style.transform='scale(1.05)';}} onMouseOut={e=>{e.target.style.transform='scale(1)';}}>
            HEAD-TO-HEAD DUEL ⚡
          </button>
        </div>
        <div style={{display:'flex',justifyContent:'center',gap:'12px',marginBottom:'6px',fontSize:'0.7rem',color:'rgba(255,255,255,0.35)',flexWrap:'wrap'}}>
          <span>🌎 5 rounds, 25 Qs</span>
          <span>❤️ 3 lives, endless Qs</span>
          <span>👥 2 players, turns</span>
          <span>⚡ 3 players, buzzer</span>
        </div>
        <div style={{display:'flex',gap:'10px',justifyContent:'center',marginTop:'16px'}}>
          <button onClick={() => { setScreen('profile'); sound.click(); }}
            style={{background:'rgba(255,255,255,0.08)',border:'1px solid rgba(255,255,255,0.15)',
              borderRadius:'14px',padding:'12px 24px',color:'rgba(255,255,255,0.7)',fontSize:'0.9rem',
              cursor:'pointer',transition:'all 0.2s'}}
            onMouseOver={e=>{e.target.style.background='rgba(255,255,255,0.15)';e.target.style.color='#fff';}}
            onMouseOut={e=>{e.target.style.background='rgba(255,255,255,0.08)';e.target.style.color='rgba(255,255,255,0.7)';}}>
            👤 My Profile
          </button>
          <button onClick={() => { setScreen('leaderboard'); sound.click(); }}
            style={{background:'rgba(247,183,51,0.1)',border:'1px solid rgba(247,183,51,0.25)',
              borderRadius:'14px',padding:'12px 24px',color:'rgba(247,183,51,0.8)',fontSize:'0.9rem',
              cursor:'pointer',transition:'all 0.2s'}}
            onMouseOver={e=>{e.target.style.background='rgba(247,183,51,0.2)';e.target.style.color='#f7b733';}}
            onMouseOut={e=>{e.target.style.background='rgba(247,183,51,0.1)';e.target.style.color='rgba(247,183,51,0.8)';}}>
            🏆 Leaderboard
          </button>
        </div>
        <div style={{marginTop:'16px',fontSize:'0.8rem',color:'rgba(255,255,255,0.3)'}}>Preparing for the 8th Grade GeoBee • {QUESTIONS.length} questions in the bank</div>
      </div>
    </div>
  );

  if (screen === 'intro') return (
    <div style={S.wrap}><div style={S.stars}/>{BadgeToast}
      <div style={animCard()}>
        <Host>{hostText}</Host>
        <Host label={gameMode === 'survival' ? "❤️ Survival Rules" : gameMode === 'multiplayer' ? "👥 Match Rules" : gameMode === 'duel' ? "⚡ Duel Rules" : "📋 Tonight's Game"}>
          {gameMode === 'survival'
            ? "All questions from easy to legendary. 3 lives — wrong answers cost a life. No rounds, no breaks. How long can you survive?"
            : gameMode === 'multiplayer'
            ? `${mpNames[0]} and ${mpNames[1]} take turns answering. ${QUESTIONS_PER_ROUND * TOTAL_ROUNDS * 2} questions total. Highest score at the end wins!`
            : gameMode === 'duel'
            ? `${DUEL_QS} questions. All 3 players see the question — buzz in first to answer! Correct = +150 + time bonus. Wrong = -50 and others can STEAL. Use keys Q/W/E or tap your buzzer!`
            : `${QUESTIONS_PER_ROUND * TOTAL_ROUNDS} questions. 5 rounds. 1 champion. Zero mercy. Let's see what you've got!`}
        </Host>
        {(lifelines.fiftyFifty > 0 || lifelines.skip > 0 || lifelines.extraTime > 0) && (
          <div style={{background:'rgba(155,89,182,0.1)',border:'1px solid rgba(155,89,182,0.3)',borderRadius:'14px',padding:'14px 18px',marginBottom:'20px'}}>
            <div style={{fontWeight:700,color:'#9b59b6',marginBottom:'8px',fontSize:'0.85rem'}}>🛡️ Lifelines Available</div>
            <div style={{display:'flex',gap:'12px',flexWrap:'wrap',fontSize:'0.85rem',color:'rgba(255,255,255,0.7)'}}>
              {lifelines.fiftyFifty > 0 && <span>🎯 50/50</span>}
              {lifelines.skip > 0 && <span>⏭️ Skip</span>}
              {lifelines.extraTime > 0 && <span>⏱️ +10s</span>}
            </div>
          </div>
        )}
        <Btn onClick={gameMode === 'survival' ? startQuestion : proceedFromIntro}>
          {gameMode === 'survival' ? "LET'S SURVIVE! ❤️" : gameMode === 'multiplayer' ? `${mpNames[0]} GOES FIRST! ⚔️` : gameMode === 'duel' ? "START THE DUEL! ⚡" : "BRING IT ON! 🔥"}
        </Btn>
      </div>
    </div>
  );

  if (screen === 'roundIntro') return (
    <div style={S.wrap}><div style={S.stars}/>{BadgeToast}
      <div style={animCard({textAlign:'center'})}>
        <div style={{fontSize:'1rem',color:'rgba(255,255,255,0.4)',textTransform:'uppercase',letterSpacing:'3px',marginBottom:'10px'}}>Round {currentRound}</div>
        <div style={{fontSize:'2rem',fontWeight:800,color:'#f7b733',marginBottom:'20px'}}>"{ROUND_NAMES[currentRound]}"</div>
        <Host>{hostText}</Host>
        {score > 0 && <div style={{color:'rgba(255,255,255,0.5)',marginBottom:'20px',fontSize:'0.9rem'}}>
          Score: <span style={{color:'#f7b733',fontWeight:700}}>{score}</span> • Streak: <span style={{color:streak>=3?'#2ed573':'#fff',fontWeight:700}}>{streak}🔥</span>
        </div>}
        <Btn onClick={startQuestion}>START ROUND {currentRound} →</Btn>
      </div>
    </div>
  );

  if (screen === 'question' && currentQ) return (
    <div style={S.wrap}><div style={S.stars}/>{BadgeToast}{ConfettiOverlay}
      <div style={animCard()}>
        {/* Mode indicator bar */}
        {gameMode === 'survival' && (
          <div style={{display:'flex',justifyContent:'center',gap:'8px',marginBottom:'12px'}}>
            {[...Array(3)].map((_, i) => (
              <span key={i} style={{fontSize:'1.4rem',opacity:i < survivalLives ? 1 : 0.2,transition:'opacity 0.3s'}}>❤️</span>
            ))}
          </div>
        )}
        {gameMode === 'multiplayer' && (
          <div style={{display:'flex',justifyContent:'center',gap:'16px',marginBottom:'12px'}}>
            {players.map((p, i) => (
              <div key={i} style={{padding:'6px 14px',borderRadius:'10px',fontSize:'0.8rem',fontWeight:700,
                background:i===currentPlayer?'linear-gradient(135deg,rgba(52,152,219,0.3),rgba(41,128,185,0.3))':'rgba(255,255,255,0.05)',
                border:i===currentPlayer?'1px solid rgba(52,152,219,0.5)':'1px solid rgba(255,255,255,0.08)',
                color:i===currentPlayer?'#3498db':'rgba(255,255,255,0.4)'}}>
                {p.name}: {p.score} pts
              </div>
            ))}
          </div>
        )}
        <div style={S.bar}>
          <div><span style={{color:'rgba(255,255,255,0.5)'}}>Score:</span> <span style={{fontWeight:700,color:'#f7b733'}}>{gameMode==='multiplayer'?players[currentPlayer]?.score||0:score}</span></div>
          <div><span style={{color:'rgba(255,255,255,0.5)'}}>Q:</span> <span style={{fontWeight:700}}>{qIndex+1}{gameMode!=='survival'?`/${totalQs}`:''}</span></div>
          <div>{streak >= 3 && <span style={{color:'#2ed573',fontWeight:700,animation:'streakFlame 0.8s ease-in-out infinite',display:'inline-block'}}>{streak}🔥</span>}</div>
          <div><span style={{fontSize:'1.3rem',fontWeight:800,color:timer<=5?'#ff4757':timer<=10?'#ffa502':'#fff'}}>{timer}s</span></div>
        </div>
        <div style={{height:'6px',borderRadius:'3px',background:'rgba(255,255,255,0.1)',marginBottom:'12px',overflow:'hidden'}}>
          <div style={{height:'100%',borderRadius:'3px',transition:'width 1s linear,background 0.3s',background:timerColor,width:`${timerPct}%`}}/>
        </div>
        {/* Lifeline buttons */}
        {!showSetup && selected === null && (lifelines.fiftyFifty > 0 || lifelines.skip > 0 || lifelines.extraTime > 0) && (
          <div style={{display:'flex',justifyContent:'center',gap:'8px',marginBottom:'16px'}}>
            {lifelines.fiftyFifty > 0 && (
              <button onClick={useFiftyFifty}
                style={{background:'rgba(155,89,182,0.15)',border:'1px solid rgba(155,89,182,0.4)',borderRadius:'10px',
                  padding:'6px 14px',color:'#9b59b6',fontSize:'0.8rem',fontWeight:700,cursor:'pointer',transition:'all 0.2s'}}
                onMouseOver={e=>e.target.style.background='rgba(155,89,182,0.3)'} onMouseOut={e=>e.target.style.background='rgba(155,89,182,0.15)'}>
                🎯 50/50
              </button>
            )}
            {lifelines.skip > 0 && (
              <button onClick={useSkipQuestion}
                style={{background:'rgba(241,196,15,0.15)',border:'1px solid rgba(241,196,15,0.4)',borderRadius:'10px',
                  padding:'6px 14px',color:'#f1c40f',fontSize:'0.8rem',fontWeight:700,cursor:'pointer',transition:'all 0.2s'}}
                onMouseOver={e=>e.target.style.background='rgba(241,196,15,0.3)'} onMouseOut={e=>e.target.style.background='rgba(241,196,15,0.15)'}>
                ⏭️ Skip
              </button>
            )}
            {lifelines.extraTime > 0 && (
              <button onClick={useExtraTime}
                style={{background:'rgba(46,213,115,0.15)',border:'1px solid rgba(46,213,115,0.4)',borderRadius:'10px',
                  padding:'6px 14px',color:'#2ed573',fontSize:'0.8rem',fontWeight:700,cursor:'pointer',transition:'all 0.2s'}}
                onMouseOver={e=>e.target.style.background='rgba(46,213,115,0.3)'} onMouseOut={e=>e.target.style.background='rgba(46,213,115,0.15)'}>
                ⏱️ +10s
              </button>
            )}
          </div>
        )}
        {showSetup ? (
          <div style={{textAlign:'center',padding:'40px 0'}}>
            <div style={S.cat}>{currentQ.cat}</div>
            <div style={{fontSize:'1.15rem',color:'rgba(255,255,255,0.8)',lineHeight:1.7,fontStyle:'italic'}}>🎙️ "{setupText}"</div>
          </div>
        ) : (<>
          <div style={S.cat}>{currentQ.cat}</div>
          {/* Flag display for flag questions */}
          {currentQ.type === 'flag' && (
            <div style={{textAlign:'center',marginBottom:'16px'}}>
              <div style={{fontSize:'6rem',lineHeight:1.2,filter:'drop-shadow(0 4px 12px rgba(0,0,0,0.3))',
                background:'rgba(255,255,255,0.05)',borderRadius:'16px',padding:'12px 24px',display:'inline-block',
                border:'1px solid rgba(255,255,255,0.1)'}}>
                {flagEmoji(currentQ.flag)}
              </div>
            </div>
          )}
          {/* SVG silhouette for map outline questions */}
          {currentQ.type === 'silhouette' && COUNTRY_OUTLINES[currentQ.shape] && (
            <div style={{textAlign:'center',marginBottom:'16px'}}>
              <div style={{background:'rgba(255,255,255,0.05)',borderRadius:'16px',padding:'16px',display:'inline-block',
                border:'1px solid rgba(255,255,255,0.1)'}}>
                <svg viewBox="0 0 100 100" width="140" height="140" style={{filter:'drop-shadow(0 2px 8px rgba(247,183,51,0.3))'}}>
                  <path d={COUNTRY_OUTLINES[currentQ.shape]} fill="#f7b733" stroke="#fc4a1a" strokeWidth="1.5" opacity="0.9"/>
                </svg>
                <div style={{fontSize:'0.7rem',color:'rgba(255,255,255,0.3)',marginTop:'4px'}}>Country Outline</div>
              </div>
            </div>
          )}
          {/* Food Origins display */}
          {currentQ.type === 'food' && (
            <div style={{textAlign:'center',marginBottom:'16px'}}>
              <div style={{background:'linear-gradient(135deg,rgba(255,165,2,0.12),rgba(255,107,53,0.12))',borderRadius:'16px',
                padding:'16px 24px',display:'inline-block',border:'1px solid rgba(255,165,2,0.25)'}}>
                <div style={{fontSize:'4rem',lineHeight:1.2,marginBottom:'4px'}}>{currentQ.emoji}</div>
                <div style={{fontSize:'1.1rem',fontWeight:700,color:'#ffa502',letterSpacing:'0.5px'}}>{currentQ.dish}</div>
              </div>
            </div>
          )}
          {/* Geo Scramble display */}
          {currentQ.type === 'scramble' && (
            <div style={{textAlign:'center',marginBottom:'16px'}}>
              <div style={{background:'linear-gradient(135deg,rgba(155,89,182,0.12),rgba(52,152,219,0.12))',borderRadius:'16px',
                padding:'20px 24px',display:'inline-block',border:'1px solid rgba(155,89,182,0.25)'}}>
                <div style={{display:'flex',gap:'6px',justifyContent:'center',marginBottom:'10px'}}>
                  {currentQ.scrambled.split('').map((letter,li) => (
                    <span key={li} style={{background:'rgba(155,89,182,0.3)',border:'2px solid rgba(155,89,182,0.5)',
                      borderRadius:'8px',width:'36px',height:'42px',display:'flex',alignItems:'center',justifyContent:'center',
                      fontSize:'1.4rem',fontWeight:800,color:'#d4a5ff',fontFamily:'monospace',
                      animation:`popIn 0.3s ease ${li*0.05}s both`}}>{letter}</span>
                  ))}
                </div>
                <div style={{fontSize:'0.85rem',color:'rgba(255,255,255,0.5)',fontStyle:'italic'}}>💡 {currentQ.clue}</div>
              </div>
            </div>
          )}
          {/* Landmark Clue display */}
          {currentQ.type === 'landmark_clue' && (
            <div style={{textAlign:'center',marginBottom:'16px'}}>
              <div style={{background:'linear-gradient(135deg,rgba(46,213,115,0.1),rgba(30,144,255,0.1))',borderRadius:'16px',
                padding:'20px 24px',display:'inline-block',border:'1px solid rgba(46,213,115,0.2)',maxWidth:'360px'}}>
                <div style={{fontSize:'3.5rem',lineHeight:1.3,marginBottom:'8px'}}>{currentQ.emoji}</div>
                <div style={{fontSize:'0.95rem',color:'rgba(255,255,255,0.7)',fontStyle:'italic',lineHeight:1.6}}>"{currentQ.clue}"</div>
              </div>
            </div>
          )}
          <div style={{fontSize:'1.3rem',fontWeight:700,marginBottom:'24px',lineHeight:1.5}}>{currentQ.q}</div>
          <div style={{display:'flex',flexDirection:'column',gap:'10px'}}>
            {currentQ.o.map((opt,idx) => {
              const isHidden = hiddenOptions.includes(idx);
              if (isHidden && selected === null) return (
                <div key={idx} style={{...optStyle(idx),opacity:0.15,pointerEvents:'none',borderStyle:'dashed'}}>
                  <span style={{background:'rgba(255,255,255,0.1)',borderRadius:'8px',width:'32px',height:'32px',display:'flex',alignItems:'center',justifyContent:'center',fontWeight:700,fontSize:'0.9rem',flexShrink:0}}>
                    {String.fromCharCode(65+idx)}
                  </span>
                  <span style={{textDecoration:'line-through'}}>{opt}</span>
                </div>
              );
              return (
              <button key={idx} style={{...optStyle(idx), animation: selected === null ? `popIn 0.3s ease-out ${idx*0.08}s both` : undefined}} onClick={()=>handleAnswer(idx)} disabled={selected!==null}
                onMouseOver={e=>{if(selected===null){e.currentTarget.style.background='rgba(255,255,255,0.15)';e.currentTarget.style.borderColor='rgba(255,255,255,0.3)';}}}
                onMouseOut={e=>{if(selected===null){e.currentTarget.style.background='rgba(255,255,255,0.08)';e.currentTarget.style.borderColor='rgba(255,255,255,0.15)';}}}
              >
                <span style={{background:'rgba(255,255,255,0.15)',borderRadius:'8px',width:'32px',height:'32px',display:'flex',alignItems:'center',justifyContent:'center',fontWeight:700,fontSize:'0.9rem',flexShrink:0}}>
                  {selected!==null ? (idx===currentQ.a?'✓':(idx===selected?'✗':String.fromCharCode(65+idx))) : String.fromCharCode(65+idx)}
                </span>
                <span>{opt}</span>
              </button>
              );
            })}
          </div>
        </>)}
      </div>
    </div>
  );

  if (screen === 'result' && currentQ) {
    const isCorrect = selected === currentQ.a;
    const timeBonus = isCorrect ? Math.floor(timer*5) : 0;
    const streakBonus = (isCorrect && streak >= 3) ? (streak-1)*10 : 0;
    return (
      <div style={S.wrap}><div style={S.stars}/>{BadgeToast}{ConfettiOverlay}
        <div style={animCard()}>
          <div style={{textAlign:'center',marginBottom:'20px',animation:'bounceIn 0.4s ease-out'}}>
            <div style={{fontSize:'3rem',marginBottom:'8px'}}>{selected===-1?'⏰':isCorrect?'🎉':'😬'}</div>
            <div style={{fontSize:'1.6rem',fontWeight:800,color:selected===-1?'#ffa502':isCorrect?'#2ed573':'#ff4757'}}>
              {selected===-1?"TIME'S UP!":isCorrect?'CORRECT!':'WRONG!'}
            </div>
          </div>
          <Host>
            {selected===-1 ? `Too slow! The answer was ${currentQ.o[currentQ.a]}. The clock waits for no one!`
              : isCorrect ? currentQ.rq : currentQ.wq}
          </Host>
          {isCorrect && (
            <div style={{display:'flex',justifyContent:'center',gap:'20px',marginBottom:'16px',fontSize:'0.85rem'}}>
              <div style={{textAlign:'center',animation:'scorePopIn 0.3s ease-out 0.1s both'}}><div style={{color:'#2ed573',fontWeight:700}}>+100</div><div style={{color:'rgba(255,255,255,0.4)'}}>base</div></div>
              {timeBonus>0&&<div style={{textAlign:'center',animation:'scorePopIn 0.3s ease-out 0.3s both'}}><div style={{color:'#7bed9f',fontWeight:700}}>+{timeBonus}</div><div style={{color:'rgba(255,255,255,0.4)'}}>speed</div></div>}
              {streakBonus>0&&<div style={{textAlign:'center',animation:'scorePopIn 0.3s ease-out 0.5s both'}}><div style={{color:'#ffa502',fontWeight:700}}>+{streakBonus}</div><div style={{color:'rgba(255,255,255,0.4)'}}>streak</div></div>}
            </div>
          )}
          {STREAK_COMMENTS[streak] && isCorrect && (
            <div style={{background:'rgba(46,213,115,0.1)',border:'1px solid rgba(46,213,115,0.3)',borderRadius:'12px',padding:'12px 16px',textAlign:'center',fontSize:'0.9rem',color:'#7bed9f',marginBottom:'16px'}}>
              🔥 {STREAK_COMMENTS[streak][qIndex % STREAK_COMMENTS[streak].length]}
            </div>
          )}
          {!isCorrect && selected!==-1 && (
            <div style={{color:'rgba(255,255,255,0.6)',fontSize:'0.9rem',marginBottom:'12px'}}>
              The correct answer was: <strong style={{color:'#2ed573'}}>{currentQ.o[currentQ.a]}</strong>
            </div>
          )}
          <div style={S.fact}>
            <div style={{fontWeight:700,color:'#2ed573',marginBottom:'6px',fontSize:'0.8rem',textTransform:'uppercase',letterSpacing:'1px'}}>📚 GeoBee Fact</div>
            {currentQ.f}
          </div>
          {gameMode === 'survival' && !isCorrect && (
            <div style={{display:'flex',justifyContent:'center',gap:'8px',marginBottom:'16px'}}>
              {[...Array(3)].map((_, i) => (
                <span key={i} style={{fontSize:'1.3rem',opacity:i < survivalLives ? 1 : 0.2,transition:'opacity 0.3s'}}>{i < survivalLives ? '❤️' : '🖤'}</span>
              ))}
              {survivalLives <= 0 && <span style={{color:'#ff4757',fontWeight:700,fontSize:'0.9rem',marginLeft:'8px'}}>NO LIVES LEFT!</span>}
            </div>
          )}
          {gameMode === 'multiplayer' && (
            <div style={{textAlign:'center',marginBottom:'12px',fontSize:'0.85rem',color:'rgba(255,255,255,0.5)'}}>
              {players[currentPlayer]?.name}'s turn • Score: {players[currentPlayer]?.score || 0}
            </div>
          )}
          <Btn onClick={nextQuestion}>{gameMode==='survival'&&survivalLives<=0?'SEE RESULTS 🏆':qIndex+1>=totalQs?'SEE RESULTS 🏆':'NEXT QUESTION →'}</Btn>
        </div>
      </div>
    );
  }

  // ─── Duel Question Screen ──────────────────────────────────────────────
  if (screen === 'duelQuestion') {
    const q = gameQuestions[duelQIndex];
    return (
      <div style={S.wrap}><div style={S.stars}/>{BadgeToast}{ConfettiOverlay}
        <div style={animCard()}>
          {/* Scoreboard bar */}
          <div style={{display:'flex',gap:'6px',marginBottom:'16px'}}>
            {duelPlayers.map((p,i) => (
              <div key={i} style={{flex:1,background:`${DUEL_COLORS[i]}15`,border:`1px solid ${DUEL_COLORS[i]}40`,
                borderRadius:'10px',padding:'8px',textAlign:'center',
                boxShadow:buzzedPlayer===i?`0 0 20px ${DUEL_COLORS[i]}60`:'none',
                transition:'all 0.3s'}}>
                <div style={{fontWeight:700,color:DUEL_COLORS[i],fontSize:'0.75rem',marginBottom:'2px'}}>{p.name}</div>
                <div style={{fontWeight:800,fontSize:'1.2rem',color:'#fff'}}>{p.score}</div>
              </div>
            ))}
          </div>
          {/* Round label */}
          <div style={{textAlign:'center',color:'rgba(255,255,255,0.4)',fontSize:'0.8rem',marginBottom:'8px'}}>{duelRoundLabel}</div>
          {/* Category badge */}
          {q && <div style={{textAlign:'center'}}><span style={S.cat}>{q.cat}</span></div>}
          {/* Setup or Question */}
          {showSetup ? (
            <Host>{setupText}</Host>
          ) : (
            <>
              <div style={{fontSize:'1.25rem',fontWeight:600,lineHeight:1.6,marginBottom:'20px',textAlign:'center',minHeight:'60px'}}>
                {q?.q}
              </div>
              {/* Buzzer phase */}
              {duelPhase === 'buzzer' && (
                <div style={{textAlign:'center',marginBottom:'20px'}}>
                  <div style={{fontSize:'0.85rem',color:'rgba(255,255,255,0.5)',marginBottom:'12px'}}>
                    BUZZ IN! ({buzzTimer}s)
                  </div>
                  <div style={{width:'100%',height:'6px',background:'rgba(255,255,255,0.1)',borderRadius:'3px',overflow:'hidden',marginBottom:'16px'}}>
                    <div style={{height:'100%',background:'linear-gradient(90deg,#f7b733,#fc4a1a)',borderRadius:'3px',
                      width:`${(buzzTimer/8)*100}%`,transition:'width 1s linear'}}/>
                  </div>
                  <div style={{display:'flex',gap:'10px'}}>
                    {duelPlayers.map((p,i) => (
                      <button key={i} onClick={() => duelBuzzIn(i)}
                        style={{flex:1,padding:'18px 8px',borderRadius:'14px',border:`2px solid ${DUEL_COLORS[i]}`,
                          background:`${DUEL_COLORS[i]}20`,color:DUEL_COLORS[i],fontSize:'1rem',fontWeight:700,
                          cursor:'pointer',transition:'all 0.15s',position:'relative'}}>
                        <div style={{fontSize:'1.5rem',marginBottom:'4px'}}>🔔</div>
                        <div>{p.name}</div>
                        <div style={{fontSize:'0.7rem',opacity:0.6,marginTop:'2px'}}>Press {DUEL_KEYS[i]} or {i+1}</div>
                      </button>
                    ))}
                  </div>
                </div>
              )}
              {/* Steal phase */}
              {duelPhase === 'steal' && (
                <div style={{textAlign:'center',marginBottom:'20px'}}>
                  <div style={{fontSize:'0.95rem',color:'#fc4a1a',fontWeight:700,marginBottom:'8px',animation:'streakFlame 0.8s ease-in-out infinite'}}>
                    STEAL OPPORTUNITY! ({buzzTimer}s)
                  </div>
                  <div style={{width:'100%',height:'6px',background:'rgba(255,255,255,0.1)',borderRadius:'3px',overflow:'hidden',marginBottom:'16px'}}>
                    <div style={{height:'100%',background:'linear-gradient(90deg,#e74c3c,#c0392b)',borderRadius:'3px',
                      width:`${(buzzTimer/8)*100}%`,transition:'width 1s linear'}}/>
                  </div>
                  <div style={{display:'flex',gap:'10px'}}>
                    {duelPlayers.map((p,i) => {
                      const canSteal = stealQueue.includes(i);
                      return (
                        <button key={i} onClick={() => canSteal && duelStealBuzz(i)}
                          disabled={!canSteal}
                          style={{flex:1,padding:'18px 8px',borderRadius:'14px',
                            border:`2px solid ${canSteal ? DUEL_COLORS[i] : 'rgba(255,255,255,0.1)'}`,
                            background:canSteal ? `${DUEL_COLORS[i]}20` : 'rgba(255,255,255,0.03)',
                            color:canSteal ? DUEL_COLORS[i] : 'rgba(255,255,255,0.2)',
                            fontSize:'1rem',fontWeight:700,cursor:canSteal?'pointer':'not-allowed',
                            transition:'all 0.15s',opacity:canSteal?1:0.4}}>
                          <div style={{fontSize:'1.5rem',marginBottom:'4px'}}>{canSteal ? '🔔' : '❌'}</div>
                          <div>{p.name}</div>
                          {canSteal && <div style={{fontSize:'0.7rem',opacity:0.6,marginTop:'2px'}}>Press {DUEL_KEYS[i]}</div>}
                        </button>
                      );
                    })}
                  </div>
                </div>
              )}
              {/* Answering phase — show answer options */}
              {(duelPhase === 'answering') && buzzedPlayer !== null && (
                <div>
                  <div style={{textAlign:'center',marginBottom:'12px',fontSize:'0.9rem'}}>
                    <span style={{color:DUEL_COLORS[buzzedPlayer],fontWeight:700}}>{duelPlayers[buzzedPlayer]?.name}</span>
                    <span style={{color:'rgba(255,255,255,0.5)'}}> is answering... ({answerTimer}s)</span>
                  </div>
                  <div style={{width:'100%',height:'4px',background:'rgba(255,255,255,0.1)',borderRadius:'2px',overflow:'hidden',marginBottom:'16px'}}>
                    <div style={{height:'100%',background:DUEL_COLORS[buzzedPlayer],borderRadius:'2px',
                      width:`${(answerTimer/10)*100}%`,transition:'width 1s linear'}}/>
                  </div>
                  <div style={{display:'flex',flexDirection:'column',gap:'10px'}}>
                    {q && q.o.map((opt, oi) => (
                      <button key={oi} onClick={() => duelAnswer(oi)} disabled={selected !== null}
                        style={{padding:'14px 20px',borderRadius:'12px',border:'1px solid rgba(255,255,255,0.15)',
                          background:selected===oi?(oi===q.a?'rgba(46,213,115,0.3)':'rgba(255,71,87,0.3)')
                            :selected!==null&&oi===q.a?'rgba(46,213,115,0.2)':'rgba(255,255,255,0.06)',
                          color:'#fff',fontSize:'1rem',cursor:selected===null?'pointer':'default',
                          textAlign:'left',transition:'all 0.2s',fontWeight:selected===oi?700:400}}>
                        <span style={{color:'rgba(255,255,255,0.4)',marginRight:'10px',fontWeight:700}}>{String.fromCharCode(65+oi)}</span>
                        {opt}
                        {selected!==null && oi===q.a && <span style={{float:'right',color:'#2ed573'}}>✓</span>}
                        {selected===oi && oi!==q.a && <span style={{float:'right',color:'#ff4757'}}>✗</span>}
                      </button>
                    ))}
                  </div>
                </div>
              )}
              {/* Result phase */}
              {duelPhase === 'result' && q && (
                <div>
                  {selected === -1 ? (
                    <div style={{textAlign:'center',marginBottom:'16px'}}>
                      <div style={{fontSize:'1.5rem',marginBottom:'8px'}}>⏰</div>
                      <div style={{color:'rgba(255,255,255,0.7)',fontSize:'0.95rem'}}>Nobody buzzed in! The answer was <span style={{color:'#2ed573',fontWeight:700}}>{q.o[q.a]}</span></div>
                    </div>
                  ) : (
                    <div style={{display:'flex',flexDirection:'column',gap:'10px',marginBottom:'16px'}}>
                      {q.o.map((opt, oi) => (
                        <div key={oi} style={{padding:'14px 20px',borderRadius:'12px',
                          border:oi===q.a?'1px solid rgba(46,213,115,0.4)':'1px solid rgba(255,255,255,0.08)',
                          background:oi===q.a?'rgba(46,213,115,0.15)':selected===oi?'rgba(255,71,87,0.15)':'rgba(255,255,255,0.03)',
                          color:'#fff',fontSize:'1rem'}}>
                          <span style={{color:'rgba(255,255,255,0.4)',marginRight:'10px',fontWeight:700}}>{String.fromCharCode(65+oi)}</span>
                          {opt}
                          {oi===q.a && <span style={{float:'right',color:'#2ed573',fontWeight:700}}>✓</span>}
                        </div>
                      ))}
                    </div>
                  )}
                  <div style={S.fact}>{q.f}</div>
                  <div style={{marginTop:'16px'}}>
                    <Btn onClick={duelNextQuestion}>{duelQIndex+1>=DUEL_QS?'SEE RESULTS 🏆':'NEXT QUESTION →'}</Btn>
                  </div>
                </div>
              )}
            </>
          )}
        </div>
      </div>
    );
  }

  // ─── Duel Game Over Screen ──────────────────────────────────────────────
  if (screen === 'duelGameOver') {
    const sorted = [...duelPlayers].sort((a,b) => b.score - a.score);
    const podiumOrder = sorted.length >= 3 ? [sorted[1], sorted[0], sorted[2]] : sorted; // silver, gold, bronze layout
    const podiumHeights = ['120px','160px','90px'];
    const podiumLabels = ['🥈 2nd','🥇 1st','🥉 3rd'];
    const podiumColors = ['#C0C0C0','#FFD700','#CD7F32'];
    const isTie = sorted[0].score === sorted[1].score;
    return (
      <div style={S.wrap}><div style={S.stars}/>{BadgeToast}{ConfettiOverlay}
        <div style={animCard({textAlign:'center'})}>
          <div style={{fontSize:'3.5rem',marginBottom:'10px',animation:'bounceIn 0.5s ease-out'}}>⚡</div>
          <div style={{...S.title,fontSize:'2.5rem',animation:'scorePopIn 0.6s ease-out 0.2s both'}}>
            {isTie ? "IT'S A TIE!" : `${sorted[0].name} WINS!`}
          </div>
          <Host>{isTie ? "What an incredibly close duel! Nobody could pull ahead!" : `${sorted[0].name} dominated the duel! What a performance!`}</Host>
          {/* Podium */}
          <div style={{display:'flex',alignItems:'flex-end',justifyContent:'center',gap:'8px',marginBottom:'24px',height:'200px'}}>
            {podiumOrder.map((p,i) => {
              const pColor = DUEL_COLORS[duelPlayers.findIndex(dp => dp.name === p.name)] || podiumColors[i];
              return (
                <div key={i} style={{flex:1,display:'flex',flexDirection:'column',alignItems:'center',animation:`resultSlideUp 0.4s ease-out ${0.2+i*0.15}s both`}}>
                  <div style={{fontSize:'1.5rem',marginBottom:'4px'}}>{podiumLabels[i]}</div>
                  <div style={{fontWeight:700,color:pColor,fontSize:'0.9rem',marginBottom:'6px'}}>{p.name}</div>
                  <div style={{width:'100%',height:podiumHeights[i],background:`linear-gradient(180deg,${pColor}40,${pColor}15)`,
                    border:`1px solid ${pColor}60`,borderRadius:'12px 12px 0 0',display:'flex',flexDirection:'column',
                    alignItems:'center',justifyContent:'center',padding:'8px'}}>
                    <div style={{fontSize:'1.8rem',fontWeight:800,color:'#fff'}}>{p.score}</div>
                    <div style={{fontSize:'0.75rem',color:'rgba(255,255,255,0.5)'}}>points</div>
                  </div>
                </div>
              );
            })}
          </div>
          {/* Detailed stats */}
          <div style={{display:'flex',gap:'8px',marginBottom:'20px'}}>
            {sorted.map((p,i) => {
              const pColor = DUEL_COLORS[duelPlayers.findIndex(dp => dp.name === p.name)] || '#fff';
              return (
                <div key={i} style={{flex:1,background:'rgba(255,255,255,0.05)',borderRadius:'12px',padding:'12px',
                  border:i===0 ? `1px solid ${pColor}40` : '1px solid rgba(255,255,255,0.08)'}}>
                  <div style={{fontWeight:700,color:pColor,fontSize:'0.8rem',marginBottom:'8px'}}>{p.name}</div>
                  <div style={{fontSize:'0.8rem',color:'rgba(255,255,255,0.6)',lineHeight:1.8}}>
                    <div>✅ {p.correct} correct</div>
                    <div>❌ {p.wrong} wrong</div>
                    <div>🏴‍☠️ {p.steals} steal{p.steals!==1?'s':''}</div>
                  </div>
                </div>
              );
            })}
          </div>
          {/* Question review */}
          <div style={{background:'rgba(255,255,255,0.05)',borderRadius:'14px',padding:'16px',marginBottom:'24px',textAlign:'left',maxHeight:'180px',overflowY:'auto'}}>
            <div style={{fontWeight:700,marginBottom:'10px',fontSize:'0.85rem',color:'rgba(255,255,255,0.5)',textTransform:'uppercase',letterSpacing:'1px'}}>Question Review</div>
            {history.map((h,i) => (
              <div key={i} style={{display:'flex',alignItems:'flex-start',gap:'10px',padding:'8px 0',borderBottom:i<history.length-1?'1px solid rgba(255,255,255,0.05)':'none',fontSize:'0.85rem'}}>
                <span style={{color:h.correct?'#2ed573':h.buzzedBy==='nobody'?'rgba(255,255,255,0.3)':'#ff4757',fontWeight:700,flexShrink:0,width:'20px'}}>
                  {h.correct?'✓':h.buzzedBy==='nobody'?'—':'✗'}
                </span>
                <span style={{color:'rgba(255,255,255,0.7)',flex:1}}>{h.question}</span>
                <span style={{color:'rgba(255,255,255,0.3)',fontSize:'0.75rem',flexShrink:0}}>{h.buzzedBy || ''}</span>
              </div>
            ))}
          </div>
          <Btn onClick={() => startGame('duel')}>REMATCH! ⚡</Btn>
          <button onClick={() => { setScreen('title'); sound.click(); }}
            style={{marginTop:'8px',background:'rgba(255,255,255,0.08)',border:'1px solid rgba(255,255,255,0.15)',
              borderRadius:'12px',padding:'10px 24px',color:'rgba(255,255,255,0.6)',fontSize:'0.85rem',cursor:'pointer',
              display:'block',margin:'8px auto 0'}}
            onMouseOver={e=>{e.target.style.color='#fff';}} onMouseOut={e=>{e.target.style.color='rgba(255,255,255,0.6)';}}>
            Back to Menu →
          </button>
          <div style={{marginTop:'12px',fontSize:'0.8rem',color:'rgba(255,255,255,0.3)'}}>
            {mapProgress.discovered.length} countries discovered • {badges.earned.length}/{ALL_BADGE_DEFINITIONS.length} badges
          </div>
        </div>
      </div>
    );
  }

  if (screen === 'gameOver') {
    const pct = Math.round((correctCount/totalQs)*100);
    const streakBonusLabel = dailyStreak.getBonus() > 0 ? `(+${dailyStreak.getBonus()}% streak bonus!)` : '';
    const mpWinner = gameMode === 'multiplayer' ? (players[0].score > players[1].score ? players[0].name : players[1].score > players[0].score ? players[1].name : null) : null;
    return (
      <div style={S.wrap}><div style={S.stars}/>{BadgeToast}{ConfettiOverlay}
        <div style={animCard({textAlign:'center'})}>
          <div style={{fontSize:'3.5rem',marginBottom:'10px',animation:'bounceIn 0.5s ease-out'}}>{gameMode==='multiplayer'?'⚔️':gameMode==='survival'?'💀':'🏆'}</div>
          <div style={{...S.title,fontSize:'2.5rem',animation:'scorePopIn 0.6s ease-out 0.2s both'}}>
            {gameMode==='survival'?'SURVIVED!':gameMode==='multiplayer'?(mpWinner?`${mpWinner} WINS!`:"IT'S A TIE!"):'GAME OVER!'}
          </div>
          {gameMode === 'multiplayer' ? (
            <>
              <Host>{mpWinner ? `${mpWinner} takes the crown! What a battle!` : "Neither player could pull ahead! Incredible match!"}</Host>
              <div style={{display:'flex',gap:'12px',marginBottom:'24px'}}>
                <div style={{...S.statCard,border:players[0].score>=players[1].score?'2px solid #3498db':'2px solid transparent'}}>
                  <div style={{fontWeight:700,color:'#3498db',marginBottom:'8px',fontSize:'0.85rem'}}>{players[0].name}</div>
                  <div style={S.statVal}>{players[0].score}</div><div style={S.statLbl}>Score</div>
                  <div style={{marginTop:'8px',fontSize:'0.85rem',color:'rgba(255,255,255,0.5)'}}>{players[0].correct} correct</div>
                </div>
                <div style={{display:'flex',alignItems:'center',fontSize:'1.5rem',color:'rgba(255,255,255,0.3)'}}>VS</div>
                <div style={{...S.statCard,border:players[1].score>=players[0].score?'2px solid #e74c3c':'2px solid transparent'}}>
                  <div style={{fontWeight:700,color:'#e74c3c',marginBottom:'8px',fontSize:'0.85rem'}}>{players[1].name}</div>
                  <div style={S.statVal}>{players[1].score}</div><div style={S.statLbl}>Score</div>
                  <div style={{marginTop:'8px',fontSize:'0.85rem',color:'rgba(255,255,255,0.5)'}}>{players[1].correct} correct</div>
                </div>
              </div>
            </>
          ) : gameMode === 'survival' ? (
            <>
              <Host>{getScoreComment()}</Host>
              <div style={{display:'flex',gap:'12px',marginBottom:'24px',flexWrap:'wrap'}}>
                <div style={S.statCard}><div style={S.statVal}>{qIndex+1}</div><div style={S.statLbl}>Questions Survived</div></div>
                <div style={S.statCard}><div style={S.statVal}>{score}</div><div style={S.statLbl}>Score</div></div>
                <div style={S.statCard}><div style={S.statVal}>{correctCount}</div><div style={S.statLbl}>Correct</div></div>
                <div style={S.statCard}><div style={S.statVal}>{bestStreak}🔥</div><div style={S.statLbl}>Best Streak</div></div>
              </div>
            </>
          ) : (
            <>
              <Host>{getScoreComment()}</Host>
              <div style={{display:'flex',gap:'12px',marginBottom:'24px',flexWrap:'wrap'}}>
                <div style={{...S.statCard,animation:'scorePopIn 0.4s ease-out 0.3s both'}}><div style={S.statVal}>{score}</div><div style={S.statLbl}>Score {streakBonusLabel}</div></div>
                <div style={{...S.statCard,animation:'scorePopIn 0.4s ease-out 0.5s both'}}><div style={S.statVal}>{correctCount}/{totalQs}</div><div style={S.statLbl}>Correct</div></div>
                <div style={{...S.statCard,animation:'scorePopIn 0.4s ease-out 0.7s both'}}><div style={S.statVal}>{pct}%</div><div style={S.statLbl}>Accuracy</div></div>
                <div style={{...S.statCard,animation:'scorePopIn 0.4s ease-out 0.9s both'}}><div style={S.statVal}>{bestStreak}🔥</div><div style={S.statLbl}>Best Streak</div></div>
              </div>
            </>
          )}
          {newBadgesThisGame.length > 0 && (
            <div style={{marginBottom:'20px'}}>
              {/* Regular badges earned */}
              {newBadgesThisGame.filter(b => !b.secret).length > 0 && (
                <div style={{background:'rgba(247,183,51,0.1)',border:'1px solid rgba(247,183,51,0.3)',borderRadius:'14px',padding:'16px',marginBottom:'12px'}}>
                  <div style={{fontWeight:700,color:'#f7b733',marginBottom:'10px',fontSize:'0.85rem',textTransform:'uppercase',letterSpacing:'1px'}}>🏅 Badges Earned This Game</div>
                  <div style={{display:'flex',justifyContent:'center',gap:'16px',flexWrap:'wrap'}}>
                    {newBadgesThisGame.filter(b => !b.secret).map(b => (
                      <div key={b.id} style={{textAlign:'center',animation:'scorePopIn 0.4s ease-out both'}}>
                        <div style={{fontSize:'1.8rem'}}>{b.icon}</div>
                        <div style={{fontSize:'0.75rem',color:'#f7b733',fontWeight:600}}>{b.name}</div>
                      </div>
                    ))}
                  </div>
                </div>
              )}
              {/* Secret badges earned */}
              {newBadgesThisGame.filter(b => b.secret).length > 0 && (
                <div style={{background:'linear-gradient(135deg,rgba(155,89,182,0.15),rgba(52,152,219,0.1))',
                  border:'1px solid rgba(155,89,182,0.35)',borderRadius:'14px',padding:'16px'}}>
                  <div style={{fontWeight:700,color:'#d4a5ff',marginBottom:'10px',fontSize:'0.85rem',textTransform:'uppercase',letterSpacing:'1px'}}>
                    🕵️ Secret Badge{newBadgesThisGame.filter(b=>b.secret).length>1?'s':''} Discovered!
                  </div>
                  <div style={{display:'flex',justifyContent:'center',gap:'16px',flexWrap:'wrap'}}>
                    {newBadgesThisGame.filter(b => b.secret).map(b => (
                      <div key={b.id} style={{textAlign:'center',animation:'bounceIn 0.5s ease-out both'}}>
                        <div style={{fontSize:'1.8rem',animation:'streakFlame 0.8s ease-in-out infinite'}}>{b.icon}</div>
                        <div style={{fontSize:'0.75rem',color:'#d4a5ff',fontWeight:600}}>{b.name}</div>
                      </div>
                    ))}
                  </div>
                </div>
              )}
            </div>
          )}
          <div style={{background:'rgba(255,255,255,0.05)',borderRadius:'14px',padding:'16px',marginBottom:'24px',textAlign:'left',maxHeight:'200px',overflowY:'auto'}}>
            <div style={{fontWeight:700,marginBottom:'10px',fontSize:'0.85rem',color:'rgba(255,255,255,0.5)',textTransform:'uppercase',letterSpacing:'1px'}}>Question Review</div>
            {history.map((h,i) => (
              <div key={i} style={{display:'flex',alignItems:'flex-start',gap:'10px',padding:'8px 0',borderBottom:i<history.length-1?'1px solid rgba(255,255,255,0.05)':'none',fontSize:'0.85rem'}}>
                <span style={{color:h.correct?'#2ed573':'#ff4757',fontWeight:700,flexShrink:0,width:'20px'}}>{h.correct?'✓':'✗'}</span>
                <span style={{color:'rgba(255,255,255,0.7)'}}>{h.question}</span>
              </div>
            ))}
          </div>
          <Btn onClick={() => startGame(gameMode)}>PLAY AGAIN! 🔄</Btn>
          {gameMode !== 'classic' && (
            <button onClick={() => { setScreen('title'); sound.click(); }}
              style={{marginTop:'8px',background:'rgba(255,255,255,0.08)',border:'1px solid rgba(255,255,255,0.15)',
                borderRadius:'12px',padding:'10px 24px',color:'rgba(255,255,255,0.6)',fontSize:'0.85rem',cursor:'pointer',
                display:'block',margin:'8px auto 0'}}
              onMouseOver={e=>{e.target.style.color='#fff';}} onMouseOut={e=>{e.target.style.color='rgba(255,255,255,0.6)';}}>
              Change Mode →
            </button>
          )}
          <button onClick={() => { setScreen('profile'); sound.click(); }}
            style={{marginTop:'12px',background:'rgba(255,255,255,0.08)',border:'1px solid rgba(255,255,255,0.15)',
              borderRadius:'12px',padding:'10px 24px',color:'rgba(255,255,255,0.6)',fontSize:'0.85rem',cursor:'pointer',
              display:'block',margin:'12px auto 0'}}
            onMouseOver={e=>{e.target.style.color='#fff';}} onMouseOut={e=>{e.target.style.color='rgba(255,255,255,0.6)';}}>
            View Profile →
          </button>
          <div style={{marginTop:'12px',fontSize:'0.8rem',color:'rgba(255,255,255,0.3)'}}>
            {mapProgress.discovered.length} countries discovered • {badges.earned.length}/{ALL_BADGE_DEFINITIONS.length} badges{badges.earned.some(id => SECRET_BADGE_DEFINITIONS.find(b=>b.id===id)) ? ' (🕵️ secrets found!)' : ''}
          </div>
        </div>
      </div>
    );
  }

  return null;
}

        const root = ReactDOM.createRoot(document.getElementById("root"));
        root.render(React.createElement(GeoBeeGame));
    </script>
</body>
</html>